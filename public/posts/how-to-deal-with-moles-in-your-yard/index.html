<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Deal With Moles in Your Yard | Pest Policy</title>
<meta name="keywords" content="
   guides, mole, your">


<meta name="description" content="The sudden appearance of unsightly mounds of soil and raised ridges crisscrossing your perfectly manicured lawn can be a frustrating sight for any homeowne...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-deal-with-moles-in-your-yard/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-deal-with-moles-in-your-yard/">

 
<meta name="twitter:title" content="How to Deal With Moles in Your Yard | Pest Policy" />


<meta name="twitter:description" content="The sudden appearance of unsightly mounds of soil and raised ridges crisscrossing your perfectly manicured lawn can be a frustrating sight for any homeowne..." />
<meta property="og:title" content="How to Deal With Moles in Your Yard | Pest Policy" />
<meta property="og:description" content="The sudden appearance of unsightly mounds of soil and raised ridges crisscrossing your perfectly manicured lawn can be a frustrating sight for any homeowne..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-deal-with-moles-in-your-yard/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Deal With Moles in Your Yard",
      "item": "http://localhost:1313/posts/how-to-deal-with-moles-in-your-yard/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Deal With Moles in Your Yard | Pest Policy",
  "name": "How to Deal With Moles in Your Yard",
  "description": "The sudden appearance of unsightly mounds of soil and raised ridges crisscrossing your perfectly manicured lawn can be a frustrating sight for any homeowne...",
  "keywords": [
    "guides", "mole", "your"
  ],
  "wordCount" : "1289",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-deal-with-moles-in-your-yard/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Deal With Moles in Your Yard</h1>
    <div class="post-description">The sudden appearance of unsightly mounds of soil and raised ridges crisscrossing your perfectly manicured lawn can be a frustrating sight for any homeowne...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/mole/">Mole</a><a href="http://localhost:1313/tags/your/">Your</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>The sudden appearance of unsightly mounds of soil and raised ridges crisscrossing your perfectly manicured lawn can be a frustrating sight for any homeowner. These tell-tale signs are the unmistakable work of moles, subterranean mammals whose relentless tunneling can wreak havoc on turf, disrupt plant roots, and create an uneven, hazardous surface. While moles don&rsquo;t typically feed on plants themselves, their search for insects and grubs can cause significant secondary damage to your garden and lawn.</p>
<p>Dealing with moles requires persistence and often a multi-pronged approach. There&rsquo;s no single magic bullet, and what works for one person might not work for another. Understanding <a href="/posts/how-can-you-tell-if-you-have-moles-in-your-yard/">mole</a> behavior and employing a combination of deterrents, traps, and habitat modification are key to reclaiming <a href="/posts/how-to-grow-broccoli-in-your-vegetable-garden/">your</a> yard from these elusive excavators. This guide will explore effective strategies to manage and eliminate moles, helping you restore the beauty and integrity of your outdoor space.</p>
<h2 id="understanding-mole-behavior">Understanding Mole Behavior<a hidden class="anchor" aria-hidden="true" href="#understanding-mole-behavior">¶</a></h2>
<p>Before attempting to control moles, it&rsquo;s crucial to understand a few things about them:</p>
<ul>
<li><strong>Diet:</strong> Moles are insectivores. Their primary diet consists of earthworms, grubs, and other subterranean insects. They do <strong>not</strong> typically eat plant roots, bulbs, or vegetables (that&rsquo;s usually voles or gophers). They tunnel in search of food.</li>
<li><strong>Tunneling:</strong> Moles create two types of tunnels:
<ul>
<li><strong>Surface Tunnels:</strong> These are the raised ridges you see just beneath the turf, often used for foraging for food. They are typically temporary.</li>
<li><strong>Deep Tunnels:</strong> These are permanent tunnels, often 15-60 cm (6-24 inches) deep, used for travel, nesting, and food storage. The molehills (volcano-shaped mounds) are the result of moles pushing excess soil from these deep tunnels to the surface.</li>
</ul>
</li>
<li><strong>Activity:</strong> Moles are active year-round, though their tunneling activity might be more noticeable during moist periods in spring and fall when the ground is soft and easy to dig, and food sources are abundant.</li>
<li><strong>Solitary Nature:</strong> Moles are largely solitary creatures. While you might see extensive tunneling, it&rsquo;s often the work of just one or two moles.</li>
</ul>
<h2 id="top-methods-to-deal-with-moles">Top Methods to Deal with Moles<a hidden class="anchor" aria-hidden="true" href="#top-methods-to-deal-with-moles">¶</a></h2>
<p>A combination of methods often yields the best results. Start with the least invasive and escalate if necessary.</p>
<h3 id="1-trapping-most-effective-method">1. Trapping (Most Effective Method)<a hidden class="anchor" aria-hidden="true" href="#1-trapping-most-effective-method">¶</a></h3>
<p>Trapping is widely considered the most effective way to eliminate moles. There are several types of traps available:</p>
<ul>
<li><strong>Harpoon (Spear) Traps:</strong> These have spikes that are driven into the mole when triggered.
<ul>
<li><strong>Placement:</strong> Set over active surface tunnels (press down a section of a surface tunnel; if it&rsquo;s pushed back up within 24 hours, it&rsquo;s active).</li>
<li><strong>Pros:</strong> Highly effective when placed correctly.</li>
<li><strong>Cons:</strong> Can be dangerous if not handled properly. Not suitable for rocky soil.</li>
</ul>
</li>
<li><strong>Scissor-Jaw Traps:</strong> These traps grab the mole from the sides.
<ul>
<li><strong>Placement:</strong> Set in main runways, often requiring digging down to a deep tunnel.</li>
<li><strong>Pros:</strong> Very effective.</li>
<li><strong>Cons:</strong> Requires digging, can be dangerous.</li>
</ul>
</li>
<li><strong>Choker Loop (Body Grip) Traps:</strong> These traps encircle and constrict the mole.
<ul>
<li><strong>Placement:</strong> Best for main runways or deep tunnels.</li>
<li><strong>Pros:</strong> Effective, often reusable.</li>
<li><strong>Cons:</strong> Requires careful setting.</li>
</ul>
</li>
</ul>
<p><strong>Key to Trapping Success:</strong></p>
<ul>
<li><strong>Identify Active Tunnels:</strong> This is crucial. Look for fresh mounds or tunnels that have been pushed back up after being flattened.</li>
<li><strong>Wear Gloves:</strong> Moles have a strong sense of smell and can detect human scent, which may cause them to avoid traps.</li>
<li><strong>Set Firmly:</strong> Ensure traps are set firmly and flush with the ground.</li>
<li><strong>Patience:</strong> It might take a few days for a mole to encounter the trap. Relocate traps if no activity is observed after a few days.</li>
<li><strong>Safety:</strong> Always read and follow manufacturer instructions. Keep children and pets away from set traps.</li>
</ul>
<h3 id="2-baits">2. Baits<a hidden class="anchor" aria-hidden="true" href="#2-baits">¶</a></h3>
<p>Mole baits typically resemble earthworms or grubs, which are moles&rsquo; natural food sources. They contain a toxic ingredient, often bromethalin.</p>
<ul>
<li><strong>Placement:</strong> Place baits directly into active mole tunnels, following product instructions. Close the tunnel entrance after placement.</li>
<li><strong>Pros:</strong> Less labor-intensive than trapping, no dead animal to dispose of.</li>
<li><strong>Cons:</strong> Can be slow-acting. Risk of secondary poisoning to other animals if a mole is eaten by a predator after consuming bait. Effectiveness can vary, as moles can sometimes detect foreign objects or chemicals.</li>
<li><strong>Caution:</strong> Always use baits as directed. Keep away from children and pets.</li>
</ul>
<h3 id="3-repellents">3. Repellents<a hidden class="anchor" aria-hidden="true" href="#3-repellents">¶</a></h3>
<p>Repellents aim to make your yard less appealing to moles.</p>
<ul>
<li><strong>Castor Oil-Based Repellents:</strong> These are the most common type. They work by making the moles&rsquo; food source (insects/worms) unpalatable and giving the soil an unpleasant odor.
<ul>
<li><strong>Application:</strong> Available as granular products or concentrates that you mix with water and apply with a sprayer. Apply over affected areas, following product instructions.</li>
<li><strong>Pros:</strong> Non-toxic to moles, humans, and pets.</li>
<li><strong>Cons:</strong> Requires repeated application, especially after rain or irrigation. Moles may simply move to an untreated area of your yard or a neighbor&rsquo;s. Effectiveness can be inconsistent.</li>
</ul>
</li>
<li><strong>Vibrating/Sonic Repellents:</strong> Devices that emit vibrations or sounds into the ground, supposedly to scare moles away.
<ul>
<li><strong>Pros:</strong> Easy to install.</li>
<li><strong>Cons:</strong> Scientific evidence supporting their effectiveness is limited. Moles may become accustomed to the vibrations/sounds.</li>
</ul>
</li>
</ul>
<h3 id="4-habitat-modification-long-term-strategy">4. Habitat Modification (Long-Term Strategy)<a hidden class="anchor" aria-hidden="true" href="#4-habitat-modification-long-term-strategy">¶</a></h3>
<p>Reducing the mole&rsquo;s food source can make your yard less attractive.</p>
<ul>
<li><strong>Grub Control:</strong> If your lawn has a significant grub problem, controlling grubs (with milky spore, beneficial nematodes, or chemical insecticides) can reduce a major food source for moles.
<ul>
<li><strong>Caution:</strong> Don&rsquo;t eliminate all grubs if you don&rsquo;t have a major grub problem, as earthworms are also a primary mole food and are beneficial to soil health. Also, using broad-spectrum insecticides can harm beneficial insects.</li>
</ul>
</li>
<li><strong>Improve Lawn Health:</strong> A healthy, dense lawn that drains well is less prone to mole activity than a struggling, waterlogged one.
<ul>
<li><strong>Aeration:</strong> Reduces soil compaction, which can make it harder for moles to tunnel.</li>
<li><strong>Proper Watering:</strong> Avoid overwatering.</li>
</ul>
</li>
</ul>
<h3 id="5-flooding-tunnels-generally-ineffective-and-not-recommended">5. Flooding Tunnels (Generally Ineffective and Not Recommended)<a hidden class="anchor" aria-hidden="true" href="#5-flooding-tunnels-generally-ineffective-and-not-recommended">¶</a></h3>
<ul>
<li><strong>Method:</strong> Running a hose into a mole tunnel.</li>
<li><strong>Cons:</strong> Moles are excellent swimmers and can often escape. This usually just displaces them, or they create new tunnels. It can also lead to waterlogging your lawn, which isn&rsquo;t ideal.</li>
</ul>
<h3 id="6-homemade-remedies-often-ineffective">6. Homemade Remedies (Often Ineffective)<a hidden class="anchor" aria-hidden="true" href="#6-homemade-remedies-often-ineffective">¶</a></h3>
<p>Many homemade remedies like human hair, mothballs, broken glass, or chewing gum are often suggested but have little to no scientific backing for their effectiveness and can sometimes be harmful to the environment or pets.</p>
<h2 id="how-to-keep-moles-from-returning">How To Keep Moles from Returning<a hidden class="anchor" aria-hidden="true" href="#how-to-keep-moles-from-returning">¶</a></h2>
<p>Once you&rsquo;ve cleared your yard of moles, the goal is to prevent re-infestation.</p>
<ul>
<li><strong>Regular Monitoring:</strong> Continually inspect your lawn for new mole activity (fresh mounds or tunnels). Early detection allows for swift and easier intervention.</li>
<li><strong>Boundary Protection (Physical Barriers):</strong>
<ul>
<li>For small, high-value areas (e.g., raised garden beds), you can install wire mesh (hardware cloth) or a similar barrier vertically into the ground, at least 60 cm (2 feet) deep, extending a few inches above ground. This creates a physical barrier that moles cannot tunnel under.</li>
</ul>
</li>
<li><strong>Maintain a Healthy Lawn:</strong> A thriving lawn is more resilient and less appealing to moles in the long run. Follow proper cultural practices for turf care.</li>
<li><strong>Consider Deterrent Plants:</strong> Some plants, like castor bean (highly toxic, use with extreme caution and away from pets/children) or crown imperial (<em>Fritillaria imperialis</em>), are said to deter moles, though evidence is anecdotal.</li>
<li><strong>Address Food Sources:</strong> Maintain a balanced approach to grub control. Eliminate excessive grub populations, but avoid harming beneficial earthworms that contribute to soil health.</li>
</ul>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>Dealing with moles in your yard can be a frustrating and ongoing battle. There&rsquo;s no single magic solution, and success often comes down to persistence and a willingness to try different methods. Trapping remains the most reliable method for immediate mole removal, while repellents and habitat modification can offer long-term deterrence. Remember to identify active tunnels, apply methods carefully, and maintain a healthy lawn to create an environment that&rsquo;s less appealing to these subterranean pests. With a bit of patience and the right strategy, you can reclaim your yard and enjoy a smooth, mole-free lawn once again.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-deal-with-grass-fungal-diseases-in-your-lawn/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Deal With Grass Fungal Diseases in Your Lawn</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-deal-with-mushrooms-in-your-yard/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Deal With Mushrooms in Your Yard</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
