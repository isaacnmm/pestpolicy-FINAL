<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Repot Houseplants | Pest Policy</title>
<meta name="keywords" content="
   guides, houseplant, start">


<meta name="description" content="Just like children outgrow their shoes, houseplants eventually outgrow their pots. Repotting is a fundamental aspect of houseplant care, essential for main...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-repot-houseplants/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-repot-houseplants/">

 
<meta name="twitter:title" content="How to Repot Houseplants | Pest Policy" />


<meta name="twitter:description" content="Just like children outgrow their shoes, houseplants eventually outgrow their pots. Repotting is a fundamental aspect of houseplant care, essential for main..." />
<meta property="og:title" content="How to Repot Houseplants | Pest Policy" />
<meta property="og:description" content="Just like children outgrow their shoes, houseplants eventually outgrow their pots. Repotting is a fundamental aspect of houseplant care, essential for main..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-repot-houseplants/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Repot Houseplants",
      "item": "http://localhost:1313/posts/how-to-repot-houseplants/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Repot Houseplants | Pest Policy",
  "name": "How to Repot Houseplants",
  "description": "Just like children outgrow their shoes, houseplants eventually outgrow their pots. Repotting is a fundamental aspect of houseplant care, essential for main...",
  "keywords": [
    "guides", "houseplant", "start"
  ],
  "wordCount" : "1730",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-repot-houseplants/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Repot Houseplants</h1>
    <div class="post-description">Just like children outgrow their shoes, houseplants eventually outgrow their pots. Repotting is a fundamental aspect of houseplant care, essential for main...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/houseplant/">Houseplant</a><a href="http://localhost:1313/tags/start/">Start</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Just like children outgrow their shoes, houseplants eventually outgrow their pots. Repotting is a fundamental aspect of <a href="/posts/how-to-grow-pineapples-as-houseplants/">houseplant</a> care, essential for maintaining your plant&rsquo;s health, promoting vigorous growth, and preventing common issues like root rot or nutrient deficiencies. Over time, potting mix degrades, losing its structure, aeration, and nutrient-holding capacity, while roots can become so dense that they choke the plant. A fresh pot and new soil provide a much-needed refresh, allowing roots to breathe, expand, and access vital resources.</p>
<p>While the idea of disturbing a thriving plant might seem daunting to some, repotting is a straightforward process when approached with the right knowledge and tools. Understanding when your plant needs a new home, gathering the appropriate supplies, and following a few simple steps will ensure a smooth transition and set your houseplant up for continued success. This guide will walk you through the entire repotting process, from identifying the signs of a root-bound plant to providing essential aftercare, helping you give your beloved indoor greenery the fresh start it deserves.</p>
<hr>
<h2 id="when-to-repot-your-houseplants">When to Repot Your Houseplants<a hidden class="anchor" aria-hidden="true" href="#when-to-repot-your-houseplants">¶</a></h2>
<p>Knowing <em>when</em> to repot is just as important as knowing <em>how</em>. Look for these tell-tale signs:</p>
<ol>
<li><strong>Roots Emerging from Drainage Holes:</strong> This is the most common and obvious sign that your plant has outgrown its current pot and its roots are searching for more space and nutrients.</li>
<li><strong>Roots Circling the Pot:</strong> If you gently slide the plant out of its pot and see a dense mat of roots circling the inside, it&rsquo;s root-bound and needs repotting.</li>
<li><strong>Stunted Growth:</strong> If your plant&rsquo;s growth has slowed significantly, or it appears generally unhealthy despite adequate watering and light, it might be struggling due to a constricted root system.</li>
<li><strong>Water Runs Straight Through:</strong> When water immediately drains out the bottom of the pot, it indicates that the root ball is so dense there&rsquo;s little soil left to absorb and hold moisture.</li>
<li><strong>Plant Becomes Top-Heavy:</strong> A large plant in a small pot might frequently tip over, indicating it needs a more stable base.</li>
<li><strong>Salt/Mineral Buildup:</strong> A white, crusty residue on the soil surface or pot rim can signify a buildup of salts from tap water or fertilizers, which can be harmful to roots. Repotting allows you to refresh the soil.</li>
<li><strong>Degraded Potting Mix:</strong> Over time, potting mix breaks down, becoming dense, compacted, or &ldquo;muddy.&rdquo; This reduces aeration and drainage.</li>
<li><strong>Timing:</strong>
<ul>
<li><strong>Best Time:</strong> Generally, the best time to repot is in <strong>spring</strong> or <strong>early summer</strong>, just before or at the beginning of the plant&rsquo;s active growth phase. This allows the plant to recover quickly from transplant shock and utilize the new resources.</li>
<li><strong>Avoid:</strong> Avoid repotting in fall or winter when most houseplants are dormant or growing slowly, as they will be more susceptible to shock.</li>
<li><strong>Nairobi Context:</strong> As Nairobi has two main rainy seasons and generally consistent warmth, active growth periods are less distinct than in temperate climates. Repotting can generally occur at the start of either the <strong>long rains (March-April)</strong> or <strong>short rains (October-November)</strong>, when conditions are favorable for growth, or during the <strong>cooler dry season (June-August)</strong> if consistent watering can be maintained. Avoid the very hot, dry season (January-February).</li>
</ul>
</li>
</ol>
<hr>
<h2 id="supplies-needed-for-repotting">Supplies Needed for Repotting<a hidden class="anchor" aria-hidden="true" href="#supplies-needed-for-repotting">¶</a></h2>
<p>Having everything ready beforehand makes the process smoother.</p>
<ol>
<li><strong>New Pot:</strong>
<ul>
<li><strong>Size:</strong> Choose a pot that is only <strong>1-2 inches (2.5-5 cm) larger in diameter</strong> than the current pot. Going too big can lead to overwatering and root rot because the large volume of soil holds too much moisture for the current root system.</li>
<li><strong>Drainage Holes:</strong> <strong>Absolutely essential.</strong> Never use a pot without drainage holes.</li>
<li><strong>Material:</strong> Terracotta (porous, allows roots to breathe, dries faster) or plastic (retains moisture longer, lighter) � choose based on plant needs and aesthetic preference.</li>
</ul>
</li>
<li><strong>Fresh Potting Mix:</strong>
<ul>
<li><strong>Specific to Plant:</strong> Use a high-quality, fresh potting mix appropriate for your plant type.
<ul>
<li><strong>General Houseplants:</strong> All-purpose indoor potting mix.</li>
<li><strong>Cacti/Succulents:</strong> Gritty, fast-draining cactus/succulent mix.</li>
<li><strong>Orchids:</strong> Orchid bark mix.</li>
<li><strong>Acid-loving plants (e.g., Azaleas, Camellias indoors):</strong> Acidic potting mix.</li>
</ul>
</li>
<li><strong>Never use garden soil:</strong> It&rsquo;s too dense for pots and can contain pests or diseases.</li>
</ul>
</li>
<li><strong>Trowel or Small Shovel:</strong> For scooping and backfilling soil.</li>
<li><strong>Pruning Shears or Scissors:</strong> Clean and sharp, for trimming roots or dead foliage.</li>
<li><strong>Newspaper or Tarp:</strong> To protect your work surface from soil spills.</li>
<li><strong>Watering Can:</strong> For post-repotting watering.</li>
<li><strong>Gloves (Optional):</strong> To keep hands clean.</li>
</ol>
<hr>
<h2 id="step-by-step-guide-to-repotting-houseplants">Step-by-Step Guide to Repotting Houseplants<a hidden class="anchor" aria-hidden="true" href="#step-by-step-guide-to-repotting-houseplants">¶</a></h2>
<p>Follow these steps carefully for a successful repotting experience.</p>
<ol>
<li><strong>Prepare Your Workspace:</strong> Lay down newspaper or a tarp to catch spilled soil. Have all your supplies within reach.</li>
<li><strong>Pre-Water the Plant (Optional but Recommended):</strong> Lightly water the plant a day or two before repotting. This makes the root ball easier to remove and less likely to fall apart.</li>
<li><strong>Prepare the New Pot:</strong> If using a new terracotta pot, soak it in water for 15-30 minutes beforehand to prevent it from wicking moisture too quickly from the new soil. Place a piece of mesh screen or a broken pot shard (concave side up) over the drainage hole to prevent soil from washing out while allowing water to drain freely. Do NOT use a layer of gravel.</li>
<li><strong>Remove the Plant from its Old Pot:</strong>
<ul>
<li>Gently tip the plant on its side.</li>
<li>Grasp the base of the plant (where it meets the soil) firmly.</li>
<li>Gently pull the plant out while simultaneously tapping the pot against your work surface or squeezing flexible plastic pots.</li>
<li>If stubborn, use a knife or trowel to loosen the soil around the edges of the pot. <strong>Never pull the plant by its stem/trunk, as this can damage it.</strong></li>
</ul>
</li>
<li><strong>Inspect and Prepare the Root Ball:</strong>
<ul>
<li>Gently loosen any roots that are circling the bottom or sides of the root ball. You can use your fingers or a small tool to tease them apart. This encourages them to grow outwards into the new soil.</li>
<li>If the plant is severely root-bound, you may need to make a few vertical cuts (about 1 inch deep) on the sides of the root ball with a clean knife to encourage new root growth.</li>
<li>Trim off any soft, mushy, dark, or foul-smelling roots (signs of root rot). Also, prune any overly long or circling roots to encourage branching.</li>
</ul>
</li>
<li><strong>Add Potting Mix to the New Pot:</strong> Pour a layer of fresh potting mix into the bottom of the new pot. The amount should be sufficient so that when the plant is placed on top, the base of the plant (where the stems meet the soil) will be at the same level as, or slightly below, the rim of the new pot (leaving about 1-2 inches / 2.5-5 cm of headroom for watering).</li>
<li><strong>Position the Plant:</strong> Center the plant in the new pot. Double-check the soil level � it&rsquo;s crucial not to bury the stem too deep, especially for plants like succulents.</li>
<li><strong>Backfill with Potting Mix:</strong> Carefully fill the remaining space around the root ball with fresh potting mix. Gently tamp down the soil with your fingers or the trowel to remove large air pockets, but avoid compacting it too tightly. You want it firm but still airy.</li>
<li><strong>Water Thoroughly:</strong> Water the newly repotted plant deeply until water drains freely from the bottom of the pot. This helps settle the soil around the roots.</li>
<li><strong>Clean Up:</strong> Tidy your workspace and wipe down the new pot.</li>
</ol>
<hr>
<h2 id="caring-for-newly-repotted-plants">Caring for Newly Repotted Plants<a hidden class="anchor" aria-hidden="true" href="#caring-for-newly-repotted-plants">¶</a></h2>
<p>The first few weeks after repotting are crucial for recovery.</p>
<ol>
<li><strong>Initial Watering:</strong> As mentioned, water thoroughly immediately after repotting.</li>
<li><strong>Avoid Fertilizing:</strong> Do not fertilize for at least 4-6 weeks (or longer) after repotting. The fresh potting mix contains sufficient nutrients, and newly disturbed roots are sensitive to fertilizer burn.</li>
<li><strong>Reduce Stress:</strong>
<ul>
<li><strong>Light:</strong> Place the plant in a slightly less intense light spot for the first week or two than its usual location. Avoid direct, harsh sunlight immediately after repotting.</li>
<li><strong>Humidity:</strong> If your home is dry, consider increasing humidity around the plant (e.g., using a pebble tray or humidifier) to help it recover.</li>
</ul>
</li>
<li><strong>Monitor Watering:</strong> For the first few weeks, monitor the soil moisture carefully. The new, larger volume of soil will dry out more slowly than the old, root-bound soil. Adjust your watering frequency accordingly to prevent overwatering.</li>
<li><strong>Patience:</strong> Expect a period of &ldquo;transplant shock&rdquo; where the plant might look a bit droopy or show no new growth. This is normal. Be patient, and it should bounce back within a few weeks as its roots settle into the new environment.</li>
</ol>
<hr>
<h2 id="common-mistakes-to-avoid-when-repotting">Common Mistakes to Avoid When Repotting<a hidden class="anchor" aria-hidden="true" href="#common-mistakes-to-avoid-when-repotting">¶</a></h2>
<ul>
<li><strong>Going Too Big:</strong> Using a pot that is too large is the most common mistake. It leads to excess soil holding too much moisture, promoting root rot.</li>
<li><strong>No Drainage Holes:</strong> A death sentence for almost all houseplants.</li>
<li><strong>Using Garden Soil:</strong> Too heavy, compacts easily, and can introduce pests/diseases.</li>
<li><strong>Burying the Stem Too Deep:</strong> Can lead to stem rot, especially for succulents and cacti.</li>
<li><strong>Fertilizing Too Soon:</strong> Risk of root burn.</li>
<li><strong>Overwatering After Repotting:</strong> The new soil holds more moisture, so adjust your watering schedule.</li>
<li><strong>Not Loosening Roots:</strong> Roots will continue to circle and strangle themselves if not teased apart.</li>
<li><strong>Repotting at the Wrong Time:</strong> Repotting during dormancy can prolong shock and hinder recovery.</li>
</ul>
<hr>
<h2 id="repotting-specific-types-of-houseplants">Repotting Specific Types of Houseplants<a hidden class="anchor" aria-hidden="true" href="#repotting-specific-types-of-houseplants">¶</a></h2>
<p>While the general steps apply, some plants have specific nuances:</p>
<ul>
<li><strong>Orchids:</strong> Use orchid-specific bark mix. Repot only when absolutely necessary (e.g., media breaking down, roots emerging everywhere).</li>
<li><strong>Cacti &amp; Succulents:</strong> Use a gritty, fast-draining mix. Ensure the plant is dry before repotting to prevent rot. Use gloves or newspaper for spiny types.</li>
<li><strong>Ficus (e.g., Fiddle Leaf Fig):</strong> These can be sensitive. Provide consistent conditions after repotting. They often like to be slightly root-bound before repotting.</li>
<li><strong>Peace Lilies:</strong> These often tell you they need repotting by wilting dramatically even after watering. They also bloom more when slightly root-bound.</li>
<li><strong>Snake Plants:</strong> Can tolerate being very root-bound. Only repot when the pot is literally cracking or roots are deforming the pot.</li>
</ul>
<hr>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>Repotting houseplants is a vital and straightforward task that significantly contributes to their long-term health and vitality. By recognizing the signs your plant needs a new home, gathering the appropriate supplies, and following the simple steps outlined, you can confidently provide your indoor greenery with the fresh start it needs. Remember to be gentle, choose the right pot size, use fresh, appropriate potting mix, and provide consistent care during the recovery period. With each successful repotting, you&rsquo;ll gain confidence and ensure your beloved houseplants continue to thrive and beautify your living space for years to come.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-repel-raccoons/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Repel Raccoons</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-revive-dead-grass/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Revive Dead Grass</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
