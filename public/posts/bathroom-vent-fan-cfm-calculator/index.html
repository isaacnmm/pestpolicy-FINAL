<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Bathroom Vent Fan Cfm Calculator | Pest Policy</title>
<meta name="keywords" content="
   home-improvement, bathroom, vent">


<meta name="description" content="A bathroom is, by its very nature, a high-humidity zone. Without adequate ventilation, the steam from showers and baths, coupled with general moisture, can...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/bathroom-vent-fan-cfm-calculator/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/bathroom-vent-fan-cfm-calculator/">

 
<meta name="twitter:title" content="Bathroom Vent Fan Cfm Calculator | Pest Policy" />


<meta name="twitter:description" content="A bathroom is, by its very nature, a high-humidity zone. Without adequate ventilation, the steam from showers and baths, coupled with general moisture, can..." />
<meta property="og:title" content="Bathroom Vent Fan Cfm Calculator | Pest Policy" />
<meta property="og:description" content="A bathroom is, by its very nature, a high-humidity zone. Without adequate ventilation, the steam from showers and baths, coupled with general moisture, can..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/bathroom-vent-fan-cfm-calculator/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Bathroom Vent Fan Cfm Calculator",
      "item": "http://localhost:1313/posts/bathroom-vent-fan-cfm-calculator/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Bathroom Vent Fan Cfm Calculator | Pest Policy",
  "name": "Bathroom Vent Fan Cfm Calculator",
  "description": "A bathroom is, by its very nature, a high-humidity zone. Without adequate ventilation, the steam from showers and baths, coupled with general moisture, can...",
  "keywords": [
    "home-improvement", "bathroom", "vent"
  ],
  "wordCount" : "1402",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/bathroom-vent-fan-cfm-calculator/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Bathroom Vent Fan Cfm Calculator</h1>
    <div class="post-description">A bathroom is, by its very nature, a high-humidity zone. Without adequate ventilation, the steam from showers and baths, coupled with general moisture, can...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/home-improvement/">Home-Improvement</a><a href="http://localhost:1313/tags/bathroom/">Bathroom</a><a href="http://localhost:1313/tags/vent/">Vent</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>A <a href="/posts/installing-a-bathroom-vent-fan-through-a-wall/">bathroom</a> is, by its very nature, a high-humidity zone. Without adequate ventilation, the steam from showers and baths, coupled with general moisture, can quickly lead to a host of detrimental issues: mold and mildew growth, peeling paint, warped cabinetry, rusted fixtures, and lingering odors. The humble bathroom <a href="/posts/how-to-maintain-a-bathroom-vent-fan/">vent</a> fan is the primary defense against these problems, working tirelessly to expel humid, stale air and bring in fresh, dry air.</p>
<p>However, simply installing a fan isn&rsquo;t enough. Its effectiveness hinges critically on its <strong>CFM (Cubic Feet per Minute) rating</strong> being properly matched to the size and features of your bathroom. An undersized fan will struggle to remove moisture effectively, leading to ongoing issues, while an oversized fan might be unnecessarily noisy and consume more energy. This is where a <strong>bathroom vent fan CFM calculator</strong> becomes an invaluable tool. Understanding <strong>what CFM is</strong>, <strong>how to measure your bathroom size</strong> accurately, and applying a simple calculation will empower you to select the perfect fan, ensuring optimal humidity control, maintaining good indoor air quality, and protecting your bathroom&rsquo;s structural integrity and finishes for years to come.</p>
<hr>
<h2 id="what-is-cfm">What Is CFM?<a hidden class="anchor" aria-hidden="true" href="#what-is-cfm">¶</a></h2>
<p><strong>CFM stands for Cubic Feet per Minute.</strong> In the context of a bathroom vent fan, CFM is a measure of the volume of air the fan can move or exchange in sixty seconds. A higher CFM rating means the fan can move more air more quickly.</p>
<p>The goal of a bathroom exhaust fan is to perform a certain number of &ldquo;air changes&rdquo; per hour within the room. This means completely replacing the volume of air in the bathroom with fresh air from outside (or from other parts of the house if make-up air is drawn from under the door).</p>
<p><strong>Why CFM Matters:</strong></p>
<ul>
<li><strong>Effective Moisture Removal:</strong> The right CFM ensures the fan can quickly clear steam and humidity after showers, preventing condensation.</li>
<li><strong>Mold &amp; Mildew Prevention:</strong> By controlling moisture, a properly sized fan directly combats the conditions necessary for mold and mildew growth.</li>
<li><strong>Odor Elimination:</strong> A fan with sufficient CFM efficiently removes odors, keeping the bathroom fresh.</li>
<li><strong>Protection of Finishes:</strong> Preventing excess humidity protects paint, wallpaper, drywall, and wooden fixtures from damage.</li>
<li><strong>Energy Efficiency:</strong> A correctly sized fan doesn&rsquo;t have to work overtime to do its job, contributing to energy savings and reducing wear and tear.</li>
</ul>
<hr>
<h2 id="how-to-measure-bathroom-size">How to Measure Bathroom Size<a hidden class="anchor" aria-hidden="true" href="#how-to-measure-bathroom-size">¶</a></h2>
<p>To use a CFM calculator effectively, you&rsquo;ll need accurate measurements of your bathroom.</p>
<ol>
<li><strong>Measure Length and Width:</strong> Use a tape measure to determine the length and width of your bathroom in feet. Round to the nearest half-foot if necessary.</li>
<li><strong>Measure Height:</strong> Measure the height of your bathroom ceiling from the floor to the ceiling in feet. Most standard ceilings are 8 feet high.</li>
</ol>
<h3 id="calculation-method-1-for-bathrooms-up-to-100-square-feet">Calculation Method 1: For Bathrooms Up to 100 Square Feet<a hidden class="anchor" aria-hidden="true" href="#calculation-method-1-for-bathrooms-up-to-100-square-feet">¶</a></h3>
<p>For most standard-sized bathrooms (up to 100 square feet), a simple rule of thumb applies:</p>
<ul>
<li>
<p><strong>Required CFM = Bathroom Square Footage</strong></p>
<ul>
<li>
<p><strong>Step 1:</strong> Calculate the square footage: <code>Length (ft) x Width (ft) = Square Footage (sq ft)</code></p>
</li>
<li>
<p><strong>Step 2:</strong> The calculated square footage is your minimum required CFM.</p>
</li>
<li>
<p><strong>Example:</strong> If your bathroom is 7 feet long and 8 feet wide:</p>
<ul>
<li><code>7 ft x 8 ft = 56 sq ft</code></li>
<li><strong>Minimum required CFM = 56 CFM.</strong></li>
</ul>
</li>
<li>
<p><em>Recommendation:</em> Always round up to the nearest standard fan size available. So, for 56 CFM, you would likely choose a 70 CFM fan.</p>
</li>
</ul>
</li>
</ul>
<h3 id="calculation-method-2-for-bathrooms-over-100-square-feet-or-with-high-ceilings">Calculation Method 2: For Bathrooms Over 100 Square Feet or with High Ceilings<a hidden class="anchor" aria-hidden="true" href="#calculation-method-2-for-bathrooms-over-100-square-feet-or-with-high-ceilings">¶</a></h3>
<p>For larger bathrooms or those with ceilings higher than 8 feet, a more precise calculation based on the room&rsquo;s volume and desired air changes per hour (ACH) is recommended. The industry standard is <strong>8 air changes per hour (ACH)</strong>.</p>
<ul>
<li>
<p><strong>Required CFM = (Bathroom Volume in Cubic Feet / 60 minutes) x 8 (Air Changes Per Hour)</strong></p>
<ul>
<li>
<p><strong>Step 1:</strong> Calculate the bathroom volume: <code>Length (ft) x Width (ft) x Height (ft) = Volume (cubic ft)</code></p>
</li>
<li>
<p><strong>Step 2:</strong> Apply the formula: <code>(Volume / 60) x 8 = Required CFM</code></p>
</li>
<li>
<p><strong>Example:</strong> If your bathroom is 10 feet long, 12 feet wide, and has a 9-foot ceiling:</p>
<ul>
<li><code>10 ft x 12 ft x 9 ft = 1080 cubic ft</code></li>
<li><code>(1080 / 60) x 8 = 18 x 8 = 144 CFM</code></li>
<li><strong>Minimum required CFM = 144 CFM.</strong></li>
</ul>
</li>
<li>
<p><em>Recommendation:</em> Round up to the nearest standard fan size, so you&rsquo;d look for a 150 CFM fan.</p>
</li>
</ul>
</li>
</ul>
<h3 id="additional-cfm-considerations-beyond-room-size">Additional CFM Considerations (Beyond Room Size)<a hidden class="anchor" aria-hidden="true" href="#additional-cfm-considerations-beyond-room-size">¶</a></h3>
<p>Beyond the basic room dimensions, certain bathroom features generate more moisture and odors, requiring additional ventilation capacity. Add these values to your initial CFM calculation:</p>
<ul>
<li><strong>Toilet (separate enclosed area):</strong> Add 50 CFM</li>
<li><strong>Shower (separate enclosed area):</strong> Add 50 CFM</li>
<li><strong>Jetted/Whirlpool Tub:</strong> Add 100 CFM</li>
<li><strong>Large Soaking Tub:</strong> Add 50 CFM</li>
</ul>
<p><strong>Comprehensive Example:</strong></p>
<p>Let&rsquo;s say you have a bathroom that is 8 feet long, 10 feet wide, and 8 feet high, and it includes a separate shower enclosure and a jetted tub.</p>
<ol>
<li>
<p><strong>Basic Square Footage/Volume:</strong></p>
<ul>
<li>Square Footage = 8 ft x 10 ft = 80 sq ft. (So, 80 CFM based on Method 1).</li>
<li><em>Alternatively, Volume = 8 ft x 10 ft x 8 ft = 640 cubic ft. (640 / 60) x 8 = 10.67 x 8 = 85.36 CFM. The 1 CFM per sq ft rule is generally sufficient for 8 ft ceilings.</em> We&rsquo;ll use 80 CFM as the base.</li>
</ul>
</li>
<li>
<p><strong>Add for Fixtures:</strong></p>
<ul>
<li>Separate Shower: + 50 CFM</li>
<li>Jetted Tub: + 100 CFM</li>
</ul>
</li>
<li>
<p><strong>Total Required CFM:</strong></p>
<ul>
<li>80 CFM (base) + 50 CFM (shower) + 100 CFM (jetted tub) = <strong>230 CFM.</strong></li>
</ul>
</li>
</ol>
<p>In this scenario, you would need to look for a fan with a CFM rating of at least 230 CFM, likely a 250 CFM or 300 CFM model.</p>
<hr>
<h2 id="vent-fan-size-recommendations-sone-rating">Vent Fan Size Recommendations (Sone Rating)<a hidden class="anchor" aria-hidden="true" href="#vent-fan-size-recommendations-sone-rating">¶</a></h2>
<p>While CFM dictates ventilation power, the <strong>sone rating</strong> dictates noise level.</p>
<ul>
<li><strong>1.0 sone or less:</strong> Very quiet, almost imperceptible. Ideal for maximum comfort.</li>
<li><strong>1.0 - 2.0 sones:</strong> Quiet operation, noticeable but not intrusive.</li>
<li><strong>2.0 - 3.0 sones:</strong> Noticeable noise level.</li>
<li><strong>Over 3.0 sones:</strong> Quite loud, can be annoying.</li>
</ul>
<p>Always aim for the lowest sone rating possible that meets your CFM requirements, especially for frequently used bathrooms.</p>
<hr>
<h2 id="bathroom-vent-fan-installation">Bathroom Vent Fan Installation<a hidden class="anchor" aria-hidden="true" href="#bathroom-vent-fan-installation">¶</a></h2>
<p>Even the perfectly sized fan won&rsquo;t perform optimally if not installed correctly.</p>
<ul>
<li><strong>Proper Ducting:</strong> Always vent the fan directly to the outside of the house (through a roof cap or wall cap), never into an attic, soffit, or wall cavity.</li>
<li><strong>Duct Material:</strong> Use smooth, rigid metal ducting or insulated flexible ducting (with a smooth interior) of the correct diameter (matching the fan&rsquo;s port). Avoid ribbed plastic flexible duct, which restricts airflow and collects dust.</li>
<li><strong>Airtight Seals:</strong> Seal all duct joints and connections with HVAC-grade foil tape to prevent air leaks.</li>
<li><strong>Insulation:</strong> Insulate any ducting running through unconditioned spaces (like an attic) to prevent condensation inside the duct.</li>
<li><strong>Shortest, Straightest Run:</strong> Minimize duct length and bends to reduce resistance and maximize efficiency.</li>
<li><strong>Make-up Air:</strong> Ensure there&rsquo;s a small gap (e.g., 1/2 to 3/4 inch) under the bathroom door to allow fresh air to enter as humid air is exhausted.</li>
</ul>
<hr>
<h2 id="fan-operation-tips">Fan Operation Tips<a hidden class="anchor" aria-hidden="true" href="#fan-operation-tips">¶</a></h2>
<p>To maximize the benefits of your properly sized fan:</p>
<ul>
<li><strong>Run it During and After:</strong> Always turn the fan on before you start showering or bathing, and leave it running for at least 15-20 minutes <em>after</em> you&rsquo;re done. This allows sufficient time to clear all residual moisture.</li>
<li><strong>Use Timer Switches:</strong> Install a timer switch for convenience. This ensures the fan runs for the recommended duration and then automatically shuts off.</li>
<li><strong>Regular Cleaning:</strong> Periodically clean the fan grille and accessible fan blades to remove dust and lint buildup, which can impede airflow and increase noise.</li>
</ul>
<hr>
<h2 id="so-is-a-bathroom-vent-fan-cfm-calculator-helpful">So, Is a Bathroom Vent Fan CFM Calculator Helpful?<a hidden class="anchor" aria-hidden="true" href="#so-is-a-bathroom-vent-fan-cfm-calculator-helpful">¶</a></h2>
<p>Absolutely. A bathroom vent fan CFM calculator (or simply understanding the underlying calculations) is an incredibly helpful and necessary tool for anyone looking to install or replace a bathroom exhaust fan. It takes the guesswork out of fan selection, ensuring you choose a unit that is perfectly matched to your bathroom&rsquo;s needs.</p>
<p>By correctly sizing your fan, you invest in:</p>
<ul>
<li><strong>Optimal Humidity Control:</strong> Protecting your home from mold, mildew, and moisture damage.</li>
<li><strong>Improved Indoor Air Quality:</strong> Keeping your bathroom fresh and healthy.</li>
<li><strong>Energy Efficiency:</strong> Preventing the fan from running unnecessarily or struggling to do its job.</li>
<li><strong>Long-Term Durability:</strong> Preserving your bathroom&rsquo;s finishes and structural components.</li>
</ul>
<p>Don&rsquo;t underestimate the power of proper ventilation. A correctly sized bathroom exhaust fan is a small but mighty appliance that makes a big difference in the comfort and longevity of your home.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/bathroom-remodeling-houston/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Bathroom Remodeling Houston</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/bbq-party-games-ideas-for-adults/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Bbq Party Games Ideas for Adults</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
