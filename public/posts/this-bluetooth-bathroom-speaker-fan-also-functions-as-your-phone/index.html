<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone | Pest Policy</title>
<meta name="keywords" content="
   guides, bluetooth, bathroom">


<meta name="description" content="The bathroom, once a purely utilitarian space, has rapidly evolved into a sanctuary of relaxation and personal care. With the advent of smart home technolo...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/this-bluetooth-bathroom-speaker-fan-also-functions-as-your-phone/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/this-bluetooth-bathroom-speaker-fan-also-functions-as-your-phone/">

 
<meta name="twitter:title" content="This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone | Pest Policy" />


<meta name="twitter:description" content="The bathroom, once a purely utilitarian space, has rapidly evolved into a sanctuary of relaxation and personal care. With the advent of smart home technolo..." />
<meta property="og:title" content="This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone | Pest Policy" />
<meta property="og:description" content="The bathroom, once a purely utilitarian space, has rapidly evolved into a sanctuary of relaxation and personal care. With the advent of smart home technolo..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/this-bluetooth-bathroom-speaker-fan-also-functions-as-your-phone/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone",
      "item": "http://localhost:1313/posts/this-bluetooth-bathroom-speaker-fan-also-functions-as-your-phone/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone | Pest Policy",
  "name": "This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone",
  "description": "The bathroom, once a purely utilitarian space, has rapidly evolved into a sanctuary of relaxation and personal care. With the advent of smart home technolo...",
  "keywords": [
    "guides", "bluetooth", "bathroom"
  ],
  "wordCount" : "1252",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/this-bluetooth-bathroom-speaker-fan-also-functions-as-your-phone/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">This Bluetooth Bathroom Speaker Fan Also Functions As Your Phone</h1>
    <div class="post-description">The bathroom, once a purely utilitarian space, has rapidly evolved into a sanctuary of relaxation and personal care. With the advent of smart home technolo...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/bluetooth/">Bluetooth</a><a href="http://localhost:1313/tags/bathroom/">Bathroom</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>The <a href="/posts/a-tour-of-chelseas-hall-bathroom-renovation/">bathroom</a>, once a purely utilitarian space, has rapidly evolved into a sanctuary of relaxation and personal care. With the advent of smart home technology, it&rsquo;s no longer just about ventilation and basic lighting; it&rsquo;s about creating an immersive and convenient experience. Among the most intriguing innovations emerging in this space is the <strong>Bluetooth bathroom speaker fan that also functions as your phone</strong>.</p>
<p>While Bluetooth-enabled bathroom exhaust fans with integrated speakers have become somewhat common, allowing you to stream music or podcasts from your device, a select few products are pushing the boundaries further by incorporating features that blur the line between a smart speaker and a hands-free communication device. Imagine taking calls, listening to voicemails, or even interacting with a voice assistant directly through your bathroom fan, all while enjoying a steamy shower or getting ready for your day. This article explores the capabilities of these advanced integrated units, their practical applications, and whether they truly represent the ultimate smart bathroom gadget.</p>
<hr>
<h2 id="what-is-a-bluetooth-bathroom-speaker-fan-with-phone-functionality">What is a Bluetooth Bathroom Speaker Fan with Phone Functionality?<a hidden class="anchor" aria-hidden="true" href="#what-is-a-bluetooth-bathroom-speaker-fan-with-phone-functionality">¶</a></h2>
<p>At its core, this device is an exhaust fan designed to remove moisture and odors from your bathroom, just like a traditional one. However, it integrates two additional, highly desirable features:</p>
<ol>
<li><strong>Bluetooth Speaker:</strong> This allows you to wirelessly connect your smartphone, tablet, or other Bluetooth-enabled device to the fan and stream audio directly into your bathroom. This is a common feature in many modern bathroom fans from brands like Broan-NuTone, Homewerks, and Commercial Electric.</li>
<li><strong>&ldquo;Phone Functionality&rdquo;</strong>: This is where the innovation lies. Instead of just playing audio <em>from</em> your phone, these advanced units incorporate a <strong>microphone</strong> and potentially more sophisticated audio processing to enable two-way communication. This means you can:
<ul>
<li><strong>Take Hands-Free Calls:</strong> Answer incoming calls directly through the fan, speaking into the integrated microphone and hearing the caller through the fan&rsquo;s speaker.</li>
<li><strong>Interact with Voice Assistants:</strong> Use voice commands to activate Siri, Google Assistant, or Alexa on your paired smartphone for tasks like checking the weather, setting reminders, or controlling other smart home devices.</li>
<li><strong>Potentially Voicemail/Messaging (via phone&rsquo;s features):</strong> While the fan itself doesn&rsquo;t store messages, its ability to act as a hands-free speakerphone allows you to listen to voicemails or dictated messages without needing to physically hold your phone in a wet environment.</li>
</ul>
</li>
</ol>
<p>It&rsquo;s important to clarify that the fan itself is <em>not</em> a standalone phone. It acts as an extension or peripheral for your existing smartphone, leveraging Bluetooth technology to facilitate hands-free audio and voice input.</p>
<hr>
<h2 id="how-does-it-work">How Does It Work?<a hidden class="anchor" aria-hidden="true" href="#how-does-it-work">¶</a></h2>
<p>The operation is generally straightforward and leverages standard Bluetooth protocols:</p>
<ol>
<li><strong>Installation:</strong> The unit is installed in your bathroom ceiling, typically replacing an existing exhaust fan. It&rsquo;s hardwired into your home&rsquo;s electrical system, just like any other ceiling fan.</li>
<li><strong>Pairing:</strong> Once powered, the fan enters a Bluetooth pairing mode. You then use your smartphone&rsquo;s Bluetooth settings to search for and connect to the fan&rsquo;s speaker.</li>
<li><strong>Audio Streaming:</strong> Once paired, any audio played on your phone (music, podcasts, streaming services) will be routed through the fan&rsquo;s speaker.</li>
<li><strong>Call Handling (for units with microphone):</strong> When a call comes in, the audio will automatically switch from your media to the call. You can typically answer or decline the call using voice commands (if supported by your phone&rsquo;s OS or a specific app) or by interacting with your phone directly. Your voice is picked up by the fan&rsquo;s integrated microphone and transmitted back to the caller via your phone.</li>
<li><strong>Voice Assistant Integration:</strong> By holding down a button on your paired phone or using a specific voice command, you can activate your phone&rsquo;s native voice assistant, which then uses the fan&rsquo;s speaker for output and its microphone for input.</li>
</ol>
<hr>
<h2 id="practical-applications-and-benefits">Practical Applications and Benefits<a hidden class="anchor" aria-hidden="true" href="#practical-applications-and-benefits">¶</a></h2>
<p>The integration of phone functionality into a bathroom speaker fan offers several compelling benefits:</p>
<ol>
<li><strong>Ultimate Hands-Free Convenience:</strong> In a bathroom, where wet hands and steam are common, handling a smartphone can be risky. This device eliminates that need, allowing you to take calls, check messages, or queue up music without ever touching your device.</li>
<li><strong>Enhanced Safety:</strong> No more juggling a phone or worrying about it slipping into the tub or sink. This reduces the risk of costly damage to your phone or even electrical hazards.</li>
<li><strong>Improved Sound Quality:</strong> Dedicated, purpose-built speakers in the fan generally offer superior sound quality and volume compared to a smartphone&rsquo;s internal speakers, especially in a reverberant bathroom environment.</li>
<li><strong>Privacy and Focus:</strong> You can keep your phone safely outside the bathroom, yet remain connected for important calls or information, without the distraction of notifications flashing on a screen.</li>
<li><strong>Seamless Integration:</strong> It&rsquo;s a discreet, built-in solution that doesn&rsquo;t clutter your countertops with portable speakers or phone stands.</li>
<li><strong>Therapeutic Ambiance:</strong> Combine your favorite music or guided meditations with soothing chromotherapy lighting (if the fan also has integrated LED lights) for a truly spa-like experience.</li>
<li><strong>Multi-tasking Made Easy:</strong> Listen to a podcast while cleaning, take a work call while getting ready, or let your kids enjoy a story while they bathe, all without risking your device.</li>
</ol>
<hr>
<h2 id="considerations-and-potential-drawbacks">Considerations and Potential Drawbacks<a hidden class="anchor" aria-hidden="true" href="#considerations-and-potential-drawbacks">¶</a></h2>
<p>While innovative, these devices aren&rsquo;t without their considerations:</p>
<ol>
<li><strong>Cost:</strong> Integrated units with advanced features will naturally be more expensive than basic exhaust fans or separate Bluetooth speakers.</li>
<li><strong>Installation Complexity:</strong> While some are designed for DIY-friendly installation, others might require an electrician due to wiring requirements, especially if you&rsquo;re upgrading an older fan or adding new electrical lines.</li>
<li><strong>Microphone Quality:</strong> The quality of the integrated microphone can vary. In a noisy or reverberant bathroom, clarity might be an issue for callers on the other end.</li>
<li><strong>Bluetooth Range and Connectivity:</strong> Like all Bluetooth devices, range can be a factor. If your phone is too far from the fan, or if there are too many obstacles, the connection might drop.</li>
<li><strong>Privacy Concerns (General Bluetooth):</strong> While convenient, remember that Bluetooth speakers can sometimes connect to the closest paired device, which might lead to unexpected audio playback if multiple household members have their phones nearby. Most units offer a way to disconnect or &ldquo;forget&rdquo; devices.</li>
<li><strong>Limited &ldquo;Phone&rdquo; Features:</strong> It&rsquo;s important to manage expectations. This isn&rsquo;t a full smartphone replacement. You won&rsquo;t be Browse the internet or watching videos on your fan. Its &ldquo;phone&rdquo; functionality is limited to audio input/output for calls and voice assistants.</li>
<li><strong>Durability in Moisture:</strong> While designed for bathrooms, like all electronics in high-humidity environments, longevity can be a concern. Look for units with appropriate IP ratings for moisture resistance.</li>
</ol>
<hr>
<h2 id="is-it-the-ultimate-smart-bathroom-gadget">Is It the Ultimate Smart Bathroom Gadget?<a hidden class="anchor" aria-hidden="true" href="#is-it-the-ultimate-smart-bathroom-gadget">¶</a></h2>
<p>For many, a Bluetooth bathroom speaker fan with integrated phone functionality absolutely qualifies as an ultimate smart bathroom gadget. It addresses real-world pain points like phone handling in wet environments, offers superior audio quality compared to standalone phones, and provides a seamless, hands-free communication experience.</p>
<p>It caters to a modern lifestyle where connectivity and convenience are paramount, even in personal spaces like the bathroom. If you&rsquo;re someone who enjoys music or podcasts in the shower, frequently takes calls, or uses voice assistants throughout your day, this integrated solution offers a level of sophistication and practicality that a simple portable speaker cannot match.</p>
<p>However, if your primary goal is just ventilation, or if you prefer to completely disconnect in the bathroom, a simpler fan or a standalone waterproof speaker might suffice. For those who embrace smart home technology and seek to maximize both function and luxury in every corner of their home, this innovative blend of essential bathroom appliance and personal communication hub is certainly a strong contender for the title of the ultimate smart bathroom gadget. It transforms routine tasks into enjoyable, connected experiences.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/the-ultimate-guide-to-hikes-around-seattle-washington/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>The Ultimate Guide to Hikes Around Seattle Washington</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/thrift-drain-cleaner-review/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Thrift Drain Cleaner Review</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
