<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Grow Vegetables Year Round | Pest Policy</title>
<meta name="keywords" content="
   guides, vegetable, year-round">


<meta name="description" content="The dream of a continuous harvest, plucking fresh, homegrown vegetables from your garden regardless of the season, is attainable for many gardeners. While ...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-grow-vegetables-year-round/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-grow-vegetables-year-round/">

 
<meta name="twitter:title" content="How to Grow Vegetables Year Round | Pest Policy" />


<meta name="twitter:description" content="The dream of a continuous harvest, plucking fresh, homegrown vegetables from your garden regardless of the season, is attainable for many gardeners. While ..." />
<meta property="og:title" content="How to Grow Vegetables Year Round | Pest Policy" />
<meta property="og:description" content="The dream of a continuous harvest, plucking fresh, homegrown vegetables from your garden regardless of the season, is attainable for many gardeners. While ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-grow-vegetables-year-round/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Grow Vegetables Year Round",
      "item": "http://localhost:1313/posts/how-to-grow-vegetables-year-round/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Grow Vegetables Year Round | Pest Policy",
  "name": "How to Grow Vegetables Year Round",
  "description": "The dream of a continuous harvest, plucking fresh, homegrown vegetables from your garden regardless of the season, is attainable for many gardeners. While ...",
  "keywords": [
    "guides", "vegetable", "year-round"
  ],
  "wordCount" : "1295",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-grow-vegetables-year-round/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Grow Vegetables Year Round</h1>
    <div class="post-description">The dream of a continuous harvest, plucking fresh, homegrown vegetables from your garden regardless of the season, is attainable for many gardeners. While ...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/vegetable/">Vegetable</a><a href="http://localhost:1313/tags/year-round/">Year-Round</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>The dream of a continuous harvest, plucking fresh, homegrown vegetables from your garden regardless of the season, is attainable for many gardeners. While the traditional gardening calendar often dictates a distinct planting and harvesting period followed by dormancy, with strategic planning and a few clever techniques, you can extend your growing season significantly, even in climates with harsh winters or distinct dry seasons.</p>
<p>Year-round vegetable gardening isn&rsquo;t just about defying the weather; it&rsquo;s about maximizing your garden&rsquo;s potential, reducing food miles, and enjoying the freshest produce possible. Whether you&rsquo;re in a temperate region with four distinct seasons or a tropical climate with wet and dry periods, understanding key principles of succession planting, season extension, and appropriate crop selection will be your guide. This article will delve into the methods and considerations necessary to keep your vegetable patch productive all year long.</p>
<hr>
<h2 id="understanding-your-climate-and-microclimates">Understanding Your Climate and Microclimates<a hidden class="anchor" aria-hidden="true" href="#understanding-your-climate-and-microclimates">¶</a></h2>
<p>The first step to year-round gardening is a thorough understanding of your specific climate.</p>
<ul>
<li><strong>Temperate Climates (with distinct seasons):</strong> Focus on protecting plants from cold, extending warmth, and utilizing cold-hardy varieties.
<ul>
<li><strong>Winter:</strong> Short days, freezing temperatures, snow. Requires significant protection and cold-tolerant crops.</li>
<li><strong>Spring:</strong> Warming temperatures, increasing light. Ideal for cool-season crops.</li>
<li><strong>Summer:</strong> Long days, high temperatures. Ideal for warm-season crops.</li>
<li><strong>Autumn:</strong> Cooling temperatures, decreasing light. Ideal for cool-season crops.</li>
</ul>
</li>
<li><strong>Tropical/Subtropical Climates (like Nairobi, Kenya):</strong> Focus on managing intense sun, heavy rains, and dry periods.
<ul>
<li><strong>Long Rains (March-May):</strong> High rainfall, moderate temperatures. Good for many vegetables but may require drainage solutions.</li>
<li><strong>Dry Season (June-October):</strong> Cooler temperatures (especially June-August), minimal rain, often sunny. Requires consistent irrigation.</li>
<li><strong>Short Rains (November-December):</strong> Shorter rainfall period, warmer. Good for quick-growing crops.</li>
<li><strong>Hot Dry Season (January-February):</strong> High temperatures, very little rain. Requires intensive irrigation and heat-tolerant crops.</li>
</ul>
</li>
</ul>
<p>Beyond broad climate zones, identify <strong>microclimates</strong> within your own garden. Sunny walls, shaded corners, sheltered spots, or areas with better drainage can extend growing opportunities for specific plants.</p>
<hr>
<h2 id="key-strategies-for-year-round-vegetable-production">Key Strategies for Year-Round Vegetable Production<a hidden class="anchor" aria-hidden="true" href="#key-strategies-for-year-round-vegetable-production">¶</a></h2>
<h3 id="1-succession-planting">1. Succession Planting<a hidden class="anchor" aria-hidden="true" href="#1-succession-planting">¶</a></h3>
<p>This is the cornerstone of continuous harvesting. Instead of planting all your crops at once, succession planting involves staggering your plantings throughout the season.</p>
<ul>
<li><strong>Staggered Planting:</strong> Plant small batches of the same crop every 2-3 weeks (e.g., lettuce, radishes, bush beans) to ensure a continuous harvest rather than one large flush.</li>
<li><strong>Sequential Planting:</strong> As one crop finishes, replace it with another crop suited to the upcoming season. For example, after early spring lettuce, plant bush beans, then fall greens.</li>
<li><strong>Intercropping:</strong> Planting fast-growing crops (like radishes) between slower-growing ones (like cabbage) in the same bed. The fast growers are harvested before the slower ones need the space.</li>
</ul>
<h3 id="2-season-extension-techniques-for-colder-climates">2. Season Extension Techniques (for Colder Climates)<a hidden class="anchor" aria-hidden="true" href="#2-season-extension-techniques-for-colder-climates">¶</a></h3>
<p>These methods protect plants from cold, extend warmth, and allow you to grow into and out of winter.</p>
<ul>
<li><strong>Raised Beds:</strong> Soil in raised beds warms up faster in spring and drains better, reducing root rot in wet conditions.</li>
<li><strong>Cold Frames:</strong> Simple, low structures with transparent tops that protect plants from cold, wind, and provide passive solar heating. Excellent for extending cool-season crops.</li>
<li><strong>Cloches/Row Covers:</strong> Individual covers (cloches) or fabric draped over hoops (row covers) create mini-greenhouses, protecting plants from frost, wind, and pests. Lightweight covers allow light and water penetration.</li>
<li><strong>Hoop Houses/Polytunnels:</strong> Larger, walk-in structures covered with clear plastic. They provide significant temperature moderation, allowing for multiple seasons of growing or even year-round in milder cold climates.</li>
<li><strong>Greenhouses:</strong> The most advanced option, offering maximum control over temperature, humidity, and light. Heated greenhouses can grow almost anything year-round, but come with significant energy costs.</li>
<li><strong>Mulching:</strong> A thick layer of organic mulch insulates the soil, keeping it warmer in winter and cooler in summer. It also conserves moisture and suppresses weeds.</li>
</ul>
<h3 id="3-crop-selection-for-each-season">3. Crop Selection for Each Season<a hidden class="anchor" aria-hidden="true" href="#3-crop-selection-for-each-season">¶</a></h3>
<p>Choosing the right vegetables for the right time is crucial.</p>
<ul>
<li><strong>Cool-Season Crops:</strong> Thrive in cooler temperatures (down to light frost) and can often tolerate some shade. Many are hardy enough to overwinter in milder climates with protection.
<ul>
<li><em>Examples:</em> Lettuce, spinach, kale, Swiss chard, broccoli, cabbage, carrots, radishes, peas, broad beans, garlic, onions.</li>
</ul>
</li>
<li><strong>Warm-Season Crops:</strong> Require consistent warm temperatures (and often long days) to produce. They are sensitive to frost.
<ul>
<li><em>Examples:</em> Tomatoes, peppers, eggplants, cucumbers, zucchini, pumpkins, corn, sweet potatoes, okra, most beans.</li>
</ul>
</li>
<li><strong>Heat-Tolerant Crops (for Tropical/Hot Dry Seasons):</strong>
<ul>
<li><em>Examples:</em> Okra, sweet potatoes, amaranth (terere), African nightshade (managu), spider plant (sagaa), specific heat-tolerant varieties of tomatoes and peppers, pigeon peas.</li>
</ul>
</li>
<li><strong>Short-Day vs. Long-Day Plants:</strong> Be aware of plants sensitive to day length, especially when planning for shoulder seasons. For example, some spinach varieties bolt (go to seed) quickly in long summer days, while others are &ldquo;slow-bolt.&rdquo;</li>
</ul>
<h3 id="4-soil-health-and-nutrition">4. Soil Health and Nutrition<a hidden class="anchor" aria-hidden="true" href="#4-soil-health-and-nutrition">¶</a></h3>
<p>Healthy soil is the foundation of a productive year-round garden.</p>
<ul>
<li><strong>Compost:</strong> Continuously amend your soil with generous amounts of organic compost. This improves soil structure, drainage, water retention, and provides a slow release of nutrients.</li>
<li><strong>Crop Rotation:</strong> Rotate different plant families through your beds to prevent nutrient depletion and break pest and disease cycles.</li>
<li><strong>Cover Cropping:</strong> In temperate climates, planting cover crops (e.g., clover, vetch) during fallow periods enriches the soil, prevents erosion, and suppresses weeds.</li>
</ul>
<h3 id="5-water-management">5. Water Management<a hidden class="anchor" aria-hidden="true" href="#5-water-management">¶</a></h3>
<p>Consistent and efficient watering is essential, especially in dry seasons or protected environments.</p>
<ul>
<li><strong>Drip Irrigation/Soaker Hoses:</strong> Deliver water directly to the root zone, minimizing evaporation and water waste.</li>
<li><strong>Rainwater Harvesting:</strong> Collect rainwater in barrels for irrigation, reducing reliance on municipal water.</li>
<li><strong>Mulching:</strong> As mentioned, mulch significantly reduces water evaporation from the soil surface.</li>
</ul>
<hr>
<h2 id="year-round-gardening-in-nairobi-kenya---a-specific-approach">Year-Round Gardening in Nairobi, Kenya - A Specific Approach<a hidden class="anchor" aria-hidden="true" href="#year-round-gardening-in-nairobi-kenya---a-specific-approach">¶</a></h2>
<p>Nairobi&rsquo;s climate, characterized by distinct wet and dry seasons rather than extreme temperature fluctuations, requires a slightly different approach to year-round gardening.</p>
<ul>
<li><strong>Long Rains (March-May):</strong>
<ul>
<li><strong>Plant:</strong> Tomatoes (disease-resistant varieties), kales (sukuma wiki), spinach, amaranth (terere), maize, beans, potatoes, onions. Ensure good drainage to prevent waterlogging.</li>
<li><strong>Focus:</strong> Leveraging abundant natural water, monitoring for fungal diseases.</li>
</ul>
</li>
<li><strong>Dry Season / Cooler Period (June-October):</strong>
<ul>
<li><strong>Plant:</strong> Cool-season vegetables like lettuce, carrots, beetroot, Swiss chard (mchicha), cabbage. Also, continued kales, spinach, and drought-tolerant herbs.</li>
<li><strong>Focus:</strong> <strong>Consistent irrigation is paramount.</strong> Use mulch heavily to conserve moisture. Container gardening can be very effective, allowing you to control water more precisely. This is a good time for root crops.</li>
</ul>
</li>
<li><strong>Short Rains (November-December):</strong>
<ul>
<li><strong>Plant:</strong> Quick-maturing crops like radishes, spring onions, bush beans, coriander, and fast-growing leafy greens. Also, another round of kales and spinach.</li>
<li><strong>Focus:</strong> Capitalizing on renewed rainfall for fast growth before the hot dry season.</li>
</ul>
</li>
<li><strong>Hot Dry Season (January-February):</strong>
<ul>
<li><strong>Plant:</strong> Very heat-tolerant crops like okra, sweet potatoes, African nightshade (managu), spider plant (sagaa), some pepper varieties.</li>
<li><strong>Focus:</strong> Intensive watering, partial shade for some crops (e.g., use shade netting), deep mulching to keep soil cool. Avoid planting anything sensitive to heat or drought.</li>
</ul>
</li>
</ul>
<p><strong>General Nairobi Tips:</strong></p>
<ul>
<li><strong>Sun Intensity:</strong> Even in the cooler dry season, the sun can be intense. Use shade netting for sensitive leafy greens during the hottest parts of the day or peak dry season.</li>
<li><strong>Pest Pressure:</strong> Pest pressure can be high year-round. Integrate companion planting, regular monitoring, and organic pest control methods.</li>
<li><strong>Soil Drainage:</strong> During rainy seasons, ensure beds have excellent drainage, especially for root crops and those susceptible to damping off. Raised beds are highly beneficial.</li>
</ul>
<hr>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Growing vegetables year-round is a journey of learning, experimentation, and adapting to your specific environmental conditions. It demands more planning and consistent effort than seasonal gardening, but the rewards are immense: a continuous supply of fresh, nutritious produce, a deeper connection to nature&rsquo;s cycles, and the satisfaction of maximizing your garden&rsquo;s bounty.</p>
<p>Whether you&rsquo;re battling snow and frost with season extension techniques or managing intense sun and fluctuating rainfall with strategic crop choices and water management, the principles of healthy soil, succession planting, and thoughtful planning will empower you to keep your vegetable patch thriving, providing harvests for your table no matter what the calendar says. Embrace the challenge, enjoy the process, and savor the taste of truly year-round freshness.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-grow-pomegranate-plants-from-seed/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Grow Pomegranate Plants from Seed</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-hang-a-shower-curtain-from-the-ceiling/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Hang a Shower Curtain from the Ceiling</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
