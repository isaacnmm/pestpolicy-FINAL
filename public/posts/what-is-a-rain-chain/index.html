<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>What is a Rain Chain | Pest Policy</title>
<meta name="keywords" content="
   home-improvement, rain, chain">


<meta name="description" content="For centuries, homeowners have relied on traditional downspouts to channel rainwater from their gutters away from their homes. While functional, these util...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/what-is-a-rain-chain/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/what-is-a-rain-chain/">

 
<meta name="twitter:title" content="What is a Rain Chain | Pest Policy" />


<meta name="twitter:description" content="For centuries, homeowners have relied on traditional downspouts to channel rainwater from their gutters away from their homes. While functional, these util..." />
<meta property="og:title" content="What is a Rain Chain | Pest Policy" />
<meta property="og:description" content="For centuries, homeowners have relied on traditional downspouts to channel rainwater from their gutters away from their homes. While functional, these util..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/what-is-a-rain-chain/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "What is a Rain Chain",
      "item": "http://localhost:1313/posts/what-is-a-rain-chain/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "What is a Rain Chain | Pest Policy",
  "name": "What is a Rain Chain",
  "description": "For centuries, homeowners have relied on traditional downspouts to channel rainwater from their gutters away from their homes. While functional, these util...",
  "keywords": [
    "home-improvement", "rain", "chain"
  ],
  "wordCount" : "1719",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/what-is-a-rain-chain/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">What is a Rain Chain</h1>
    <div class="post-description">For centuries, homeowners have relied on traditional downspouts to channel rainwater from their gutters away from their homes. While functional, these util...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/home-improvement/">Home-Improvement</a><a href="http://localhost:1313/tags/rain/">Rain</a><a href="http://localhost:1313/tags/chain/">Chain</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>For centuries, homeowners have relied on traditional downspouts to channel rainwater from their gutters away from their homes. While functional, these utilitarian pipes often detract from a home&rsquo;s aesthetic appeal. Enter the <strong>rain <a href="/posts/rain-chain-a-stylish-alternative-to-downspouts/">chain</a></strong> � an elegant, sculptural, and often mesmerizing alternative that transforms the practical task of water diversion into a beautiful visual and auditory experience. Originating in Japan centuries ago, where they are known as &ldquo;kusari doi,&rdquo; <a href="/posts/how-to-install-rain-gutters/">rain</a> chains have gained popularity worldwide as a charming architectural accent and a sustainable landscaping feature.</p>
<p>But what exactly is a rain chain, and how does it work? Far from just a decorative piece, a rain chain is a series of metal cups or links that guide rainwater downwards, creating a beautiful waterfall effect. This article will explore the mechanics and aesthetics of rain chains, compare them to traditional downspouts, discuss their installation, and address common questions about their performance, especially in various weather conditions.</p>
<hr>
<h2 id="how-do-rain-chains-work">How Do Rain Chains Work?<a hidden class="anchor" aria-hidden="true" href="#how-do-rain-chains-work">¶</a></h2>
<p>A rain chain&rsquo;s operation is elegantly simple yet surprisingly effective. Instead of a closed pipe, a rain chain consists of a series of metal elements�either interconnected cups or a chain of decorative links�that are suspended vertically from a gutter outlet.</p>
<p>When rainwater flows from the gutter, it is captured by the uppermost element of the rain chain (usually a funnel-shaped cup or a collection basin). The water then cascades down from one cup to the next, or trickles along the chain links, guided by gravity and surface tension. As the water descends, it creates a captivating visual display, resembling a shimmering, liquid curtain. The gentle tinkling or splashing sound it produces adds a soothing auditory element to a rainy day.</p>
<p>At the bottom, the water collects into a basin, rain barrel, or is directed into a drainage system, just as it would with a traditional downspout. The design relies on the cohesive forces of water molecules to adhere to the chain&rsquo;s surface, ensuring it largely stays on course even in breezy conditions.</p>
<hr>
<h2 id="rain-chain-designs-and-materials">Rain Chain Designs and Materials<a hidden class="anchor" aria-hidden="true" href="#rain-chain-designs-and-materials">¶</a></h2>
<p>Rain chains come in a vast array of designs and materials, allowing homeowners to select an option that complements their home&rsquo;s architectural style and their personal aesthetic preferences.</p>
<p><strong>Common Designs:</strong></p>
<ul>
<li><strong>Cup Chains:</strong> These are the most popular type, featuring a series of beautifully sculpted cups (like small funnels or buckets) linked together. Water collects in each cup and overflows into the one below, creating a distinct waterfall effect. This design is generally more efficient at directing water downwards.</li>
<li><strong>Link Chains:</strong> These consist of a series of interconnected metal links, often with decorative elements like rings, spirals, or geometric shapes. Water flows along the links through surface tension. While highly aesthetic, they may experience more splash in heavy rain compared to cup chains.</li>
</ul>
<p><strong>Popular Materials:</strong></p>
<ul>
<li><strong>Copper:</strong> Highly prized for its timeless beauty and durability. Copper rain chains develop a beautiful green-blue patina over time, adding to their antique charm. They are generally the most expensive but also the most long-lasting.</li>
<li><strong>Brass:</strong> Offers a warm, golden appearance that can be polished or allowed to darken naturally. Brass is durable and creates an elegant look.</li>
<li><strong>Aluminum:</strong> A lightweight and cost-effective option, aluminum rain chains are often powder-coated in various colors (black, bronze, silver) to mimic other metals or blend with the home&rsquo;s exterior. They are rust-resistant.</li>
<li><strong>Steel:</strong> Stainless steel offers a sleek, modern look and excellent durability, resisting rust and corrosion. Other steel varieties may be painted or treated.</li>
</ul>
<p>Some rain chains also incorporate glass beads, stones, or other decorative elements to enhance their visual appeal.</p>
<hr>
<h2 id="rain-chains-vs-traditional-downspouts">Rain Chains Vs. Traditional Downspouts<a hidden class="anchor" aria-hidden="true" href="#rain-chains-vs-traditional-downspouts">¶</a></h2>
<p>While rain chains offer distinct advantages, it&rsquo;s important to understand how they compare to traditional downspouts in terms of functionality and aesthetics:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Feature</th>
          <th style="text-align: left">Rain Chains</th>
          <th style="text-align: left">Traditional Downspouts</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Aesthetics</strong></td>
          <td style="text-align: left">Highly decorative, sculptural, visual appeal.</td>
          <td style="text-align: left">Utilitarian, often blend into the background.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Sound</strong></td>
          <td style="text-align: left">Soothing trickling/splashing sounds.</td>
          <td style="text-align: left">Silent or noisy gurgling/clanking if clogged/loose.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Water Diversion</strong></td>
          <td style="text-align: left">Generally effective, but prone to splashing in heavy rain or wind.</td>
          <td style="text-align: left">Very efficient, enclosed system minimizes splash.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Clogging Risk</strong></td>
          <td style="text-align: left">Minimal clogging within the chain itself.</td>
          <td style="text-align: left">High risk of clogging from leaves/debris.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Maintenance</strong></td>
          <td style="text-align: left">Minimal, occasional cleaning/check for debris at top.</td>
          <td style="text-align: left">Requires regular cleaning, especially inside.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Cost</strong></td>
          <td style="text-align: left">Often more expensive (especially copper).</td>
          <td style="text-align: left">Generally less expensive.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Durability</strong></td>
          <td style="text-align: left">Very durable, especially metal options.</td>
          <td style="text-align: left">Durable, but can dent, rust, or separate.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Ice/Snow</strong></td>
          <td style="text-align: left">Can freeze solid, forming ice sculptures, may require removal in harsh winters.</td>
          <td style="text-align: left">Can form ice dams, prone to internal ice buildup.</td>
      </tr>
  </tbody>
</table>
<p>Rain chains excel in their aesthetic appeal and ability to turn rainfall into a garden feature. However, for sheer water volume management in extremely heavy downpours or in very windy conditions, traditional downspouts are generally more effective at controlling every drop. Many homeowners choose to use a combination of both � traditional downspouts on the sides or back of the house, and rain chains as decorative elements on the front or visible sections.</p>
<hr>
<h2 id="do-rain-chains-require-gutters">Do Rain Chains Require Gutters?<a hidden class="anchor" aria-hidden="true" href="#do-rain-chains-require-gutters">¶</a></h2>
<p>Yes, <strong>rain chains are designed to work in conjunction with gutters</strong>. They are essentially a decorative and open alternative to a vertical downspout pipe.</p>
<p>A rain chain is typically hung from the gutter&rsquo;s downspout hole. For best performance, the gutter should still be properly installed, pitched correctly, and free of clogs to ensure water flows efficiently to the point where the rain chain is attached. Without gutters, a rain chain would simply hang from the roof edge, allowing water to fall directly from the roof, potentially damaging the fascia, siding, and foundation below.</p>
<p>While some custom architectural designs might integrate rain chains without traditional gutters (e.g., from a scupper box on a flat roof), for most residential homes with sloped roofs, gutters are a necessary component to effectively collect and direct water to the rain chain.</p>
<hr>
<h2 id="how-to-install-a-rain-chain">How To Install a Rain Chain<a hidden class="anchor" aria-hidden="true" href="#how-to-install-a-rain-chain">¶</a></h2>
<p>Installing a rain chain is a relatively straightforward DIY project, usually taking less than an hour.</p>
<p><strong>Tools and Materials:</strong></p>
<ul>
<li>Your chosen rain chain</li>
<li>Gutter adapter kit (often included with the chain or sold separately) or a simple S-hook</li>
<li>Measuring tape</li>
<li>Drill (if modifying existing downspout hole)</li>
<li>Screwdriver (if installing an adapter)</li>
<li>Container for water collection (rain barrel, decorative basin, or splash block)</li>
</ul>
<p><strong>Steps:</strong></p>
<ol>
<li><strong>Remove Existing Downspout:</strong> If replacing an existing downspout, use a screwdriver or drill to remove the screws securing it to the gutter and the wall. Detach the downspout sections and remove them.</li>
<li><strong>Prepare the Gutter Hole:</strong> Ensure the gutter&rsquo;s downspout hole is clear of debris. Most rain chains come with an adapter that sits inside the gutter hole, helping to funnel water directly onto the chain and minimize splash. If using a simple S-hook, ensure the hole is wide enough for the chain to pass through.</li>
<li><strong>Attach the Rain Chain:</strong>
<ul>
<li>If using an adapter, insert it into the gutter hole according to the manufacturer&rsquo;s instructions. The top of the rain chain will then connect to this adapter.</li>
<li>If using an S-hook, simply loop the top of the rain chain over the hook and hang the hook through the gutter opening.</li>
<li>Ensure the chain hangs vertically and reaches your desired collection point.</li>
</ul>
</li>
<li><strong>Secure the Bottom (Optional but Recommended):</strong> While not always necessary, securing the bottom of the rain chain can prevent it from swinging excessively in strong winds. You can anchor it to the bottom collection basin or stake it into the ground if appropriate.</li>
<li><strong>Set Up Water Collection:</strong> Place a decorative basin, a rain barrel, or a standard splash block directly beneath the lowest point of the rain chain to collect and direct the water away from your foundation.</li>
</ol>
<hr>
<h2 id="rain-chains-in-heavy-rain-and-winter">Rain Chains in Heavy Rain and Winter<a hidden class="anchor" aria-hidden="true" href="#rain-chains-in-heavy-rain-and-winter">¶</a></h2>
<p>The performance of rain chains can vary in extreme weather:</p>
<ul>
<li><strong>Heavy Rain:</strong> In very heavy downpours, especially with link-style chains, some water may splash off the sides as it descends. Cup chains generally manage heavy flow more effectively with less splash. Ensuring your gutter is clean and the adapter funnels water well helps. Consider a larger collection basin if you anticipate significant runoff.</li>
<li><strong>Winter/Freezing Conditions:</strong> This is where rain chains become truly artistic � or problematic. In freezing temperatures, water can freeze onto the chain, creating beautiful, shimmering ice sculptures. However, this can also cause:
<ul>
<li><strong>Weight Issues:</strong> The added weight of ice can stress the gutter and its hangers. Ensure your gutters are securely installed and in good condition before installing rain chains in cold climates.</li>
<li><strong>Ice Buildup:</strong> If ice builds up excessively, it can prevent water from flowing, causing overflows.</li>
<li><strong>Maintenance:</strong> In very harsh winters, some homeowners may choose to temporarily remove their rain chains or use heated gutter cables to prevent excessive ice buildup. Alternatively, ensure the bottom collection point can handle ice expansion.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="faqs-about-rain-chains">FAQs About Rain Chains<a hidden class="anchor" aria-hidden="true" href="#faqs-about-rain-chains">¶</a></h2>
<p><strong>Q: Do rain chains make noise?</strong>
A: Yes, they produce a gentle, soothing trickling or splashing sound as water descends, which many find enjoyable. The sound varies by design (cups vs. links) and water flow.</p>
<p><strong>Q: Can rain chains handle heavy rain?</strong>
A: They can handle most moderate to heavy rain. However, in extremely intense downpours, some splashing outside the chain&rsquo;s path can occur, particularly with link-style chains. Cup chains are generally better at managing higher volumes.</p>
<p><strong>Q: How often do rain chains need to be cleaned?</strong>
A: Much less frequently than downspouts. Occasionally, debris might collect in the top cup or adapter, which should be cleared. The chain itself generally self-cleans with rainfall.</p>
<p><strong>Q: Are rain chains durable?</strong>
A: Yes, especially those made from copper, brass, or stainless steel, which are highly resistant to corrosion and designed to last for many years, often developing an attractive patina over time.</p>
<p><strong>Q: Can rain chains cause ice dams?</strong>
A: Not directly. Ice dams are caused by poor attic insulation and ventilation leading to uneven roof temperatures. However, in freezing conditions, water can freeze <em>on</em> the rain chain, creating heavy ice formations. This added weight can potentially stress gutters.</p>
<p><strong>Q: Do I need a special gutter or adapter for a rain chain?</strong>
A: You need a standard downspout opening in your gutter. Most rain chains come with a hanger or adapter that fits into this opening to funnel water onto the chain.</p>
<p><strong>Q: Where should the water from a rain chain go?</strong>
A: The water should be directed away from your foundation, similar to a downspout. You can use a decorative basin, a gravel pit, a rain barrel for water collection, or connect it to an underground drainage system.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/what-is-a-hobo-spider/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>What is a Hobo Spider</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/what-is-an-airless-paint-sprayer/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>What is an Airless Paint Sprayer</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
