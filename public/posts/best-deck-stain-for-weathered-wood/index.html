<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Deck Stain for Weathered Wood | Pest Policy</title>
<meta name="keywords" content="
   paint, best, deck">


<meta name="description" content="Whats the best deck stain for weathered wood? Well, the best remedy for old and weathered wood is giving it a good wash, some sanding, and a coat of stain.">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-deck-stain-for-weathered-wood/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-deck-stain-for-weathered-wood/">

 
<meta name="twitter:title" content="Best Deck Stain for Weathered Wood | Pest Policy" />


<meta name="twitter:description" content="Whats the best deck stain for weathered wood? Well, the best remedy for old and weathered wood is giving it a good wash, some sanding, and a coat of stain." />
<meta property="og:title" content="Best Deck Stain for Weathered Wood | Pest Policy" />
<meta property="og:description" content="Whats the best deck stain for weathered wood? Well, the best remedy for old and weathered wood is giving it a good wash, some sanding, and a coat of stain." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-deck-stain-for-weathered-wood/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Deck Stain for Weathered Wood",
      "item": "http://localhost:1313/posts/best-deck-stain-for-weathered-wood/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Deck Stain for Weathered Wood | Pest Policy",
  "name": "Best Deck Stain for Weathered Wood",
  "description": "Whats the best deck stain for weathered wood? Well, the best remedy for old and weathered wood is giving it a good wash, some sanding, and a coat of stain.",
  "keywords": [
    "paint", "best", "deck"
  ],
  "wordCount" : "1421",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-deck-stain-for-weathered-wood/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Deck Stain for Weathered Wood</h1>
    <div class="post-description">Whats the best deck stain for weathered wood? Well, the best remedy for old and weathered wood is giving it a good wash, some sanding, and a coat of stain.</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/paint/">Paint</a><a href="http://localhost:1313/tags/best/">Best</a><a href="http://localhost:1313/tags/deck/">Deck</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Whats the best deck stain for weathered wood? Well, the best remedy for old and weathered wood is giving it a good wash, some sanding, and a coat of stain.</p>
<p>A good stain will restore your weathered wood all year round - including indoor furniture, fence posts, decks, or patio furniture. But solid stains (even
staining swing sets
) tend to last longer (over three years).
So, give your timber a new stain look and protect it from damage by UV rays, mold, and mildew.</p>
<h2 id="s-top-7-best-deck-stain-for-weathered-wood-in-2025-">**s: Top 7 Best Deck Stain for Weathered Wood in 2025 **<a hidden class="anchor" aria-hidden="true" href="#s-top-7-best-deck-stain-for-weathered-wood-in-2025-">¶</a></h2>
<h3 id="1-saversystems-premium-deck-stain---1-stain-pick"><strong>1. SaverSystems Premium Deck Stain - #1 Stain Pick</strong><a hidden class="anchor" aria-hidden="true" href="#1-saversystems-premium-deck-stain---1-stain-pick">¶</a></h3>
<p>#1 Premium stain by SaverSystem will give you old, weathered, or grayed deck and wood. The stain comes in 4 colors that are all semi-transparent to give your timber a fresh look.</p>
<p>You&rsquo;ll find this water-based #1 Premium stain easy to apply
using a/)
sprayer or a brush to safeguard the weathered wood from moisture damage, mildew growth, and UV rays.
Further, the stain is budget-friendly as you can stain 100 square feet of weathered wood or <a href="/posts/best-deck-sealer-for-pressure-treated-wood/">deck</a> with 1 gallon. It has a combined capability to be used both like a
<a href="https://pestpolicy.com/best-deck-sealer-for-pressure-treated-wood/">deck sealer</a>
and a
<a href="https://pestpolicy.com/best-deck-stain-for-pressure-treated-wood/">deck stain</a>
.
#1 Premium stain is appropriate for staining old wood sidings, play-sets, fences, and decks. That&rsquo;s why many DIYers love the stain as it has many applications, plus it has four shades.
The semi-transparent stain will give your wood a natural pattern and grain - a shiny and visible color. The stain will safeguard from the UV rays and against water infiltration.
Pros:</p>
<ul>
<li>Suitable for staining pressure-treated pine, redwood, fir, cedar</li>
<li>The stain will perfect any wood imperfections, graying, cracks, and deformations by covering the pores.</li>
<li>Protects weathered wood from the sun&rsquo;s UV rays</li>
<li>Offers a fresh and natural look</li>
</ul>
<p>Cons:</p>
<ul>
<li>Not suitable for softwood</li>
</ul>
<blockquote>
<p>See Also:
What&rsquo;s the Best Sprayer for Latex Paint?</p></blockquote>
<h3 id="2-defy-extreme-wood-stain-semi-transparent-exterior-stain"><strong>2. DEFY Extreme Wood Stain (Semi-Transparent) Exterior Stain</strong><a hidden class="anchor" aria-hidden="true" href="#2-defy-extreme-wood-stain-semi-transparent-exterior-stain">¶</a></h3>
<p>DEFY Extreme is a water-based, semi-transparent stain for your weathered wood. Therefore, easily add some fresh breath of color to your outdoor furniture and deck and leave it, showing the exciting wood grains. It comes in 7 varied colors, and hence it&rsquo;ll be easy to pick one that&rsquo;ll match the exterior of your house.</p>
<p>DEFY Extreme is an expensive wood stain, but this comes at a superior quality that&rsquo;ll give your weathered wood a super and fresh finish. Luckily, the stain is made from excellent resins allowing the wood to resist darkening and fading.
DEFY Extreme is great for fence posts and decks - protecting them again mold and mildew. This is because the has Zinc Nano-particle that&rsquo;ll reflect the dangerous UV rays that&rsquo;ll further damage the wood, causing color loss and greying - acting like a wood sunscreen.
The water-based stain is eco-friendly, and it&rsquo;ll enable the weathered wood to maintain its natural and semi-transparent outlook and finish. You&rsquo;ll notice that it&rsquo;s suitable for staining swing sets, outdoor furniture, sidings, fence posts, and wooden decks.
DEFY Extreme stain will be easy and cheap to apply and maintain - you won&rsquo;t need to do excessive preparation, stripping, or standing when adding a maintenance coat. You&rsquo;ll only need to use a wood brighter and finally apply just one stain coat.
The water-based wood stain is suitable for staining white-cedar fences but may also require re-staining after some years. The stain makes it very way to re-stain and clean-up since it&rsquo;s a water-based stain.
Pros:</p>
<ul>
<li>No massive preparation required - no sanding or stripping.</li>
<li>It is a water-based stain that&rsquo;s also eco-friendly</li>
<li>Great for damp and dry wood - even in damp conditions</li>
<li>You can use airless or pump-up spray or brushes.</li>
<li>Easy to apply and equally maintain</li>
</ul>
<p>Cons:</p>
<ul>
<li>Might look dark</li>
</ul>
<blockquote>
<p>See Also:
How to Stain a Deck for the First Time</p></blockquote>
<h3 id="3-restore-a-deck-old-wood-stain-siding-fences-decks"><strong>3. Restore-A-Deck Old Wood Stain Siding, Fences, Decks</strong><a hidden class="anchor" aria-hidden="true" href="#3-restore-a-deck-old-wood-stain-siding-fences-decks">¶</a></h3>
<p>Restore-A-Deck is a great stain for weathered siding, fences, and decks. It comes in 8 hues, and you&rsquo;ll find it very easy to use in giving your old wood that great natural look - with high durability.</p>
<p>Restore-A-Deck is an eco-friendly, water-based semi-transparent stain that&rsquo;ll be good on your old or weathered wood. It&rsquo;ll show the wood grains in your play-sets, siding, wooden fences, and decks.
Luckily, it&rsquo;s also easy to use as you can prep the wood surface and stain it on the same day. The formulation will prevent mildew or mold growth, graying, and UV Oxidation. Restore-A-Deck will penetrate deep into the weathered wood and hence protect the timber. It&rsquo;s easy to stain (a time-saver) as you won&rsquo;t have to wait long after cleaning and brightening.
The stain comes in 4 finishes (dark walnut, light walnut, cedar, and natural) that you can match with your weathered wood and the house&rsquo;s exterior. It&rsquo;ll protect the wood from further damage by water damage and clogging. Therefore, the stain will render your wood very durable and safe - no cracking or graying.
Pros:</p>
<ul>
<li>Eco-friendly wood stain</li>
<li>Variety of naturally feeling colors</li>
<li>Excellent penetration</li>
<li>Easy to apply and clean</li>
<li>Suitable for both dry wood and also damp wood</li>
</ul>
<p>Cons:</p>
<ul>
<li>None</li>
</ul>
<blockquote>
<p>See Also:
Semi-Transparent Deck Stain</p></blockquote>
<h3 id="4-kilz-l832211-exterior-wood-stain---water-proofing-redwood"><strong>4. KILZ L832211 Exterior Wood Stain - Water-proofing, Redwood</strong><a hidden class="anchor" aria-hidden="true" href="#4-kilz-l832211-exterior-wood-stain---water-proofing-redwood">¶</a></h3>
<p>KILZ L832211 stain will protect the old wood from UV rays, snow, and rain - particularly on wooden fences, siding, outdoor furniture, and decks.</p>
<p>KILZ L832211 is a durable stain that&rsquo;ll maintain your wood&rsquo;s integrity by resisting mildew, and its waterproofing capability keeps the timber strong and beautiful even in the outdoor spaces.
Further, the stain is budget-friendly as it&rsquo;ll easily stain 250 sq. ft. and 500 sq. ft. of old or weathered wood and furniture for the 1st and coats consecutively - excellent coverage.
KILZ L832211 has an acrylic formula that&rsquo;s good for application on unsealed and weathered or old wood surfaces like fences, siding, railings, and decks between 0 and 10 years of age.
The 100% acrylic stain coat is easy to clean with just water on the unsealed or weathered wood. The semi-transparent product is good in harsh weather conditions - like snow, UV rays, and rain.
You&rsquo;ll achieve excellent results if you let the weather wood surface to sit drying for one day before applying the stain. Apply it using a pump sprayer, polyester or nylon brush, or some pad applicator.
Pros:</p>
<ul>
<li>Easy to use and will dry quickly</li>
<li>Excellent stain coverage both for the 1st and 2nd coat</li>
<li>Comparatively ticker stain coat</li>
</ul>
<p>Cons:</p>
<ul>
<li>Uneven appearance</li>
</ul>
<h3 id="5-woodrich-timber-oil-old-timber-stain-deep-penetrating-for-log-cabins"><strong>5. Woodrich Timber Oil Old Timber Stain (Deep-Penetrating) for Log Cabins</strong><a hidden class="anchor" aria-hidden="true" href="#5-woodrich-timber-oil-old-timber-stain-deep-penetrating-for-log-cabins">¶</a></h3>
<p>Timber Oil Stain is also a deep-penetrating wood stain that&rsquo;s great highlighting for the wood-rich wood. It&rsquo;s suitable for mildew, water, and� UV rays to bring out your wood&rsquo;s natural beauty - including new wooden structures and just timber.</p>
<p>Woodrich Timber Oil Stain is an oil-based weathered-wood stain in 3 classic colors - use a paint sprayer or brush. It&rsquo;ll give an attractive finish for about 750 square feet of wood surface staining. It has timber oil that&rsquo;ll penetrate deep into the weathered wood&rsquo;s texture to give a fresh look and life.
A single gallon of the Woodrich Timber Oil Stain can cover about 750 square feet - which is about five times the areas covered by your regular wood stain. It&rsquo;s easy to apply and thus needs an expert to get an exquisite finish.
Woodrich Timber Oil Stain contains trans-oxide pigments that you&rsquo;ll find very significant compared to your regular paraffin stains. It&rsquo;s also suitable to stain both casual and commercial wood staining - including log cabins, fence posts, and decks - use a paint sprayer or brush.
Further, the stain has more than 50 shades available and hence you&rsquo;ll have enough options for your wood&rsquo;s look and house exterior without compromising on aesthetics. So, this oil-based and semi-transparent timber stain will give you a beautiful uniform finish.
Pros:</p>
<ul>
<li>Deep penetrating resin stain even for highly dense wood</li>
<li>Suitable even for staining cooking accessories and other house appliances</li>
<li>Easy of applying using brushes or sprayers</li>
<li>Can stain both weather or new wood</li>
<li>Can easily stain about 750 square feet</li>
</ul>
<p>Cons:</p>
<ul>
<li>May need addition of iron-oxide pigments to repel UV rays</li>
</ul>
<h2 id="conclusion"><strong>Conclusion</strong><a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>So, there you are on the best deck stain for weathered wood to maintain a safe and beautiful property. Such stain will protect the wood from mold or mildew, UV rays and water infiltration.
So, get one of the above stains if you notice signs like warping, splitting, graying, or cracking on the wood surfaces in your house, deck, or yard.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-deck-stain-for-pressure-treated-wood/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Deck Stain for Pressure Treated Wood</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-deck-stain-sprayer/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Deck Stain Sprayer</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
