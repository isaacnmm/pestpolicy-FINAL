<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How Long Do Fruit Flies Live | Pest Policy</title>
<meta name="keywords" content="
   flies, fruit, flie">


<meta name="description" content="Could you be asking yourself how long fruit flies live?">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-long-do-fruit-flies-live/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-long-do-fruit-flies-live/">

 
<meta name="twitter:title" content="How Long Do Fruit Flies Live | Pest Policy" />


<meta name="twitter:description" content="Could you be asking yourself how long fruit flies live?" />
<meta property="og:title" content="How Long Do Fruit Flies Live | Pest Policy" />
<meta property="og:description" content="Could you be asking yourself how long fruit flies live?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-long-do-fruit-flies-live/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How Long Do Fruit Flies Live",
      "item": "http://localhost:1313/posts/how-long-do-fruit-flies-live/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How Long Do Fruit Flies Live | Pest Policy",
  "name": "How Long Do Fruit Flies Live",
  "description": "Could you be asking yourself how long fruit flies live?",
  "keywords": [
    "flies", "fruit", "flie"
  ],
  "wordCount" : "2113",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-long-do-fruit-flies-live/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How Long Do Fruit Flies Live</h1>
    <div class="post-description">Could you be asking yourself how long fruit flies live?</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/flies/">Flies</a><a href="http://localhost:1313/tags/fruit/">Fruit</a><a href="http://localhost:1313/tags/flie/">Flie</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Could you be asking yourself how long <a href="/posts/where-do-fruit-flies-come-from/">fruit</a> <a href="/posts/how-do-you-keep-horse-flies-away-naturally/">flies</a> live?</p>
<p>Do fruit flies bother you by
<a href="https://pestpolicy.com/where-do-fruit-flies-come-from/">flying all over in your house and compound</a>
that you wonder when they will die?
<strong>Fruit flies live for approximately 40 to 50 earth days. During this time, the female fruit flies are able to mate with males severally and lay thousands of eggs that hatch into new ones.�</strong>
In fact, the fruit flies do not just hatch into flies directly; they undergo different stages in their life cycle to achieve fully development.</p>
<h2 id="details-how-long-do-fruit-flies-live-">**Details: How long do Fruit flies live? **<a hidden class="anchor" aria-hidden="true" href="#details-how-long-do-fruit-flies-live-">¶</a></h2>
<p>Fruit flies live for approximately 40 to 50 earth days. To achieve full maturity, they undergo various stages (metamorphosis). The duration in each development stage may vary from place to place due varying factors, which affects their growth.</p>
<p>The life cycle of a fruit fly begins from reproduction where the female lays eggs which develop into larva then pupa and finally adult.</p>
<p>The adult fruit fly is a very small insect and sometime you may not see it with naked eye unless they are in huge number. Many of them come together and create a swam that engulf rotting/fermenting foodstuff leading to spoilage.</p>
<p>The continuous reproduction of fruit flies within as short period give them a great advantage of rapid multiplication in a given area. Though they die, their birth rate is higher than death rate.</p>
<p>You will also realize that fruit flies follow foodstuff, without which they leave. You may keep off foodstuff that attract fruit flies if you desire to get rid of them entirely. Importantly, you must keep a close look into my other articles to learn more of ways to get rid of fruit flies.</p>
<p>I will now elaborate in depth each stage in the life cycle of a fruit fly in various subheading below.</p>
<h2 id="what-is-a-life-cycle-of-fruit-flies"><strong>What is a life cycle of Fruit flies?�</strong><a hidden class="anchor" aria-hidden="true" href="#what-is-a-life-cycle-of-fruit-flies">¶</a></h2>
<p>The life of fruit fly is classified in various stages that are interlinked continuously. These stages together form its life cycle. �Each stage consists of a number of developments, which make it different from the next or other stages.</p>
<p>You will see that larvae and pupa are two different organisms though they are sub stage of an adult fruit fly. It is, therefore, important to learn these development stages as they may help you, in case you want to get rid of these fruit flies, to efficiently destroy them at any point of wish.</p>
<p>The Life cycle of fruit fly is classified into four stages i.e. egg, larvae, pupa and adult. The female fruit fly after mating lays eggs which hatches into larvae. This develop into pupa stage and later matures to an adult fruit fly.</p>
<p>Lets discuss each stage:</p>
<h3 id="stage-1--reproduction-process"><strong>Stage 1  Reproduction Process.</strong><a hidden class="anchor" aria-hidden="true" href="#stage-1--reproduction-process">¶</a></h3>
<p>Once the female mates with male fruit fly, the fruit fly looks for a better place to lay eggs. This could be on your rotting/fermenting foodstuff, damp rag or mop, fruit skin, dustbin or even drainage system.</p>
<p>Before female fruit fly lays the eggs, the fruit fly must ensure that the temperature is high enough. The temperature of around 77 degree Fahrenheit suit her best. This can be lower however; it should not go below 22 degree, which may kill the fruit flys hatched babies. Fruit flies for reproduction purposes select humid environment.</p>
<p>Once that is done, about 24 hours after mating, the female fruit fries lays between 200 to 500 eggs at ago. This answers you why their survival rate is so high.</p>
<p>Each egg is able to hatch after 24 to 30 hours. By 8 to 13 days, you will be having adult fruit flies buzzing around in your place. No wonder you may keep complaining how quick these flies mature.</p>
<p>Once the eggs hatch, they proceed to the next stage called larvae stage.</p>
<h3 id="stage-2--larvae"><strong>Stage 2  Larvae�</strong><a hidden class="anchor" aria-hidden="true" href="#stage-2--larvae">¶</a></h3>
<p>This is stage is the most pronounce stage of fruit flies. Basically, a larvae is a worm-like organism that does not have legs. It is very active when it comes to movement and feeding so as to secure enough energy for the next stage.</p>
<p>Larva are seen mostly as they mess the fruits and other rotting foodstuff a lot. Though small in sizes, their impact is highly seen. They are highly attracted by the fermenting parts of the fruits or rotting substances.</p>
<p>These larvae feeds on yeast organism &amp; fungi in the rotting/ fermenting foodstuff and turns it into a messy semi-liquid substance that emits irritating smell.</p>
<p>In fact, they provides further acceleration of bacteria, which affects the foodstuff to a point of no use.�After about four days, the larvae moves to a dark place where matures and change into pupa, which is the next stage.
<strong>Stage 3  Pupa�</strong>
The pupa Stage is termed as an inactive stage by observation. This is because the pupa is actually an immobile organism.</p>
<p>During this stage, the legless larvae develop six legs, eyes and wings using the energy that was stored during the larvae stage.</p>
<p>The skins begins to darken as it continues to develop. The three body parts i.e. head, thorax and abdomen become distinct and at this point, the puparium is about to break.</p>
<p>This development takes about four days. Then the pupa breaks the skin and a light colored-young adult emerges. This now proceeds to the next stage.
<strong>Stage 4  Adult�</strong>
The development stage of young adult fruit fly to a fully adult is a self-developing process that takes two to three days.</p>
<p>The young adult emerges as light in color fly. However, its color darkens with time. This young Fruit fly feeds on the available rotting foodstuff so as to acquire the full adulthood.</p>
<p>During this time, the wings and legs are strengthened so as to help it in flying and landing. In addition, abdomen develops further such that spiracles for breathing are able to function properly.</p>
<p>The adult stage development time may vary from place to place due to environment. It is worth noting that you will expect to see female adult fruit fly being ready for mating and lay eggs after two days of its pupa stage.</p>
<p>This means that they quickly get into reproduction as soon as they are released as young adults.</p>
<p>NB: This process, from reproduction to full adulthood of fruit flies, is known as metamorphosis and we said it takes between eight to thirteen days, which may vary from place to place due climatic factor among other things.</p>
<h2 id="which-affects-the-lifespan-of-fruit-flies"><strong>Which affects the Lifespan of Fruit flies?</strong><a hidden class="anchor" aria-hidden="true" href="#which-affects-the-lifespan-of-fruit-flies">¶</a></h2>
<p>Survival of fruit flies is affected by various factors that may vary from place to place depending on the point of consideration. These factors may either favor their existence or cause their death. Some of these factors include:</p>
<h3 id="1-ambient-temperature">1. Ambient temperature<a hidden class="anchor" aria-hidden="true" href="#1-ambient-temperature">¶</a></h3>
<p>Most fruit flies thrives very well is ambient temperature of a given environment. Research shows that the optimal temperature of about 78 degree Fahrenheit is suitable for best survival of these fruit flies.</p>
<p>They can also survive in low temperatures however; this should not go below 20 degree Fahrenheit as this may result to their dead or affect their reproduction activities.</p>
<p>We know that ambient temperature also accelerates the rotting/fermenting process as well as multiplication of these fruit flies; it is important then that you take precaution so as to prevent food rooting or any environment that may result to the same.
<strong>2. Ability to breed frequently�</strong>
It is to the advantage of fruit flies that they are able to breed and multiply at a very short time. Within eight to thirteen days from time the eggs were laid, the fully developed fruit fly is able to bring to existence the new generation of its own.</p>
<p>These flies are also very active sexually. The fact that after laying they are able to regain their sexual activeness after a short time, this gives them a super chance to bring more and more babies into life.
<strong>3. They have different food alternatives.</strong>
We know that the fruit flies are attracted by any rotting or fermenting foodstuff. This could be in any place e.g. within the house or outside.</p>
<p>Once fruit flies have depleted one food source, they quickly shift to another within the locality. Just think of youself expelling them from your house when you have the garbage at your compound unkempt or some damply rags or mops outside; definitely you will find some there after some times.</p>
<p>It is very important to ensure that you clean all possible sites that may, in any away, attract these fruit flies into their vicinity.</p>
<h2 id="can-fruit-flies-die-on-their-own"><strong>Can fruit flies die on their own?�</strong><a hidden class="anchor" aria-hidden="true" href="#can-fruit-flies-die-on-their-own">¶</a></h2>
<p>This is a nice concern. Definitely, fruit flies will die after forty to fifty days of survival. However, it may not seem like they really are dying if the source of food still exists.</p>
<p>You will agree with me that the more you feed them, the more they will stay since their reproduction rate is more that their death rate.</p>
<p>Just in case you want them to die on their own, kindly allow them to deplete the current food source and eventually once it is completely eaten away by them, they will either die of starvation or look for another food source around or kilometers away.</p>
<p>I am only worried if you will dread to face such infestation of fruit flies by giving them a chance to die slowly!</p>
<h2 id="do-fruit-flies-cause-sickness"><strong>Do fruit flies cause sickness?�</strong><a hidden class="anchor" aria-hidden="true" href="#do-fruit-flies-cause-sickness">¶</a></h2>
<p>Sickness is something you always try to avoid. The fact that fruit flies are irritating is termed as a special kind of sickness as where they are you can stay at peace.</p>
<p>Moreover, these flies lands and touch over other contaminated substances before feeding on your food thus bringing disease-causing germs to it.</p>
<p>The larvae stage of fruit flies mostly prefer feeding on fermenting/rotting food. They accelerates the action of bacteria as well as food poisoning. If such food is eaten, it may cause illness, stomach upset or other types of sicknesses.</p>
<h2 id="how-do-i-destroy-fruit-flies-breeding-ground"><strong>How do I destroy fruit flies breeding ground?�</strong><a hidden class="anchor" aria-hidden="true" href="#how-do-i-destroy-fruit-flies-breeding-ground">¶</a></h2>
<p>It is necessary know that the most destructive stages of a fruit fly is larvae and adult stage. These stages plays a great role in destroying your foodstuff.�In case you desire to destroy their breeding ground, just try and do away with these two stages.</p>
<p>For the case of larvae stage, it is difficult to handle them independently as they continuously change to next stage in a few days. Therefore, it is important to deal with egg stage and adult stage.</p>
<p>You can do this by maintaining very low temperature that ensures that these eggs never hatch do larvae within the room thus killing the generation.</p>
<p>This means that you will have to do that for about fifty days so that the living fruit flies die of temperature changes.</p>
<p>If you need to get rid of the living fruit flies, it is important to use efficiently the existing methods that are used to get rid of fruit flies such as the use of Yellow flytrap, vinegar or wine trap etc.</p>
<p>Chemicals can be used to kill both the fruit flies and their laid egg however; most of these chemicals cause environmental pollution.</p>
<p>I may therefore not recommend their use unless you find that the problem for fruit flies has escalated and other methods are not yielding results.</p>
<h2 id="how-do-i-prevent-fruit-flies-in-my-home"><strong>How do I prevent fruit flies in my home?�</strong><a hidden class="anchor" aria-hidden="true" href="#how-do-i-prevent-fruit-flies-in-my-home">¶</a></h2>
<p>This is just easy. You will require to keep off any substance that attract fruit flies into your house of place. This can be made by ensuring that you do not store any rotting foodstuff or ensuring those products with fruit flies attracting smell has securely stored.</p>
<p>Cleanliness is very important for you. Ensure that you empty garbage bin, clean all spilled food, store mops and rags when dry, flush sinks and toilet as well as drains with proper cleaning fluids or clean your kitchen and dishes immediately after use to keep off smell.</p>
<p>These, if you put them into practice, will help you a lot in preventing presence of fruit flies in your house or compound.</p>
<h2 id="conclusion"><strong>Conclusion�</strong><a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Your concern on life of fruit flies is valid. Fruit flies lives for about 40 to 50 earth days. The lifecycle of a fruit fly is classified into four stages: egg, larvae, pupa and adult.�Fruit flies lives may be affected by various factors such as temperature humidity as well as source of food nutrients.</p>
<p>It is necessary, therefore, to ensure that you keep your house or compound free from these irritating fruit flies by ensuring that you are able to observe proper sanitation requirement as I have advised in this articles. A fruit fly free home is a nice place to live. What do you think about it?</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-long-do-fleas-live-on-humans/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How Long Do Fleas Live on Humans</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-long-do-gnats-live/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How Long Do Gnats Live</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
