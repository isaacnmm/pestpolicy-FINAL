<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Improve Yard Drainage | Pest Policy</title>
<meta name="keywords" content="
   landscaping, yard, drainage">


<meta name="description" content="A beautiful, thriving yard relies on a delicate balance, and nowhere is this more evident than with water. While plants need adequate moisture to survive, ...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-improve-yard-drainage/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-improve-yard-drainage/">

 
<meta name="twitter:title" content="How to Improve Yard Drainage | Pest Policy" />


<meta name="twitter:description" content="A beautiful, thriving yard relies on a delicate balance, and nowhere is this more evident than with water. While plants need adequate moisture to survive, ..." />
<meta property="og:title" content="How to Improve Yard Drainage | Pest Policy" />
<meta property="og:description" content="A beautiful, thriving yard relies on a delicate balance, and nowhere is this more evident than with water. While plants need adequate moisture to survive, ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-improve-yard-drainage/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Improve Yard Drainage",
      "item": "http://localhost:1313/posts/how-to-improve-yard-drainage/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Improve Yard Drainage | Pest Policy",
  "name": "How to Improve Yard Drainage",
  "description": "A beautiful, thriving yard relies on a delicate balance, and nowhere is this more evident than with water. While plants need adequate moisture to survive, ...",
  "keywords": [
    "landscaping", "yard", "drainage"
  ],
  "wordCount" : "1844",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-improve-yard-drainage/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Improve Yard Drainage</h1>
    <div class="post-description">A beautiful, thriving yard relies on a delicate balance, and nowhere is this more evident than with water. While plants need adequate moisture to survive, ...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/landscaping/">Landscaping</a><a href="http://localhost:1313/tags/yard/">Yard</a><a href="http://localhost:1313/tags/drainage/">Drainage</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>A beautiful, thriving yard relies on a delicate balance, and nowhere is this more evident than with water. While plants need adequate moisture to survive, too much water � or water that sits stagnant for extended periods � can quickly turn a lush landscape into a soggy, unhealthy mess. Poor yard drainage leads to a host of problems: drowned roots, fungal diseases, mosquito breeding grounds, muddy patches, and even structural damage to your home&rsquo;s foundation. Recognizing and addressing drainage issues is not just about aesthetics; it&rsquo;s crucial for the long-term health of your plants and the integrity of your property.</p>
<p>Understanding the underlying causes of poor drainage is the first step toward finding effective solutions. From compacted soil to improper grading, various factors can contribute to waterlogging. Fortunately, a range of strategies, from simple soil amendments to more complex <a href="/posts/how-to-landscape-your-yard-with-deer-resistant-plants/">landscaping</a> interventions, can significantly improve your <a href="/posts/how-to-level-yard/">yard</a>&rsquo;s ability to manage water. This guide will walk you through how to identify drainage problems, common culprits behind them, and practical solutions to transform your waterlogged areas into a healthy, functional landscape.</p>
<h2 id="common-causes-of-yard-drainage-issues">Common Causes of Yard Drainage Issues<a hidden class="anchor" aria-hidden="true" href="#common-causes-of-yard-drainage-issues">¶</a></h2>
<p>Before you can fix a drainage problem, you need to understand why it&rsquo;s occurring. Several common factors contribute to poor yard drainage:</p>
<ol>
<li><strong>Soil Compaction:</strong> This is perhaps the most prevalent cause. Over time, foot traffic, heavy equipment, vehicle parking, and even rain can compact soil particles, squeezing out the pore space that allows water and air to move freely. Clay soils are particularly prone to compaction. When soil is compacted, water pools on the surface rather than infiltrating.</li>
<li><strong>Heavy Clay Soil:</strong> Clay soil particles are very fine and tightly packed, giving clay a dense structure that drains very slowly. While compaction makes it worse, even uncompacted clay soil can present drainage challenges.</li>
<li><strong>Improper Grading or Sloping:</strong> Your yard should ideally slope away from your house&rsquo;s foundation, directing water to appropriate drainage points. If the grade slopes towards your house, or if there are low spots or depressions in your yard, water will collect there, leading to pooling.</li>
<li><strong>High Water Table:</strong> In some regions, the natural water table is close to the surface, especially during wet seasons. This means the ground is already saturated, and there&rsquo;s nowhere for additional surface water to go, leading to widespread sogginess.</li>
<li><strong>Hardpan:</strong> This is a dense, impenetrable layer of soil beneath the topsoil, often caused by heavy machinery or natural geological processes. Hardpan prevents water from percolating deeper into the ground, causing it to perch above this layer.</li>
<li><strong>Excess Thatch in Lawns:</strong> A thick layer of thatch (dead and living organic matter between grass blades and the soil surface) can prevent water from reaching the soil itself, leading to runoff or surface pooling.</li>
<li><strong>Runoff from Hard Surfaces:</strong> Water flowing off roofs (without proper downspout extensions), driveways, patios, and sidewalks can overwhelm permeable areas, leading to localized flooding.</li>
<li><strong>Neighboring Property Issues:</strong> Sometimes, your drainage problem is exacerbated by water flowing from an uphill neighbor&rsquo;s property due to their landscaping or runoff patterns.</li>
<li><strong>Blocked or Insufficient Drainage Systems:</strong> Existing drainage systems like French drains or gutters can become clogged with debris or be insufficient for the volume of water they need to handle.</li>
</ol>
<p>Identifying which of these factors (or a combination thereof) is at play in your yard is key to implementing an effective solution.</p>
<h2 id="how-to-test-soil-drainage">How To Test Soil Drainage<a hidden class="anchor" aria-hidden="true" href="#how-to-test-soil-drainage">¶</a></h2>
<p>Before investing in any major drainage solutions, it&rsquo;s wise to perform a simple perk test to understand your soil&rsquo;s drainage rate. This helps confirm whether soil infiltration is the primary issue.</p>
<p><strong>The Perk Test (Percolation Test):</strong></p>
<ol>
<li><strong>Dig a Hole:</strong> Choose the area where you suspect poor drainage. Dig a hole about 1 foot (30 cm) deep and 6-8 inches (15-20 cm) wide.</li>
<li><strong>Prepare the Hole:</strong> Fill the hole with water and let it drain completely. This saturates the soil, mimicking prolonged rainfall and giving a more accurate reading.</li>
<li><strong>Perform the Test:</strong> Once the first fill has drained, refill the hole with water to the top.</li>
<li><strong>Measure Drainage:</strong> Set a timer and measure how much the water level drops over a specific period (e.g., 1 hour). You can use a ruler and a stick placed across the top of the hole to mark the starting level.</li>
<li><strong>Interpret Results:</strong>
<ul>
<li><strong>Excellent Drainage:</strong> Water drains at a rate of 1-3 inches (2.5-7.5 cm) per hour. This is ideal for most plants.</li>
<li><strong>Good Drainage:</strong> Water drains at 0.5-1 inch (1.25-2.5 cm) per hour. This is acceptable for many plants, but some might prefer faster drainage.</li>
<li><strong>Poor Drainage:</strong> Water drains at less than 0.5 inches (1.25 cm) per hour, or the water takes more than 12-24 hours to drain completely. This indicates a significant drainage problem. If water remains in the hole for days, your soil has severe drainage issues.</li>
</ul>
</li>
</ol>
<p>Performing this test in a few different problematic areas can give you a clearer picture of the extent and severity of your drainage problems.</p>
<h2 id="how-to-improve-yard-drainage-basic-solutions">How To Improve Yard Drainage (Basic Solutions)<a hidden class="anchor" aria-hidden="true" href="#how-to-improve-yard-drainage-basic-solutions">¶</a></h2>
<p>Once you&rsquo;ve identified the cause, several strategies, ranging from simple to more complex, can improve yard drainage. Start with the simpler solutions before moving to more intensive projects.</p>
<ol>
<li><strong>Amend the Soil with Organic Matter:</strong>
<ul>
<li><strong>For Compacted or Clay Soils:</strong> Incorporating generous amounts of organic matter (compost, well-rotted manure, peat moss, or finely shredded leaves) can dramatically improve soil structure. Organic matter creates larger pore spaces, allowing water to infiltrate more readily and roots to penetrate deeper.</li>
<li><strong>Application:</strong> For garden beds, till in 4-6 inches of organic matter. For lawns, top-dress with a thin layer (0.25-0.5 inches) of compost annually after aeration.</li>
</ul>
</li>
<li><strong>Aeration:</strong>
<ul>
<li><strong>Core Aeration:</strong> For lawns, core aeration is highly effective against compaction. It pulls out small plugs of soil, creating channels for water and air to reach the roots. This also helps break down thatch.</li>
<li><strong>Timing:</strong> Best done when grass is actively growing (fall for cool-season grasses, late spring/early summer for warm-season grasses).</li>
</ul>
</li>
<li><strong>Dethatching:</strong>
<ul>
<li>If your lawn has a thick thatch layer (more than 0.5 inches), it can impede water penetration. Dethatching removes this layer, allowing water to reach the soil.</li>
</ul>
</li>
<li><strong>Improve Grading (Minor Adjustments):</strong>
<ul>
<li>For small depressions or areas where water pools, you can manually fill these low spots with a mixture of topsoil and compost. Ensure the filled area slopes gently away from structures or towards a proper drainage point. This needs to be done gradually over time to avoid smothering existing grass.</li>
</ul>
</li>
<li><strong>Extend Downspouts:</strong>
<ul>
<li>Ensure your home&rsquo;s downspouts extend at least 5-10 feet (1.5-3 meters) away from your foundation. Directing roof runoff directly against the foundation is a common cause of basement leaks and yard puddling. Use simple plastic extenders or more permanent underground pipes.</li>
</ul>
</li>
<li><strong>Adjust Watering Habits:</strong>
<ul>
<li>If you&rsquo;re overwatering or watering too frequently, you might be contributing to the problem. Water deeply and infrequently to encourage deeper root growth and allow the soil to dry out slightly between waterings.</li>
</ul>
</li>
</ol>
<p>These initial steps are often the most cost-effective and least disruptive, and can solve many common drainage issues.</p>
<h2 id="other-yard-drainage-solutions-advanced-systems">Other Yard Drainage Solutions (Advanced Systems)<a hidden class="anchor" aria-hidden="true" href="#other-yard-drainage-solutions-advanced-systems">¶</a></h2>
<p>If basic methods don&rsquo;t sufficiently address your drainage problems, more advanced, often structural, solutions may be necessary. These usually require more planning, labor, and potentially professional help.</p>
<ol>
<li><strong>French Drains:</strong>
<ul>
<li><strong>Purpose:</strong> A French drain is a trench filled with gravel, containing a perforated pipe that redirects surface and subsurface water away from a problem area.</li>
<li><strong>Construction:</strong> A trench is dug with a slight slope, lined with permeable landscape fabric (to prevent soil from clogging the gravel), filled with gravel, and then the perforated pipe is laid on top of the gravel. More gravel covers the pipe, and the trench is typically topped with soil and sod or decorative gravel.</li>
<li><strong>Use:</strong> Highly effective for collecting water from soggy areas, sloping ground, or directing runoff away from foundations. They require an appropriate outlet for the water.</li>
</ul>
</li>
<li><strong>Dry Wells:</strong>
<ul>
<li><strong>Purpose:</strong> A dry well is an underground chamber, often a large pit filled with gravel or a specialized dry well structure, that temporarily stores excess stormwater and allows it to slowly percolate into the surrounding soil.</li>
<li><strong>Construction:</strong> Often connected to downspouts or French drains, the dry well is typically lined with landscape fabric and filled with aggregate.</li>
<li><strong>Use:</strong> Ideal for areas where there&rsquo;s no suitable downhill outlet for a French drain, or to manage large volumes of water from impervious surfaces.</li>
</ul>
</li>
<li><strong>Catch Basins and Drain Pipes:</strong>
<ul>
<li><strong>Purpose:</strong> Catch basins are grated grates installed at low points in the yard or hardscapes to collect surface water, which then flows into an underground solid drain pipe and is directed to a suitable discharge point (e.g., a dry well, storm drain, or designated swale).</li>
<li><strong>Use:</strong> Excellent for collecting standing water in specific low areas or managing runoff from patios and driveways.</li>
</ul>
</li>
<li><strong>Swales:</strong>
<ul>
<li><strong>Purpose:</strong> A swale is a shallow, broad, gently sloping ditch or depression in the landscape, sometimes planted with grass or other vegetation, designed to capture and slowly convey stormwater across a property.</li>
<li><strong>Use:</strong> A good natural-looking solution for redirecting sheet flow across a yard, slowing down water, and allowing some infiltration. Can be integrated aesthetically into the landscape.</li>
</ul>
</li>
<li><strong>Rain Gardens:</strong>
<ul>
<li><strong>Purpose:</strong> A rain garden is a shallow depression planted with water-tolerant native plants designed to capture and absorb rainwater runoff from impervious surfaces like roofs and driveways.</li>
<li><strong>Use:</strong> An aesthetically pleasing and environmentally beneficial solution for managing smaller to moderate volumes of stormwater runoff. It allows water to slowly infiltrate and filters pollutants.</li>
</ul>
</li>
<li><strong>Grading and Re-sloping:</strong>
<ul>
<li><strong>Purpose:</strong> This involves significant earthmoving to adjust the entire contour of your yard, ensuring proper slopes away from structures and towards designated drainage areas.</li>
<li><strong>Use:</strong> Necessary for severe grading issues where water consistently flows towards the house or large areas of the yard are perpetually wet due to incorrect elevation. This often requires professional heavy equipment.</li>
</ul>
</li>
</ol>
<p>For complex or persistent drainage problems, especially those affecting your home&rsquo;s foundation, consulting with a professional landscaper or drainage expert is highly recommended. They can assess the unique conditions of your property and design the most effective, long-term solution.</p>
<h2 id="conclusion-a-well-drained-yard-a-healthier-landscape">Conclusion: A Well-Drained Yard, A Healthier Landscape<a hidden class="anchor" aria-hidden="true" href="#conclusion-a-well-drained-yard-a-healthier-landscape">¶</a></h2>
<p>Poor yard drainage is more than just an inconvenience; it&rsquo;s a significant threat to the health of your lawn and plants, and potentially to the structural integrity of your home. The good news is that with careful observation, proper testing, and a strategic approach, most drainage issues can be effectively resolved.</p>
<p>By first understanding the common culprits, from compacted clay soil to improper grading, you gain clarity on the nature of your problem. A simple perk test can then provide concrete data on your soil&rsquo;s ability to drain. Armed with this knowledge, you can begin implementing solutions, starting with basic amendments like adding organic matter and core aeration, which often resolve many common issues. For more stubborn or widespread problems, advanced solutions like French drains, dry wells, or strategic re-grading offer robust, long-term remedies.</p>
<p>Investing time and effort in improving your yard&rsquo;s drainage pays dividends, fostering a healthier, more resilient landscape that not only looks better but also supports a thriving ecosystem and protects your property from water-related damage. A well-drained yard is a foundation for a truly enjoyable outdoor space.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-identify-the-cause-of-brown-spots-in-your-lawn/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Identify the Cause Of Brown Spots in Your Lawn</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-install-a-garden-arbor-near-existing-plants/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Install a Garden Arbor Near Existing Plants</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
