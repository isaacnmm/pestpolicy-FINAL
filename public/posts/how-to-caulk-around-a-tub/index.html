<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Caulk Around a Tub | Pest Policy</title>
<meta name="keywords" content="
   home-maintenance, tub, watertight">


<meta name="description" content="The caulk line around your bathtub and where the tub meets the surrounding walls (often tiled) is more than just a decorative finish. It&#39;s a critical water...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-caulk-around-a-tub/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-caulk-around-a-tub/">

 
<meta name="twitter:title" content="How to Caulk Around a Tub | Pest Policy" />


<meta name="twitter:description" content="The caulk line around your bathtub and where the tub meets the surrounding walls (often tiled) is more than just a decorative finish. It&#39;s a critical water..." />
<meta property="og:title" content="How to Caulk Around a Tub | Pest Policy" />
<meta property="og:description" content="The caulk line around your bathtub and where the tub meets the surrounding walls (often tiled) is more than just a decorative finish. It&#39;s a critical water..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-caulk-around-a-tub/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Caulk Around a Tub",
      "item": "http://localhost:1313/posts/how-to-caulk-around-a-tub/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Caulk Around a Tub | Pest Policy",
  "name": "How to Caulk Around a Tub",
  "description": "The caulk line around your bathtub and where the tub meets the surrounding walls (often tiled) is more than just a decorative finish. It's a critical water...",
  "keywords": [
    "home-maintenance", "tub", "watertight"
  ],
  "wordCount" : "1725",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-caulk-around-a-tub/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Caulk Around a Tub</h1>
    <div class="post-description">The caulk line around your bathtub and where the tub meets the surrounding walls (often tiled) is more than just a decorative finish. It&#39;s a critical water...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/home-maintenance/">Home-Maintenance</a><a href="http://localhost:1313/tags/tub/">Tub</a><a href="http://localhost:1313/tags/watertight/">Watertight</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>The caulk line around your bathtub and where the tub meets the surrounding walls (often tiled) is more than just a decorative finish. It&rsquo;s a critical waterproof barrier that protects your home from the damaging effects of water infiltration. Over time, due to expansion, contraction, everyday wear, and exposure to moisture and cleaning products, this caulk can crack, peel, shrink, or become discolored with mold and mildew. Once compromised, even a small gap can allow water to seep behind walls, into the floor joists, and eventually lead to costly issues like rot, structural damage, and widespread mold growth.</p>
<p>Knowing <strong>how to caulk around a tub</strong> is an essential DIY skill for any homeowner. It&rsquo;s a relatively inexpensive and straightforward project that can prevent significant headaches and expenses down the line. This comprehensive guide will walk you through every step of the process, from thorough preparation to the final smoothing techniques, ensuring you achieve a durable, watertight, and aesthetically pleasing seal around your tub.</p>
<hr>
<h2 id="why-caulk-around-a-tub-the-importance-of-a-watertight-seal">Why Caulk Around a Tub? The Importance of a Watertight Seal<a hidden class="anchor" aria-hidden="true" href="#why-caulk-around-a-tub-the-importance-of-a-watertight-seal">¶</a></h2>
<p>The primary function of caulk around a tub is to create a flexible, waterproof seal between two different surfaces that are prone to movement.</p>
<ul>
<li><strong>Prevent Water Penetration:</strong> The most crucial role. Caulk stops water from seeping into the gaps between the tub and the wall (or floor), protecting the subfloor, wall studs, and ceiling below from moisture damage.</li>
<li><strong>Prevent Mold and Mildew:</strong> A cracked or degraded caulk line traps moisture, creating an ideal environment for mold and mildew to flourish, leading to unhealthy air quality and unsightly stains.</li>
<li><strong>Accommodate Movement:</strong> Tubs, especially acrylic or fiberglass ones, can flex slightly when filled with water or occupied. Caulk, particularly silicone, is flexible enough to accommodate this movement without cracking, unlike rigid grout.</li>
<li><strong>Aesthetic Finish:</strong> A clean, smooth caulk line provides a polished, professional look, hiding minor imperfections and creating a seamless transition between surfaces.</li>
</ul>
<hr>
<h2 id="what-type-of-caulk-is-best-for-tubs">What Type of Caulk is Best for Tubs?<a hidden class="anchor" aria-hidden="true" href="#what-type-of-caulk-is-best-for-tubs">¶</a></h2>
<p>For bathrooms and areas exposed to constant moisture, <strong>100% silicone caulk</strong> is overwhelmingly recommended.</p>
<ul>
<li><strong>Superior Water Resistance:</strong> Silicone is inherently waterproof.</li>
<li><strong>Flexibility:</strong> It remains highly flexible, accommodating the expansion and contraction of materials without cracking. This is crucial for tubs that flex.</li>
<li><strong>Mold/Mildew Resistance:</strong> High-quality bathroom silicones often contain mildewcides to inhibit mold growth.</li>
<li><strong>Durability:</strong> Silicone lasts longer than most acrylic latex caulks in wet environments.</li>
</ul>
<p><strong>Avoid:</strong> Acrylic latex caulk (even &ldquo;kitchen and bath&rdquo; varieties) is generally not recommended for direct water immersion like tub seams, as it is more prone to shrinkage, cracking, and mold growth over time in these conditions.</p>
<p><strong>Color:</strong> Choose clear, white, or a colored silicone caulk that complements your tub, tile, and grout.</p>
<hr>
<h2 id="supplies-needed-for-caulking-around-a-tub">Supplies Needed for Caulking Around a Tub<a hidden class="anchor" aria-hidden="true" href="#supplies-needed-for-caulking-around-a-tub">¶</a></h2>
<p>Gathering all your tools and materials before you start will make the process much smoother.</p>
<ul>
<li><strong>New Caulk:</strong> High-quality 100% silicone caulk for kitchens &amp; baths (with mildewcide).</li>
<li><strong>Caulk Gun:</strong> A standard caulk gun; dripless models are nice to prevent oozing.</li>
<li><strong>Caulk Removal Tool or Utility Knife:</strong> For cutting and scraping old caulk. A dedicated caulk tool often has multiple ends.</li>
<li><strong>Scraper or Putty Knife:</strong> For tougher old caulk residue.</li>
<li><strong>Wire Brush or Old Toothbrush:</strong> To scrub grout lines and crevices.</li>
<li><strong>Cleaning Supplies:</strong>
<ul>
<li>Bucket of warm water</li>
<li>Sponges and clean rags/paper towels</li>
<li>Bleach-based cleaner or dedicated mold/mildew remover</li>
<li>Rubbing alcohol (isopropyl alcohol) or denatured alcohol (for final surface prep).</li>
</ul>
</li>
<li><strong>Painter&rsquo;s Tape (Optional but Recommended):</strong> For creating clean, straight lines.</li>
<li><strong>Caulk Smoothing Tool or Old Spoon:</strong> For creating a professional finish.</li>
<li><strong>Safety Glasses and Gloves:</strong> Always protect your eyes and hands. Ensure good ventilation.</li>
</ul>
<hr>
<h2 id="prepping-your-tub-for-caulking">Prepping Your Tub for Caulking<a hidden class="anchor" aria-hidden="true" href="#prepping-your-tub-for-caulking">¶</a></h2>
<p>Proper preparation is the most critical step for a long-lasting, watertight caulk seal. Do not rush or skip any of these steps.</p>
<ol>
<li>
<p><strong>Remove All Old Caulk:</strong></p>
<ul>
<li>This is the most labor-intensive but essential part. New caulk will not adhere properly to old caulk, leading to premature failure.</li>
<li>Use your caulk removal tool or utility knife to cut and scrape away all existing caulk. Hold the knife at a shallow angle to avoid scratching the tub or tile.</li>
<li>Work slowly and methodically. For stubborn sections, a scraper or putty knife can help. Pay special attention to corners and where caulk meets grout lines.</li>
<li><em>Pro Tip:</em> For very old, hardened caulk, a heat gun (on a low setting, with extreme caution and never heating plastic too much) can sometimes soften it, but be very careful not to damage surfaces. Chemical caulk removers are also available but require good ventilation and careful use.</li>
</ul>
</li>
<li>
<p><strong>Clean the Seam Thoroughly:</strong></p>
<ul>
<li>Once all old caulk is removed, you&rsquo;ll likely find dirt, soap scum, and possibly mold/mildew in the seam.</li>
<li>Use a stiff brush or old toothbrush to scrub the seam vigorously, removing all loose debris and residue from the grout lines and the surfaces where the caulk will adhere.</li>
<li>If mold or mildew is present, apply a bleach-based cleaner or a dedicated mold/mildew remover. Let it sit for the recommended time to kill the spores.</li>
<li>Rinse the entire area thoroughly with clean water, ensuring no cleaning product residue remains.</li>
</ul>
</li>
<li>
<p><strong>Dry Completely:</strong></p>
<ul>
<li>The surface <em>must</em> be bone dry for silicone caulk to adhere properly. Any moisture will prevent a strong bond.</li>
<li>Use paper towels or a clean rag to blot the area dry.</li>
<li>Allow ample time for the area to air dry, ideally for several hours, or even overnight, especially in humid bathrooms. A fan can significantly speed up the drying process.</li>
</ul>
</li>
<li>
<p><strong>Final Surface Preparation (Alcohol Wipe):</strong></p>
<ul>
<li>Just before applying new caulk, wipe down the entire seam with rubbing alcohol (isopropyl alcohol) or denatured alcohol and a clean paper towel.</li>
<li>This degreases the surface, removing any invisible soap film, oils, or residue that could hinder silicone&rsquo;s adhesion.</li>
<li>Allow the alcohol to evaporate completely (it dries quickly). The surface should now be impeccably clean and dry.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="planning-to-caulk-your-shower">Planning to Caulk Your Shower<a hidden class="anchor" aria-hidden="true" href="#planning-to-caulk-your-shower">¶</a></h2>
<p>With your tub sparkling clean and dry, it&rsquo;s time to plan your caulk application for a flawless finish.</p>
<ol>
<li>
<p><strong>Prepare the Tub (Crucial for Movement):</strong></p>
<ul>
<li><strong>Fill the tub with water.</strong> This is a vital step, especially for acrylic or fiberglass tubs. When a tub is filled with water, it expands and settles under the weight. If you caulk an empty tub, the caulk might crack when the tub is later filled and expands.</li>
<li>Leave the tub full of water until the caulk has fully cured.</li>
</ul>
</li>
<li>
<p><strong>Cut the Caulk Nozzle Tip:</strong></p>
<ul>
<li>Using your utility knife, cut the tip of the caulk tube nozzle at a 45-degree angle.</li>
<li><strong>Start Small:</strong> Begin with a very small opening, just slightly larger than the width of the gap you intend to fill. A smaller hole gives you more control and a finer bead. You can always cut it larger if needed.</li>
<li><strong>Puncture Inner Seal:</strong> Use the long wire often found on the caulk gun, or a long nail, to puncture the inner foil seal inside the caulk tube.</li>
</ul>
</li>
<li>
<p><strong>Load the Caulk Gun:</strong></p>
<ul>
<li>Pull the plunger rod of the caulk gun all the way back.</li>
<li>Insert the caulk tube into the gun barrel.</li>
<li>Push the plunger rod forward until it firmly contacts the back of the caulk tube.</li>
<li>If your gun has a pressure release lever/button, engage it after each bead to stop caulk from oozing out.</li>
</ul>
</li>
<li>
<p><strong>Apply Painter&rsquo;s Tape (Optional but Highly Recommended):</strong></p>
<ul>
<li>For perfectly straight, clean caulk lines, apply painter&rsquo;s tape along both sides of the seam.</li>
<li>Leave only the desired width of the caulk bead exposed. Aim for a bead that slightly overlaps both the tub and the wall/tile.</li>
<li>Press the edges of the tape down firmly to prevent caulk from seeping underneath. This guide will make your bead straight and significantly reduce cleanup.</li>
</ul>
</li>
<li>
<p><strong>Apply the Caulk Bead:</strong></p>
<ul>
<li>Hold the caulk gun at a consistent 45-degree angle to the seam.</li>
<li>Starting at one end, apply steady, even pressure to the caulk gun&rsquo;s trigger while moving the gun smoothly and continuously along the seam.</li>
<li>Aim for one continuous bead per side of the tub. Try not to stop and start midway through a run.</li>
<li><strong>Don&rsquo;t Over-Apply:</strong> It&rsquo;s better to apply slightly less caulk and add a little more if needed, rather than applying too much, which makes smoothing messy.</li>
<li>Pay special attention to corners, ensuring they are adequately filled.</li>
</ul>
</li>
<li>
<p><strong>Smooth the Caulk Bead (Immediately!):</strong></p>
<ul>
<li>This must be done immediately after applying the caulk, before it starts to skin over. Silicone sets quickly.</li>
<li><strong>Method 1 (Caulk Smoothing Tool):</strong> Use a dedicated caulk smoothing tool (often plastic or silicone, with various angles/radii). Lightly moisten the tool with rubbing alcohol. Drag it firmly and consistently along the bead to create a smooth, concave finish. Wipe off excess caulk from the tool frequently onto a paper towel.</li>
<li><strong>Method 2 (Gloved Finger):</strong> Put on a latex or nitrile glove. Lightly moisten your gloved finger with rubbing alcohol. Drag your finger smoothly and consistently along the entire bead with light, even pressure. This method allows for good tactile feel and can often achieve excellent results. Wipe off excess caulk from your finger frequently.</li>
</ul>
</li>
<li>
<p><strong>Remove Painter&rsquo;s Tape (If Used - Immediately!):</strong></p>
<ul>
<li>If you applied painter&rsquo;s tape, you <em>must</em> remove it immediately after smoothing the caulk, while the caulk is still wet.</li>
<li>Pull the tape slowly and at a 45-degree angle away from the fresh caulk line. If you wait too long, the caulk will skin over and pull with the tape, ruining your crisp line.</li>
</ul>
</li>
<li>
<p><strong>Clean Up and Cure:</strong></p>
<ul>
<li>Immediately wipe up any errant caulk smears or drips with a paper towel dampened with rubbing alcohol or mineral spirits (check caulk manufacturer&rsquo;s recommendation for cleanup solvent).</li>
<li><strong>Allow the caulk to fully cure before exposing it to water.</strong> This is crucial for a strong, watertight seal. Check the caulk tube for specific curing times, which can range from 24 to 72 hours.</li>
<li><strong>Do not drain the tub until the caulk is fully cured.</strong> Leaving the tub full helps the caulk cure in its expanded state, preventing cracking later.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>Re-caulking around a tub is a fundamental home maintenance task that directly impacts the longevity and health of your bathroom. By investing the time in meticulous preparation and following these steps for <strong>how to caulk around a tub</strong>�especially filling the tub, using 100% silicone, and employing proper smoothing techniques�you can achieve a professional-quality, watertight seal. This DIY project will protect your home from costly water damage, deter mold growth, and refresh the appearance of your bathroom for years to come.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-caulk-a-shower/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Caulk a Shower</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-change-a-lawn-mower-spark-plug/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Change a Lawn Mower Spark Plug</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
