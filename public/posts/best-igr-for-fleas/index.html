<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Igr for Fleas | Pest Policy</title>
<meta name="keywords" content="
   fleas, igr, flea">


<meta name="description" content="When choosing the best IGR (Insect Growth Regulator) for fleas, you can consider things like effectiveness, safety, ease of use, and the specific environme...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-igr-for-fleas/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-igr-for-fleas/">

 
<meta name="twitter:title" content="Best Igr for Fleas | Pest Policy" />


<meta name="twitter:description" content="When choosing the best IGR (Insect Growth Regulator) for fleas, you can consider things like effectiveness, safety, ease of use, and the specific environme..." />
<meta property="og:title" content="Best Igr for Fleas | Pest Policy" />
<meta property="og:description" content="When choosing the best IGR (Insect Growth Regulator) for fleas, you can consider things like effectiveness, safety, ease of use, and the specific environme..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-igr-for-fleas/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Igr for Fleas",
      "item": "http://localhost:1313/posts/best-igr-for-fleas/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Igr for Fleas | Pest Policy",
  "name": "Best Igr for Fleas",
  "description": "When choosing the best IGR (Insect Growth Regulator) for fleas, you can consider things like effectiveness, safety, ease of use, and the specific environme...",
  "keywords": [
    "fleas", "igr", "flea"
  ],
  "wordCount" : "1190",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-igr-for-fleas/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Igr for Fleas</h1>
    <div class="post-description">When choosing the best IGR (Insect Growth Regulator) for fleas, you can consider things like effectiveness, safety, ease of use, and the specific environme...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/fleas/">Fleas</a><a href="http://localhost:1313/tags/igr/">Igr</a><a href="http://localhost:1313/tags/flea/">Flea</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>When choosing the best IGR (Insect Growth Regulator) for fleas, you can consider things like effectiveness, safety, ease of use, and the specific environment where it will be applied.</p>
<p>These factors help ensure that you pick a product that meets your needs while providing long-lasting protection against
[<a href="/posts/best-flea-carpet-powder/">flea</a> infestation](<a href="https://pestpolicy.com/flea-life-cycle/">https://pestpolicy.com/flea-life-cycle/</a>)
.</p>
<h2 id="key-factors-to-consider">Key Factors to Consider<a hidden class="anchor" aria-hidden="true" href="#key-factors-to-consider">¶</a></h2>
<p><strong>1. Effectiveness Against Different Flea Life Stages</strong>
Some products, like
<a href="https://www.amazon.com/dp/B00C2R54QY/?tag=p-policy-20"><strong>MKG NyGuard IGR</strong></a>
, are highly effective against various flea life stages, including eggs, larvae, and pupae.</p>
<p>This broad-spectrum effectiveness ensures that the product not only kills adult fleas but also prevents future generations from maturing, which is crucial in breaking the flea life cycle and controlling infestations over time.
<strong>2. Safety for Pets and Humans</strong>
Safety is a critical factor, especially if you have pets or small children. Products like
<a href="https://www.amazon.com/dp/B00ECIMRV6/?tag=p-policy-20"><strong>Zoecon Precor IGR</strong></a>
are formulated to be safe for use around pets and humans while still being tough on fleas.</p>
<p>This makes it ideal for households where the safety of all family members, including pets, is a priority. It&rsquo;s important to choose products that are non-toxic and won&rsquo;t cause adverse reactions.
<strong>3. Ease of Application</strong>
Some IGRs, such as
<strong>Martin&rsquo;s IGR</strong>
, come in easy-to-use spray formulations that can be applied directly to carpets, furniture, and other areas where fleas are likely to thrive.</p>
<p>The convenience of application ensures that you can treat large areas quickly and effectively, making it easier to manage flea infestations without professional help.
Related:
<a href="https://pestpolicy.com/best-flea-spray-for-home/">See the Top Flea Sprays Today</a>
<strong>4. Longevity of Protection</strong>
Long-lasting protection is essential for preventing reinfestation.
<strong>Archer IGR</strong>
is known for providing up to 7 months of protection with a single application.</p>
<p>This means fewer treatments are needed over time, saving you money and effort while ensuring continuous protection against fleas.
<strong>5. Environmental Impact</strong>
If you&rsquo;re environmentally conscious, you might prefer products like
<strong>Tekko Pro IGR</strong>
, which is designed to be environmentally friendly while still effectively controlling fleas.</p>
<p>This product minimizes its impact on the environment, making it a responsible choice for those who are concerned about the ecological effects of pest control products.</p>
<h2 id="top-5-recommendations---best-igr-for-fleas">Top 5 Recommendations - Best IGR for Fleas<a hidden class="anchor" aria-hidden="true" href="#top-5-recommendations---best-igr-for-fleas">¶</a></h2>
<h3 id="1-mkg-nyguard-igr"><a href="https://www.amazon.com/dp/B00C2R54QY/?tag=p-policy-20"><strong>1. MKG NyGuard IGR</strong></a><a hidden class="anchor" aria-hidden="true" href="#1-mkg-nyguard-igr">¶</a></h3>
<p>NyGuard IGR offers a broad spectrum of control, targeting fleas at every life stage. It is versatile and can be used both indoors and outdoors.</p>
<ul>
<li><strong>Benefits</strong>: Provides up to 7 months of control, helping to eliminate both active fleas and preventing new ones from developing. It&rsquo;s also compatible with various other insecticides.</li>
<li><strong>Cons</strong>: May require repeated applications in areas with heavy infestations. Not the most affordable option on the market.</li>
</ul>
<h3 id="2-zoecon-precor-igr"><a href="https://www.amazon.com/dp/B00ECIMRV6/?tag=p-policy-20"><strong>2. Zoecon Precor IGR</strong></a><a hidden class="anchor" aria-hidden="true" href="#2-zoecon-precor-igr">¶</a></h3>
<p>Specifically formulated for indoor use, Precor IGR targets flea eggs and larvae
(
<a href="https://pestpolicy.com/what-kills-fleas-on-contact/">contact killing</a>
)
, preventing them from developing into adult fleas.</p>
<ul>
<li><strong>Benefits</strong>: Safe for use around pets and children, with a long-lasting formula that can keep fleas at bay for up to 7 months. It also has no odor, making it pleasant to use indoors.Plus the<a href="http://www.npic.orst.edu/ingred/ptype/synergist.html"><strong>synergist</strong></a>will enhance the action of these ingredients.</li>
<li><strong>Cons</strong>: Limited to indoor use, so its not suitable for outdoor flea control. It may also require additional adulticides for comprehensive treatment.</li>
</ul>
<h3 id="3-martin"><a href="https://www.amazon.com/dp/B0024E5YE2/?tag=p-policy-20"><strong>3. Martin&rsquo;s IGR</strong></a><a hidden class="anchor" aria-hidden="true" href="#3-martin">¶</a></h3>
<p>This product comes in an easy-to-use liquid form, ideal for mixing with water and applying as a spray.</p>
<ul>
<li><strong>Benefits</strong>: Effective and affordable, Martin&rsquo;s IGR can be used on carpets, furniture, and other areas where fleas are a concern. It offers protection for up to 7 months.</li>
<li><strong>Cons</strong>: Requires mixing before application, which might be inconvenient for some users. It also has a slight odor upon application.</li>
</ul>
<h3 id="4-archer-igr"><a href="https://www.amazon.com/dp/B004H0I1HI/?tag=p-policy-20"><strong>4. Archer IGR</strong></a><a hidden class="anchor" aria-hidden="true" href="#4-archer-igr">¶</a></h3>
<p>Archer IGR offers long-lasting protection, with residual activity lasting up to 7 months after application.
Well, Archer IGR
<a href="https://www.epa.gov/pesticide-labels/introduction-pesticide-labels"><strong>may not kill adult fleas</strong></a>
, but it does stop them from reproducing. It is an insect growth regulator that prevents immature eggs from maturing past a certain stage of development.</p>
<ul>
<li><strong>Benefits</strong>: Effective in a variety of environments, including outdoor areas. It&rsquo;s also photostable, meaning it doesn&rsquo;t break down easily in sunlight, making it suitable for outdoor use.</li>
<li><strong>Cons</strong>: Slightly more expensive compared to other IGRs. It may require more product for heavily infested areas.</li>
</ul>
<h3 id="5-tekko-pro-igr"><a href="https://www.amazon.com/dp/B00RW197XG/?tag=p-policy-20"><strong>5. Tekko Pro IGR</strong></a><a hidden class="anchor" aria-hidden="true" href="#5-tekko-pro-igr">¶</a></h3>
<p>Tekko Pro combines two active ingredients for enhanced efficacy, making it particularly effective against fleas in both indoor and outdoor settings. You may
choose to treat Tekko Pro IGR instead of
using a flea bomb
.</p>
<ul>
<li><strong>Benefits</strong>: Environmentally friendly, with a dual-action formula that prevents fleas from maturing while also stopping them from reproducing. It provides up to 6 months of control.</li>
<li><strong>Cons</strong>: May need to be used in conjunction with an adulticide for severe infestations. The initial cost is higher than some other products.</li>
</ul>
<h2 id="igrs-and-flea-control---selecting-the-best-igr">IGRs and Flea Control - Selecting the Best IGR<a hidden class="anchor" aria-hidden="true" href="#igrs-and-flea-control---selecting-the-best-igr">¶</a></h2>
<p>There are 2 major classifications of IGRs for fleas, based on</p>
<ol>
<li>The active ingredient</li>
<li>Added chemicals like knockdowns and synergists
<strong>1. (S)-Hydroprene</strong>
The active ingredient in Gentrol is
<a href="http://npic.orst.edu/factsheets/hydropregen.pdf">(S)-Hydroprene</a>
. This chemical has been found to work for killing both fleas, moths, beetles, and cockroaches.</li>
</ol>
<ul>
<li>The knockdown in Gentrol has been found to work for killing both adult fleas and their larvae.</li>
<li>This IGR can be used on carpets, upholstery, cracks and crevices, non-food areas where pets are present indoors only.
<strong>2. Pyriproxifen</strong>
<a href="http://npic.orst.edu/factsheets/pyriprogen.html">Pyriproxifen</a>
is another IGR for fleas that are applied directly to your dogs and cats.</li>
<li>This chemical has been found to work for killing larval stages of fleas, as well as moths, cockroaches, beetles, and ants.</li>
<li>The knockdown in this product has also proven useful against adult fleas indoors only on carpets or upholstery with no food present.
It can be used outdoors if pets are not around but it must stay dry when applied outside because rain and direct sunlight will affect its effectiveness.
<strong>3. Dinotefuran</strong>
<a href="http://ipm.ucanr.edu/TOOLS/PNAI/pnaishow.php?id=29">Dinotefuran</a>
is classified as a
<a href="https://citybugs.tamu.edu/factsheets/ipm/what-is-a-neonicotinoid/"><strong>neonicotinoid</strong></a>
as it&rsquo;ll damage the fleas nerve synapses&rsquo; receptors in the CNS. This is an insecticide, not an IGR.
Sentinel is a fast-acting product that works as an adulticide, and its residual effect will last for about 3 months.
<strong>3. Methoprene</strong>
<a href="http://npic.orst.edu/factsheets/methogen.html">Methoprene</a>
is available in either r-methoprene or s-methoprene and it&rsquo;s a good choice for fleas because of its low toxicity to humans, pets, and wildlife.
S-methoprene works like an IGR; it&rsquo;s sprayed around on the carpets or upholstery.</li>
<li>This product should be used as soon as possible to prevent new eggs from hatching.</li>
<li>If you choose this option it&rsquo;s important not to let it dry out because rain will wash the chemical away before it has been able to activate.
<strong>4. Prallethrin</strong>
<a href="https://www.law.cornell.edu/cfr/text/40/180.545">Prallethrin</a>
is an insecticide from the
<a href="http://www.npic.orst.edu/factsheets/pyrethrins.pdf"><strong>pyrethroid</strong></a>
family and it&rsquo;s often used alongside an IGR.
Prallethrin is a chemical generally used for the control of food-contaminating and nuisance insects like ticks, fleas, roaches, and
ants
.</li>
</ul>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Selecting the best IGR for fleas requires careful consideration of various factors, including effectiveness, safety, ease of use, and environmental impact. Products like NyGuard IGR, Precor IGR, and Martin&rsquo;s IGR each offer unique benefits that make them suitable for different situations.</p>
<p>By evaluating your specific needs and the conditions of your environment, you can choose an IGR that provides long-lasting, safe, and effective flea control, ensuring a pest-free home.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-hvlp-sprayer-for-cabinets/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Hvlp Sprayer for Cabinets</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-indoor-flea-killer/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Indoor Flea Killer</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
