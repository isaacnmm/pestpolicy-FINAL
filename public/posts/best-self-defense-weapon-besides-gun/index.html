<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Self Defense Weapon Besides Gun | Pest Policy</title>
<meta name="keywords" content="
   defense, self, weapon">


<meta name="description" content="Maybe you dont fancy guns, or they are illegal (for the public) in your state.�However, you still need">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-self-defense-weapon-besides-gun/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-self-defense-weapon-besides-gun/">

 
<meta name="twitter:title" content="Best Self Defense Weapon Besides Gun | Pest Policy" />


<meta name="twitter:description" content="Maybe you dont fancy guns, or they are illegal (for the public) in your state.�However, you still need" />
<meta property="og:title" content="Best Self Defense Weapon Besides Gun | Pest Policy" />
<meta property="og:description" content="Maybe you dont fancy guns, or they are illegal (for the public) in your state.�However, you still need" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-self-defense-weapon-besides-gun/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Self Defense Weapon Besides Gun",
      "item": "http://localhost:1313/posts/best-self-defense-weapon-besides-gun/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Self Defense Weapon Besides Gun | Pest Policy",
  "name": "Best Self Defense Weapon Besides Gun",
  "description": "Maybe you dont fancy guns, or they are illegal (for the public) in your state.�However, you still need",
  "keywords": [
    "defense", "self", "weapon"
  ],
  "wordCount" : "1558",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-self-defense-weapon-besides-gun/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Self Defense Weapon Besides Gun</h1>
    <div class="post-description">Maybe you dont fancy guns, or they are illegal (for the public) in your state.�However, you still need</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/defense/">Defense</a><a href="http://localhost:1313/tags/self/">Self</a><a href="http://localhost:1313/tags/weapon/">Weapon</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Maybe you dont fancy guns, or they are illegal (for the public) in your state.�However, you still need
*the best self-defense weapon besides guns. *</p>
<ul>
<li>In this article, we will describe the best personal and home self-defense products that are non-gun related:*no guns, no bullets, or even shotguns! *
But, youll need to check with your local laws if the products we describe are legal. Also, get appropriate training that will enable you to protect yourself against any buglers that get into your house. Read Also:
Blinds for Bedroom Windows
.</li>
</ul>
<h2 id="reviews-7-best-self-defense-weapon-besides-gun-in-2025">Reviews: 7 Best Self Defense Weapon Besides Gun in 2025<a hidden class="anchor" aria-hidden="true" href="#reviews-7-best-self-defense-weapon-besides-gun-in-2025">¶</a></h2>
<h3 id="1-dewalt-dcs380b-20-volt-reciprocating-saw"><a href="https://www.amazon.com/gp/product/B007NVSTCK/?tag=p-policy-20">1. DEWALT DCS380B 20-Volt Reciprocating Saw</a><a hidden class="anchor" aria-hidden="true" href="#1-dewalt-dcs380b-20-volt-reciprocating-saw">¶</a></h3>
<p>The new 20-volt max DEWALT Reciprocating Saw has a 3 amp hour battery that will serve you appropriately as a self-defense tool in the house.</p>
<ul>
<li>The Reciprocating Saw kit has a charger and an amazing mold case.
A reciprocating saw perfectly fits into the class of the Best Self Defense Weapon Besides Gun as you&rsquo;ll not need to fire.</li>
<li>Further, it has an adjustable shoe and two blades that will ease its operation and efficiency.</li>
<li>It has a 4-position blade. Also, the saws handle that will give you an excellent grip.
With about 3,000 strokes every minute, and an eight-inch stoke, the reciprocating saw will allow greater capacity for self-protection in your home.</li>
</ul>
<p>Depending on the distance between you and your attacker, youll need to choose the Best Self Defense Weapon Besides Gun wisely.</p>
<p><a href="https://www.youtube.com/watch?v=t0DwdGKGzgk">https://www.youtube.com/watch?v=t0DwdGKGzgk</a></p>
<p>Read Also:
Driveway Alarms Reviewed</p>
<h3 id="2-streetwise-security-products-mini-barbarian-stun-baton"><a href="https://www.amazon.com/dp/B00PF1LK94/?tag=p-policy-20">2. Streetwise Security Products Mini Barbarian Stun Baton</a><a hidden class="anchor" aria-hidden="true" href="#2-streetwise-security-products-mini-barbarian-stun-baton">¶</a></h3>
<p>The MINI Barbarian stun baton by Streetwise can help you protect yourself against attackers or barbarians.
The device has Military type Aluminum Alloy that will protect you against electric shock from the unit.</p>
<p>Also, the Stun Baton has a Recharging cord that you can plug into the mains. You should feel safe with the Stun Baton since it has three safety levels.</p>
<p>The Stun Baton is designed with the excellent Triple Stun Technology, has a blinding flashlight and spikes to allow you to fight your attacker in the house or on the street.</p>
<p>To protect yourself quickly, you should always locate the Stun Button on your nightstand for easy access.</p>
<ul>
<li>The Stun Baton will send a bright light, an intimidating electric sound, and an electric current that will both disorient and stop your attacker.</li>
<li>The tool is about 14 inches long and thus will be easy to carry around and protect yourself without coming up and close to your attacker.
Th
e very bright light will temporarily blind your assailant when flashed at night. Such light will blind the attacker and give you time to strike them with a baton.
However, the light on the button has different modes that you can change for emergency use of self-defense. Read Also:
Outdoor Rocking Chairs Reviewed
.</li>
</ul>
<h3 id="3-olight-m1x-striker-1000-lumens-led-flashlight"><a href="https://www.amazon.com/dp/B00YFWSWKE/?tag=p-policy-20">3. Olight M1X Striker 1000 Lumens LED Flashlight</a><a hidden class="anchor" aria-hidden="true" href="#3-olight-m1x-striker-1000-lumens-led-flashlight">¶</a></h3>
<p>Finally, the Olight M1X Striker tops the list of the Best Self Defense Weapon Besides Gun, and it uses a strong light to keep off intruders.
The M1X Striker flashlight is a simple and excellent self-defense tool. The double switch tactical LED has high-intensity light output.</p>
<ul>
<li>It has rechargeable batteries and comes with a strike bezel. Also, the tool has aCree XM-L2 LED, having a max of 1000 lumens.
In addition to the Stroke element, the flashlight has five varied brightness levels for maximum self-protection and emergency use.
Further, youll love the flashlight for its high portable practicability.�Read Also:
Blackout Curtains Reviewed
.</li>
</ul>
<h3 id="4-tactical-knife"><a href="https://www.amazon.com/gp/product/B003D7K07K/?tag=p-policy-20">4. Tactical Knife</a><a hidden class="anchor" aria-hidden="true" href="#4-tactical-knife">¶</a></h3>
<p>A tactical knife will be an excellent self-defense weapon for you at the home, office, or outdoors.
First, according to a Police-Policy Council
<a href="http://www.theppsc.org/Staff_Views/Tueller/How.Close.htm">Study</a>
, a tactical knife will be highly helpful than a gun when your target is within 20 feet from you.</p>
<p>In the current time, when most have adopted a more minimalistic life, I am sure youll love a weapon (the tactical knife) that serves more than one purpose in your outdoor activities.</p>
<p>So what should you consider in a tactical knife?�Well, like any other weapon, your tactical knife must be strong and have an appropriate length.</p>
<p>This will prevent the tactical knife from breaking while in use, which could expose you to danger from the attacker at the most critical time.</p>
<p>Also, the tactical knife should have the appropriate size to allow easy concealing as you move around in the outdoor or indoor space.</p>
<p>For example, using a knife would require that you get close to your attacker. But, sometimes, you might want to attack from a distance to minimize the possibility of the attacker getting close and personal to you.</p>
<p>In such cases, a reciprocating saw, pepper spray, batons, or sword walking sticks can help you protect yourself in case of a home invasion.</p>
<p><a href="https://www.youtube.com/watch?v=WwC6CRAnNyk">https://www.youtube.com/watch?v=WwC6CRAnNyk</a></p>
<p>Read Also:
<a href="https://pestpolicy.com/how-to-select-a-wireless-driveway-alarm/">Select a Wireless Driveway Alarm</a></p>
<h3 id="5-fox-labs-law-enforcement-defence-spray---pistol-grip"><a href="https://www.amazon.com/dp/B003ZA6D6C/?tag=p-policy-20">5. Fox Labs Law Enforcement Defence Spray - Pistol Grip</a><a hidden class="anchor" aria-hidden="true" href="#5-fox-labs-law-enforcement-defence-spray---pistol-grip">¶</a></h3>
<p>Fox 5.3 self-defense spray is a fogger-type personal defense tool that will allow you to target a wider span as opposed to just pinpointing one area.
The Pound Pistol spray will fire over a distance, about 19 feet. It will run the spray burst for about 36 half-second.</p>
<ul>
<li>Also, the spray has a marking UV Dye that will help identify the attackers.</li>
<li>Luckily, if you are worried about the expiry date, then you will find it stamped on the can.
It is easy to use as youll only need to flip your thumb properly to lift the small barrier guard, and then you can press the spraying button upon pointing to your attacker.</li>
</ul>
<p>The spray is the most effective, intense, and potent self-defense spray in the world. This is because it has a highly pure OC resin formula that is ranked as 5.3 million SHU.</p>
<p>The flipping unit is spring-loaded to prevent any activation through an accident. Further, the spray device is safe and non-flammable and thus is suitable for use with the TASER/ECD gadgets.</p>
<ul>
<li>Pepper spray will be an excellent alternative to the use of lethal force.</li>
<li>Further, it will be highly effective on mentally unstable persons or those under the influence of alcohol or other drugs.
Protect yourself against rape, robbery, murder, and violent crimes easily with the Fox 5.3 self Defense Spray.</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=hG4vjIxcd8Y">https://www.youtube.com/watch?v=hG4vjIxcd8Y</a></p>
<p>Read Also:
<a href="https://pestpolicy.com/best-crossbow-for-self-defense/">Crossbow for Self Defense</a></p>
<h3 id="6-taser-x26c-with-laser-light--6-cartridges--holster-black"><a href="https://www.amazon.com/dp/B006MBA286/?tag=p-policy-20">6. Taser X26C with Laser Light  6 Cartridges &amp; Holster Black</a><a hidden class="anchor" aria-hidden="true" href="#6-taser-x26c-with-laser-light--6-cartridges--holster-black">¶</a></h3>
<p>The C in the Taser X26C stands for the CIVILIAN version of the police or law enforcement equivalent device.
The key difference between the two Tasers is that with the law enforcement device, one can only pull its trigger once and goes for about 5 seconds.</p>
<p>However, with the civilian version of the Taser, one can pull the trigger thrice and can go for about 30 seconds, and thus you can take a more extended tease on your attacker.</p>
<p>The Taser is a long-range self-defense device that is used for long-range, about 12 feet, protection.</p>
<p>Due to the distance, it allows you from your attacker; the Taser is considered a highly effective self-defense mechanism.</p>
<p>It works by firing two darts that are attached to the 15 feet wiring propelled from its cartridge, and that affixes itself to the attackers skin.</p>
<ul>
<li>It sends a 30-second energy surge that affects the assailants nervous system and disrupts the brain muscle coordination.</li>
<li>The attacker will fall, but if this fails, you can still use the Taser as a stun gun until you hit your attacker appropriately.
Also, the tool uses a digital power magazine with a screen that shows the energy usage and will compute the remaining power life for the loaded magazine.</li>
</ul>
<p>The Taser also has a timer that will alert you when to fire, mainly when its cartridge is present.</p>
<p>Further, you can purchase an extended battery that will enhance more grip and allow you to store an extra cartridge at the bottom that will be easily accessible while dealing with your attacker.</p>
<p><a href="https://www.youtube.com/watch?v=4g9hC7jrDms">https://www.youtube.com/watch?v=4g9hC7jrDms</a></p>
<p>Read Also:
<a href="https://pestpolicy.com/long-range-wireless-driveway-alert-system/">Long Range Wireless Driveway Alert System</a></p>
<h3 id="7-sabre-three-in-one-pepper-spray"><a href="https://www.amazon.com/dp/B0007VM8UC/?tag=p-policy-20">7. SABRE Three-in-One Pepper Spray</a><a hidden class="anchor" aria-hidden="true" href="#7-sabre-three-in-one-pepper-spray">¶</a></h3>
<p>The SABRE 3-IN-1 Pepper Spray has been designed, used from 1975 to date, to make your attacker lose consciousness.
We highly recommend pepper spray as it is used by many police departments.</p>
<p>With a 4-year shelf life, the SABRE 3-IN-1 Pepper Spray will provide you with the highest benefit over its valid lifetime. You should note that other pepper sprays only have about 2-years shelf life.</p>
<ul>
<li>Be assured of the canisters hardiness as it is strength and fire tested and approved.</li>
<li>The spray is easier to use compared to other pepper sprays as it does not require shaking.
SABRE 3-IN-1 Pepper Spray has a 10-feet range, allows thirty-five 1-second spray bursts, and holds 5-times more spray and thus will.</li>
</ul>
<p>Therefore, the spray will enable you to fight and immobilize multiple attackers, which is not possible with other pepper spray brands.</p>
<p>The spray is delivered through a mighty stream and thus prevents wind from blowing. Further, the device is easy to use since it has a Twist lock safety and can clip safely on a belt.</p>
<p>Read Also:
Bullet Journal Notebook
.</p>
<h3 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h3>
<p>There you have it! The ultimate list of the�Best Home Defense Weapon Not a Gun or�Best Self Defense Weapon Besides Gun for your review.</p>
<ul>
<li>I hope you are now better placed to pick the next self-defense tool, even with your requirement of avoiding a gun.
Happy Shopping!!!</li>
</ul>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-sectional-sofa-for-family/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Sectional Sofa for Family</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-self-propelled-lawn-mowers-under-300/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Self Propelled Lawn Mowers Under 300</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
