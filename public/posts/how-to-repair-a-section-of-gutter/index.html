<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Repair a Section Of Gutter | Pest Policy</title>
<meta name="keywords" content="
   gutters, section, gutter">


<meta name="description" content="Gutters are an essential component of your home&#39;s defense against water damage. They tirelessly collect rainwater from your roof and divert it safely away ...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-repair-a-section-of-gutter/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-repair-a-section-of-gutter/">

 
<meta name="twitter:title" content="How to Repair a Section Of Gutter | Pest Policy" />


<meta name="twitter:description" content="Gutters are an essential component of your home&#39;s defense against water damage. They tirelessly collect rainwater from your roof and divert it safely away ..." />
<meta property="og:title" content="How to Repair a Section Of Gutter | Pest Policy" />
<meta property="og:description" content="Gutters are an essential component of your home&#39;s defense against water damage. They tirelessly collect rainwater from your roof and divert it safely away ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-repair-a-section-of-gutter/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Repair a Section Of Gutter",
      "item": "http://localhost:1313/posts/how-to-repair-a-section-of-gutter/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Repair a Section Of Gutter | Pest Policy",
  "name": "How to Repair a Section Of Gutter",
  "description": "Gutters are an essential component of your home's defense against water damage. They tirelessly collect rainwater from your roof and divert it safely away ...",
  "keywords": [
    "gutters", "section", "gutter"
  ],
  "wordCount" : "1628",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-repair-a-section-of-gutter/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Repair a Section Of Gutter</h1>
    <div class="post-description">Gutters are an essential component of your home&#39;s defense against water damage. They tirelessly collect rainwater from your roof and divert it safely away ...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/gutters/">Gutters</a><a href="http://localhost:1313/tags/section/">Section</a><a href="http://localhost:1313/tags/gutter/">Gutter</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p><a href="/posts/all-american-gutters-reviews/">Gutters</a> are an essential component of your home&rsquo;s defense against water damage. They tirelessly collect rainwater from your roof and divert it safely away from your foundation, siding, and landscaping. However, gutters are constantly exposed to the elements � sun, rain, snow, ice, and falling debris � which can lead to various forms of damage over time. From sagging sections and leaky seams to cracks and detached downspouts, even minor <a href="/posts/are-gutters-necessary/">gutter</a> issues can quickly escalate into significant problems if left unaddressed.</p>
<p>Fortunately, many common gutter problems can be effectively repaired by a diligent homeowner with basic tools and a bit of know-how. Tackling these repairs promptly not only prevents more extensive and costly damage to your home but also extends the lifespan of your entire gutter system.</p>
<p>This guide will walk you through the process of how to fix a section of gutter or downspout, common problems and their solutions, specific instructions for sagging and split gutters, and general cleaning tips to maintain your system effectively.</p>
<hr>
<h2 id="how-to-fix-a-section-of-gutter-or-downspouts">How To Fix a Section of Gutter or Downspouts<a hidden class="anchor" aria-hidden="true" href="#how-to-fix-a-section-of-gutter-or-downspouts">¶</a></h2>
<p>Repairing a section of gutter or downspout typically involves addressing leaks, securing loose parts, or replacing damaged sections.</p>
<p><strong>Tools and Materials You&rsquo;ll Need:</strong></p>
<ul>
<li>Sturdy ladder</li>
<li>Work gloves and eye protection</li>
<li>Gutter sealant/caulk (high-quality, exterior-grade, waterproof)</li>
<li>Caulk gun</li>
<li>Wire brush or stiff-bristled brush</li>
<li>Putty knife or scraper</li>
<li>Screwdriver or drill with appropriate bits (for fasteners)</li>
<li>Pop rivet gun and rivets (for downspouts)</li>
<li>Replacement gutter section, downspout section, or elbow (if needed)</li>
<li>Gutter hangers/brackets (if needed)</li>
<li>Tin snips (for cutting metal gutters)</li>
<li>Measuring tape</li>
<li>Cleaning supplies (bucket, water, mild detergent)</li>
</ul>
<p><strong>General Steps for Sectional Repair:</strong></p>
<ol>
<li><strong>Safety First:</strong> Always use a sturdy, properly secured ladder. Have a spotter if possible. Wear gloves and eye protection.</li>
<li><strong>Inspect Thoroughly:</strong> Before starting any repair, clean the area well. Then, carefully inspect the entire gutter section and downspout for the source of the problem. Sometimes a visible leak is merely a symptom of an issue further up the line (e.g., a clog).</li>
<li><strong>Clean the Area:</strong> For any repair involving sealant, the surface must be clean and dry. Remove all debris, old caulk, rust, or loose paint with a wire brush or scraper. Use a damp cloth to wipe away dirt, then allow it to dry completely.</li>
<li><strong>Make the Repair:</strong>
<ul>
<li><strong>Leaks at Seams/Joints:</strong> For small leaks, apply a generous bead of gutter sealant over the seam or joint, ensuring it&rsquo;s pushed into any cracks. Smooth with a finger or putty knife. For larger leaks or damaged seams, you might need to disassemble the joint, clean both sides, apply sealant, and then re-join and secure.</li>
<li><strong>Loose Downspout Sections:</strong> If downspout sections have separated or are wobbly, reconnect them and secure with self-tapping sheet metal screws or pop rivets. Apply sealant around the connection for a watertight seal.</li>
<li><strong>Small Holes/Cracks in Gutter Trough:</strong> For holes smaller than a quarter, clean the area, then apply a layer of sealant over the hole, extending beyond its edges. For larger holes, you might need a small patch of gutter material (cut from a scrap piece) applied with sealant and secured with rivets or screws, then sealed over.</li>
<li><strong>Replacing a Section:</strong> If a section is severely damaged (large holes, crushed), it&rsquo;s best to replace it. Cut out the damaged section using tin snips or a hacksaw. Measure and cut a new piece of gutter to fit. Use gutter connectors (slip joints) and sealant to join the new section to the existing ones. Ensure proper pitch.</li>
</ul>
</li>
<li><strong>Test the Repair:</strong> After the sealant has cured (check product instructions for drying time), flush the repaired section with water from a garden hose to check for leaks.</li>
</ol>
<hr>
<h2 id="common-gutter-problems-and-how-to-fix-them">Common Gutter Problems and How To Fix Them<a hidden class="anchor" aria-hidden="true" href="#common-gutter-problems-and-how-to-fix-them">¶</a></h2>
<p>Here are specific solutions for frequently encountered gutter issues:</p>
<ul>
<li>
<p><strong>Clogs:</strong></p>
<ul>
<li><strong>Problem:</strong> The most common gutter issue. Leaves, twigs, shingle grit, and other debris build up, preventing water flow and causing overflows.</li>
<li><strong>Fix:</strong> Manually remove all debris from the gutter trough. Use a garden hose to flush out downspouts. If a downspout is heavily clogged, you might need a plumber&rsquo;s snake, a power washer (carefully!), or to disassemble a section of the downspout to clear it.</li>
<li><strong>Prevention:</strong> Regular cleaning (2-4 times a year, depending on trees) and installing gutter guards.</li>
</ul>
</li>
<li>
<p><strong>Leaky Seams or End Caps:</strong></p>
<ul>
<li><strong>Problem:</strong> Over time, sealant at joints degrades, or fasteners loosen, creating drips.</li>
<li><strong>Fix:</strong> Clean the affected area thoroughly, removing old, cracked sealant. Apply a new, generous bead of high-quality gutter sealant (e.g., polyurethane or silicone specifically for gutters) over the seam or around the end cap connection. Smooth and allow to cure.</li>
</ul>
</li>
<li>
<p><strong>Loose or Missing Hangers/Brackets:</strong></p>
<ul>
<li><strong>Problem:</strong> Gutters pull away from the fascia board, sag, or become unstable due to damaged or insufficient hangers.</li>
<li><strong>Fix:</strong> If the old screw hole is stripped, try moving the hanger slightly and drilling a new pilot hole. Use longer, galvanized or stainless steel screws for better bite. For severely damaged hangers, replace them entirely with new ones of the appropriate type for your gutter style (e.g., hidden hangers, shank and circle).</li>
</ul>
</li>
<li>
<p><strong>Downspout Detachment:</strong></p>
<ul>
<li><strong>Problem:</strong> Downspouts separate from the gutter outlet or from lower sections, often due to strong winds or impact.</li>
<li><strong>Fix:</strong> Realign the downspout sections. Use self-tapping sheet metal screws or pop rivets to secure the joints. Apply gutter sealant around the connections for a watertight seal. Ensure the downspout is securely attached to the wall with appropriate straps.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="how-to-repair-a-sagging-gutter">How To Repair a Sagging Gutter<a hidden class="anchor" aria-hidden="true" href="#how-to-repair-a-sagging-gutter">¶</a></h2>
<p>A sagging gutter is a common problem that leads to standing water and overflows. It&rsquo;s usually caused by loose or inadequate hangers.</p>
<ol>
<li><strong>Identify the Sag:</strong> After cleaning the gutter, pour water into the affected area or wait for rain. Observe where water collects instead of flowing towards the downspout.</li>
<li><strong>Locate Weak Hangers:</strong> The sag usually occurs between two hangers, or because a hanger has pulled away from the fascia.</li>
<li><strong>Assess Fascia Condition:</strong> Check the fascia board behind the sagging gutter. If it&rsquo;s rotted, simply reattaching hangers won&rsquo;t work long-term. You&rsquo;ll need to repair or replace the rotted fascia first.</li>
<li><strong>Re-Secure/Add Hangers:</strong>
<ul>
<li><strong>Loose Hanger:</strong> If an existing hanger is loose, re-screw it into solid wood. If the old screw hole is stripped, drill a new pilot hole nearby or consider a slightly longer screw.</li>
<li><strong>Insufficient Hangers:</strong> Gutters should have hangers every 2-3 feet (for K-style) or 2-4 feet (for half-round). If they are spaced too far apart, install additional hangers in the sagging section to properly support the weight.</li>
<li><strong>Replace Damaged Hangers:</strong> If hangers are bent or broken, replace them with new, sturdy hangers of the correct type.</li>
</ul>
</li>
<li><strong>Adjust Pitch:</strong> Once hangers are secure, ensure the gutter has the correct pitch (a slight slope of about 1/4 inch per 10 feet) towards the downspout. You may need to slightly adjust the height of the hangers to achieve this. Use a level.</li>
</ol>
<hr>
<h2 id="how-to-fix-a-split-gutter">How To Fix a Split Gutter<a hidden class="anchor" aria-hidden="true" href="#how-to-fix-a-split-gutter">¶</a></h2>
<p>A split or crack in the gutter trough itself is more serious than a seam leak, but can often be patched.</p>
<ol>
<li><strong>Clean and Dry:</strong> Thoroughly clean and dry the area around the split, removing any debris, dirt, or old sealant. Use a wire brush if there&rsquo;s rust or flaking paint.</li>
<li><strong>Prepare the Patch:</strong>
<ul>
<li>For small splits (up to a few inches): A heavy-duty gutter sealant may be sufficient.</li>
<li>For larger splits/cracks: You&rsquo;ll need a patch. Cut a piece of gutter material (aluminum, galvanized steel, or copper, depending on your gutter) that extends at least 2 inches beyond the split on all sides. You can buy small sheets of matching material or use scraps.</li>
</ul>
</li>
<li><strong>Apply Sealant and Patch:</strong>
<ul>
<li>Apply a generous layer of high-quality gutter sealant directly over the split and slightly beyond.</li>
<li>Press the patch firmly over the sealant, ensuring good adhesion.</li>
<li>Secure the patch with self-tapping sheet metal screws or pop rivets, spacing them every inch or so around the perimeter of the patch.</li>
<li>Apply another layer of sealant over the entire patch and around the screw/rivet heads for a watertight seal. Smooth it down.</li>
</ul>
</li>
<li><strong>Curing Time:</strong> Allow the sealant to cure completely as per manufacturer instructions before testing.</li>
</ol>
<hr>
<h2 id="how-to-clean-your-gutters">How To Clean Your Gutters<a hidden class="anchor" aria-hidden="true" href="#how-to-clean-your-gutters">¶</a></h2>
<p>Regular cleaning is the most important preventative maintenance for your gutter system.</p>
<ol>
<li><strong>Gather Supplies:</strong> Sturdy ladder, work gloves, safety glasses, scoop or trowel, bucket, garden hose with spray nozzle.</li>
<li><strong>Clear Debris:</strong> Starting at one end, manually scoop out all leaves, twigs, dirt, and shingle grit from the gutter trough. Collect it in a bucket for easy disposal. Pay close attention to downspout openings.</li>
<li><strong>Flush with Water:</strong> Once the gutter trough is clear, use a garden hose to flush water down the gutter towards the downspouts.</li>
<li><strong>Check Downspouts:</strong> Observe water coming out of the downspouts. If flow is slow or non-existent, there&rsquo;s a clog. Use the hose (high pressure) to push the clog out. If persistent, use a plumber&rsquo;s snake or disassemble downspout sections.</li>
<li><strong>Inspect:</strong> While cleaning, take the opportunity to inspect for loose hangers, leaks, or damage.</li>
<li><strong>Frequency:</strong> At least twice a year (spring and fall). More often if you have many trees nearby.</li>
</ol>
<hr>
<h2 id="key-takeaways">Key Takeaways<a hidden class="anchor" aria-hidden="true" href="#key-takeaways">¶</a></h2>
<ul>
<li><strong>Proactive maintenance is key:</strong> Regular cleaning prevents most common gutter problems.</li>
<li><strong>Safety First:</strong> Always use a stable ladder and proper safety gear when working at heights.</li>
<li><strong>Cleanliness is Crucial for Repairs:</strong> For sealants to bond effectively, surfaces must be spotless and dry.</li>
<li><strong>Use the Right Materials:</strong> Invest in high-quality exterior-grade gutter sealants and appropriate fasteners for long-lasting repairs.</li>
<li><strong>Don&rsquo;t Delay Repairs:</strong> Small issues like leaks or sagging can quickly lead to much larger, more expensive problems with your roof, fascia, and foundation if ignored.</li>
<li><strong>Know When to Call a Pro:</strong> For extensive damage, multiple broken sections, or if you&rsquo;re uncomfortable working at heights, don&rsquo;t hesitate to call a professional gutter repair service.</li>
</ul>
<p>By understanding common gutter problems and knowing how to address them, you can keep your home well-protected from water damage year-round.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-remove-tile-backsplash/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Remove Tile Backsplash</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-repair-sagging-gutters/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Repair Sagging Gutters</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
