<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Install or Replace Gutters | Pest Policy</title>
<meta name="keywords" content="
   gutters, replace, gutter">


<meta name="description" content="Gutters are an indispensable component of any home, quietly working to divert countless gallons of rainwater and snowmelt away from your roof, siding, and ...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-install-or-replace-gutters/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-install-or-replace-gutters/">

 
<meta name="twitter:title" content="How to Install or Replace Gutters | Pest Policy" />


<meta name="twitter:description" content="Gutters are an indispensable component of any home, quietly working to divert countless gallons of rainwater and snowmelt away from your roof, siding, and ..." />
<meta property="og:title" content="How to Install or Replace Gutters | Pest Policy" />
<meta property="og:description" content="Gutters are an indispensable component of any home, quietly working to divert countless gallons of rainwater and snowmelt away from your roof, siding, and ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-install-or-replace-gutters/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Install or Replace Gutters",
      "item": "http://localhost:1313/posts/how-to-install-or-replace-gutters/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Install or Replace Gutters | Pest Policy",
  "name": "How to Install or Replace Gutters",
  "description": "Gutters are an indispensable component of any home, quietly working to divert countless gallons of rainwater and snowmelt away from your roof, siding, and ...",
  "keywords": [
    "gutters", "replace", "gutter"
  ],
  "wordCount" : "1614",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-install-or-replace-gutters/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Install or Replace Gutters</h1>
    <div class="post-description">Gutters are an indispensable component of any home, quietly working to divert countless gallons of rainwater and snowmelt away from your roof, siding, and ...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/gutters/">Gutters</a><a href="http://localhost:1313/tags/replace/">Replace</a><a href="http://localhost:1313/tags/gutter/">Gutter</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p><a href="/posts/all-american-gutters-reviews/">Gutters</a> are an indispensable component of any home, quietly working to divert countless gallons of rainwater and snowmelt away from your roof, siding, and crucial foundation. A properly functioning <a href="/posts/are-gutters-necessary/">gutter</a> system safeguards your property from erosion, leaks, basement flooding, and costly structural damage. However, like any exterior element, gutters have a finite lifespan. When they become damaged, inefficient, or simply too old, replacement becomes a necessary home improvement project.</p>
<p>Installing new gutters, whether as a replacement for a failing system or as a new addition to a home lacking them, is a significant undertaking. While many homeowners consider it a professional job, with careful planning, the right tools, and a methodical approach, a determined DIYer can successfully tackle sectional gutter installation or replacement. For seamless gutters, professional installation is almost always required due to specialized equipment.</p>
<p>This guide will walk you through the essential steps for replacing or installing gutters, help you recognize the signs that new gutters are needed, assist with planning, weigh the DIY versus professional options, discuss lifespan, and provide tips for maintaining your new system.</p>
<hr>
<h2 id="steps-for-replacing-gutters">Steps for Replacing Gutters<a hidden class="anchor" aria-hidden="true" href="#steps-for-replacing-gutters">¶</a></h2>
<p>Replacing gutters involves removing the old system and installing a new one. This guide focuses on <strong>sectional gutter installation</strong>, which is more DIY-friendly. Seamless gutter installation requires specialized machinery and is typically done by professionals.</p>
<p><strong>Tools and Materials You&rsquo;ll Need:</strong></p>
<ul>
<li><strong>Safety Gear:</strong> Sturdy ladder (extension or multi-positional), work gloves, safety glasses, helper/spotter.</li>
<li><strong>Removal (if replacing):</strong> Pry bar, utility knife, drill/driver.</li>
<li><strong>Measuring &amp; Marking:</strong> Tape measure, chalk line, level (preferably a long one or laser level), pencil/marker.</li>
<li><strong>Cutting:</strong> Tin snips, hacksaw (for downspouts), miter saw (for straight, clean cuts on gutter sections).</li>
<li><strong>Fastening:</strong> Drill/driver, self-tapping sheet metal screws, gutter hangers/brackets, fascia brackets (if needed), pop rivet gun with rivets.</li>
<li><strong>Sealing:</strong> Gutter sealant (high-quality, exterior-grade, waterproof, silicone or polyurethane), caulk gun.</li>
<li><strong>Gutter Components:</strong> Gutter sections, end caps, corner pieces (inside and outside miters), downspout outlets, downspout sections, elbows, downspout straps, downspout extensions.</li>
</ul>
<p><strong>Step-by-Step Replacement Process:</strong></p>
<ol>
<li>
<p><strong>Safety First &amp; Site Prep:</strong></p>
<ul>
<li>Ensure your ladder is stable on a firm, level surface. Follow all ladder safety guidelines.</li>
<li>Clear the area below the gutters of any obstacles, plants, or furniture. Lay down tarps to protect landscaping and catch debris.</li>
<li>Wear all safety gear.</li>
</ul>
</li>
<li>
<p><strong>Remove Old Gutters (if replacing):</strong></p>
<ul>
<li>Start by unscrewing or prying loose the downspout sections and straps. Remove the downspout.</li>
<li>Working from one end, carefully unfasten the old gutter sections from the fascia board. Use a pry bar or drill. Be careful not to damage the fascia.</li>
<li>Dispose of old gutters responsibly.</li>
</ul>
</li>
<li>
<p><strong>Prepare the Fascia Board:</strong></p>
<ul>
<li>Inspect the fascia board for any rot, damage, or soft spots. Repair or replace any damaged sections before installing new gutters.</li>
<li>Ensure the fascia is clean, smooth, and ready for new attachments.</li>
<li>Install a drip edge or gutter apron if one isn&rsquo;t present or is damaged. This metal flashing extends from under the roof shingles and into the gutter, ensuring all water sheds properly into the gutter and protects the fascia.</li>
</ul>
</li>
<li>
<p><strong>Determine and Mark Gutter Pitch:</strong></p>
<ul>
<li>Gutters need a slight slope (pitch) towards the downspouts to drain properly. A general rule is a pitch of <strong>1/4 inch of drop for every 10 feet of gutter run.</strong></li>
<li>Locate your downspout outlet points. If you have a very long run, you might pitch from the middle of the run down to downspouts at both ends, or pitch from one end to a downspout at the other.</li>
<li>Mark the high point of the gutter run (e.g., at one end of the fascia).</li>
<li>From this high point, measure down the fascia board the calculated total drop (e.g., for a 30-foot run at 1/4 inch/10 feet, total drop is 3 x 1/4 = 3/4 inch). Mark the low point.</li>
<li>Snap a chalk line between your high and low marks along the fascia. This line will guide the top edge of your gutter.</li>
</ul>
</li>
<li>
<p><strong>Install Downspout Outlets:</strong></p>
<ul>
<li>At your marked low points, cut holes in the gutter sections for the downspout outlets using tin snips or a hole saw.</li>
<li>Insert the downspout outlet into the hole and secure it to the gutter section with self-tapping screws or pop rivets. Apply gutter sealant around the flange of the outlet on the inside of the gutter for a watertight seal.</li>
</ul>
</li>
<li>
<p><strong>Attach Gutter Hangers/Brackets:</strong></p>
<ul>
<li>There are various types of gutter hangers (e.g., hidden hangers, spike-and-ferrule, fascia brackets). Hidden hangers are common and provide a clean look.</li>
<li>Install the first hanger at the high point mark on your chalk line.</li>
<li>Space subsequent hangers every 2-3 feet along the chalk line. Ensure they are aligned to support the gutter at the correct pitch. Secure them firmly into the fascia board, preferably into rafters behind the fascia for maximum strength.</li>
</ul>
</li>
<li>
<p><strong>Install Gutter Sections:</strong></p>
<ul>
<li>Cut gutter sections to length using tin snips or a miter saw (for cleaner cuts). Measure carefully.</li>
<li>Attach end caps to the very ends of the runs, securing with rivets and sealing thoroughly from the inside.</li>
<li>Attach corner pieces (inside or outside miters) to join sections at roof corners. Use gutter sealant and rivets for watertight connections.</li>
<li>Lift and snap or screw the gutter sections into the installed hangers, following your chalk line. Work one section at a time, ensuring they fit securely.</li>
<li>For connecting gutter sections in a long run, use slip connectors or overlap sections by 6-8 inches and secure with rivets, then apply a generous bead of gutter sealant to all seams from the inside.</li>
</ul>
</li>
<li>
<p><strong>Install Downspouts:</strong></p>
<ul>
<li>Measure and cut downspout sections and elbows to connect the downspout outlet to the ground.</li>
<li>Use elbows to navigate around eaves and down the wall. The top section of downspout fits <em>inside</em> the bottom part of the downspout outlet to prevent leaks. Subsequent sections overlap with the top section fitting inside the lower one.</li>
<li>Secure downspout sections together using self-tapping sheet metal screws or pop rivets (2-3 per connection).</li>
<li>Attach downspout straps to secure the downspout to the house wall, typically every 4-6 feet. Ensure the downspout is vertical.</li>
<li>Add downspout extensions at the bottom to direct water away from the foundation (5-10 feet minimum).</li>
</ul>
</li>
<li>
<p><strong>Test the System:</strong></p>
<ul>
<li>Once all components are installed and sealant has cured (check product instructions for drying time), flush the entire gutter system with water from a garden hose.</li>
<li>Check for any leaks, proper pitch (water should flow smoothly to downspouts), and ensure downspouts are draining effectively.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="signs-you-need-to-replace-your-gutters">Signs You Need To Replace Your Gutters<a hidden class="anchor" aria-hidden="true" href="#signs-you-need-to-replace-your-gutters">¶</a></h2>
<p>Knowing when to replace versus repair can save you time and money. Look for these signs:</p>
<ol>
<li><strong>Cracks, Splits, or Holes:</strong> Especially if numerous, long, or recurring after repairs.</li>
<li><strong>Rust (on steel gutters):</strong> Widespread rust is a sign of material failure.</li>
<li><strong>Sagging or Pulling Away from the House:</strong> If widespread, or if the fascia behind it is rotted.</li>
<li><strong>Peeling Paint or Discoloration:</strong> If it&rsquo;s severe and widespread, especially if accompanied by water damage on fascia/siding.</li>
<li><strong>Water Damage to Home:</strong> Water stains on siding, fascia rot, foundation leaks, or basement flooding are undeniable signs your gutters are failing.</li>
<li><strong>Frequent Clogging/Overflowing:</strong> Even after cleaning, if gutters consistently overflow, they may be undersized for your roof or climate.</li>
<li><strong>Age:</strong> Gutters typically last 20-30 years (aluminum/steel), less for vinyl. If yours are nearing or exceeding this, replacement might be a good preventative measure.</li>
</ol>
<hr>
<h2 id="planning-for-gutter-replacement-or-installation">Planning for Gutter Replacement or Installation<a hidden class="anchor" aria-hidden="true" href="#planning-for-gutter-replacement-or-installation">¶</a></h2>
<p>Careful planning ensures a successful project.</p>
<ul>
<li><strong>Measure Accurately:</strong> Measure the linear footage of all rooflines where gutters will be installed. Measure downspout lengths and the number of corners/elbows.</li>
<li><strong>Assess Roof Pitch and Drainage:</strong> Determine how much water your roof sheds and where downspouts are optimally placed.</li>
<li><strong>Choose Materials and Style:</strong> Decide between aluminum, steel, copper, or vinyl, and whether you prefer sectional or seamless (which impacts DIY feasibility).</li>
<li><strong>Consider Local Climate:</strong> In heavy rain areas, larger gutters (e.g., 6-inch instead of 5-inch) and more downspouts might be necessary. In heavy snow areas, stronger hangers are important.</li>
<li><strong>Budget:</strong> Get quotes for materials and, if hiring a pro, for labor.</li>
</ul>
<hr>
<h2 id="should-you-diy-or-hire-a-gutter-installation-professional">Should You DIY or Hire a Gutter Installation Professional?<a hidden class="anchor" aria-hidden="true" href="#should-you-diy-or-hire-a-gutter-installation-professional">¶</a></h2>
<ul>
<li><strong>DIY (Sectional Gutters):</strong>
<ul>
<li><strong>Pros:</strong> Cost savings on labor, sense of accomplishment.</li>
<li><strong>Cons:</strong> Time-consuming, physically demanding, safety risks (working at heights), potential for improper pitch or leaks if not done meticulously.</li>
<li><strong>Best for:</strong> Homeowners with basic carpentry skills, comfortable on ladders, and dealing with straightforward, single-story homes.</li>
</ul>
</li>
<li><strong>Hire a Professional (Seamless or Complex Projects):</strong>
<ul>
<li><strong>Pros:</strong> Expertise, specialized equipment (e.g., seamless gutter machines), efficiency, warranty on labor and materials, safer.</li>
<li><strong>Cons:</strong> Higher cost.</li>
<li><strong>Best for:</strong> Multi-story homes, complex rooflines, desire for seamless gutters, or if you&rsquo;re uncomfortable with heights or extensive DIY.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="how-often-should-you-replace-house-gutters">How Often Should You Replace House Gutters?<a hidden class="anchor" aria-hidden="true" href="#how-often-should-you-replace-house-gutters">¶</a></h2>
<p>The lifespan of gutters varies significantly by material:</p>
<ul>
<li><strong>Vinyl:</strong> 1-5 years (lower quality) to 10-20 years (higher quality, mild climate).</li>
<li><strong>Aluminum:</strong> 20-30 years.</li>
<li><strong>Steel (Galvanized/Galvalume):</strong> 20-30 years.</li>
<li><strong>Copper:</strong> 50-100+ years.</li>
<li><strong>Zinc:</strong> 80-100+ years.</li>
</ul>
<p>Regular maintenance can extend these lifespans, while neglect or severe weather can shorten them. It&rsquo;s often more about the &ldquo;signs you need to replace&rdquo; than a strict adherence to age.</p>
<hr>
<h2 id="maintaining-your-new-gutters">Maintaining Your New Gutters<a hidden class="anchor" aria-hidden="true" href="#maintaining-your-new-gutters">¶</a></h2>
<p>Once your new gutters are installed, ongoing maintenance is crucial to ensure their longevity and performance:</p>
<ul>
<li><strong>Regular Cleaning:</strong> At least twice a year (spring and fall), clear out all debris. More often if you have many trees.</li>
<li><strong>Flush Downspouts:</strong> Ensure downspouts are clear by flushing with a hose.</li>
<li><strong>Inspect Regularly:</strong> Check for loose hangers, leaks, or any signs of damage. Address minor issues promptly.</li>
<li><strong>Trim Trees:</strong> Keep overhanging branches trimmed to reduce debris accumulation.</li>
<li><strong>Consider Gutter Guards:</strong> While not maintenance-free, they significantly reduce the frequency of cleaning by keeping large debris out.</li>
</ul>
<p>By understanding the installation process, recognizing the signs of failure, and committing to regular maintenance, you can ensure your gutters continue their vital role in protecting your home for decades to come.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-install-landscape-fabric-and-plastic/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Install Landscape Fabric and Plastic</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-install-rain-gutters/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Install Rain Gutters</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
