<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Prune Bushes to Look Like Trees | Pest Policy</title>
<meta name="keywords" content="
   guides, bushe, tree">


<meta name="description" content="Transforming a bushy shrub into a tree-like form, often called a &#39;standard&#39; or &#39;tree form,&#39; is a rewarding horticultural technique that can add elegance, s...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-prune-bushes-to-look-like-trees/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-prune-bushes-to-look-like-trees/">

 
<meta name="twitter:title" content="How to Prune Bushes to Look Like Trees | Pest Policy" />


<meta name="twitter:description" content="Transforming a bushy shrub into a tree-like form, often called a &#39;standard&#39; or &#39;tree form,&#39; is a rewarding horticultural technique that can add elegance, s..." />
<meta property="og:title" content="How to Prune Bushes to Look Like Trees | Pest Policy" />
<meta property="og:description" content="Transforming a bushy shrub into a tree-like form, often called a &#39;standard&#39; or &#39;tree form,&#39; is a rewarding horticultural technique that can add elegance, s..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-prune-bushes-to-look-like-trees/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Prune Bushes to Look Like Trees",
      "item": "http://localhost:1313/posts/how-to-prune-bushes-to-look-like-trees/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Prune Bushes to Look Like Trees | Pest Policy",
  "name": "How to Prune Bushes to Look Like Trees",
  "description": "Transforming a bushy shrub into a tree-like form, often called a 'standard' or 'tree form,' is a rewarding horticultural technique that can add elegance, s...",
  "keywords": [
    "guides", "bushe", "tree"
  ],
  "wordCount" : "1549",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-prune-bushes-to-look-like-trees/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Prune Bushes to Look Like Trees</h1>
    <div class="post-description">Transforming a bushy shrub into a tree-like form, often called a &#39;standard&#39; or &#39;tree form,&#39; is a rewarding horticultural technique that can add elegance, s...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/bushe/">Bushe</a><a href="http://localhost:1313/tags/tree/">Tree</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Transforming a bushy shrub into a <a href="/posts/10-trees-to-grow-in-containers/">tree</a>-like form, often called a &ldquo;standard&rdquo; or &ldquo;tree form,&rdquo; is a rewarding horticultural technique that can add elegance, structure, and a unique focal point to your garden. This practice involves gradually removing lower branches to expose a single trunk or a cluster of graceful multi-stems, elevating the plant&rsquo;s canopy and creating a more open, architectural presence. This technique not only enhances aesthetic appeal but can also improve air circulation, allow for underplanting, and showcase attractive bark.</p>
<p>While not every shrub is a candidate for this transformation, many common bushes can be successfully trained to mimic the stature of a small tree. This guide will walk you through the selection process, the step-by-step pruning techniques, and ongoing care to help you achieve stunning tree-like forms from your garden shrubs.</p>
<h2 id="bushes-vs-trees-understanding-the-difference">Bushes vs. Trees: Understanding the Difference<a hidden class="anchor" aria-hidden="true" href="#bushes-vs-trees-understanding-the-difference">¶</a></h2>
<p>Before diving into pruning, it&rsquo;s helpful to understand the fundamental botanical difference between bushes (shrubs) and trees, and how pruning bridges this gap.</p>
<ul>
<li><strong>Shrub (Bush):</strong> A woody plant that typically has multiple stems branching out from or near the ground level. Shrubs usually have a bushy, dense growth habit and are generally shorter than trees. Examples include Forsythia, Hydrangea, many varieties of Rose.</li>
<li><strong>Tree:</strong> A woody plant, typically tall, with a single, unbranched trunk for at least a significant portion of its height, which then branches out to form a crown. Examples include Oak, Maple, Pine.</li>
</ul>
<p>When we prune a bush to look like a tree, we are essentially encouraging a shrub to adopt a tree&rsquo;s growth habit by selecting and training one or more dominant stems to become trunks, while removing the lower lateral branches and competing shoots. This is a form of <strong>training</strong> rather than simply pruning for health or size.</p>
<h2 id="choosing-the-right-bushes-for-tree-like-pruning">Choosing the Right Bushes for Tree-Like Pruning<a hidden class="anchor" aria-hidden="true" href="#choosing-the-right-bushes-for-tree-like-pruning">¶</a></h2>
<p>Not all shrubs are suitable for training into tree forms. The best candidates possess certain characteristics:</p>
<ul>
<li><strong>Strong, Woody Stems:</strong> The shrub should naturally develop sturdy, upright stems that can support a canopy. Plants with very flimsy or sprawling stems will struggle.</li>
<li><strong>Attractive Bark:</strong> Once the lower branches are removed, the exposed trunk(s) will become a prominent feature. Shrubs with interesting bark (e.g., exfoliating, colorful, or textured) will add significant year-round appeal.</li>
<li><strong>Appropriate Growth Rate:</strong> Moderately fast-growing shrubs are often easier to train, but very vigorous growers might require more frequent maintenance to keep their shape.</li>
<li><strong>Growth Habit (Initially):</strong> While multi-stemmed shrubs are common, some shrubs naturally have one or two stronger, more upright stems that can be easily selected as future trunks.</li>
<li><strong>Examples of Good Candidates:</strong>
<ul>
<li><strong>Crape Myrtle (Lagerstroemia spp.):</strong> Excellent choice due to their beautiful exfoliating bark, strong multi-stemmed habit, and long blooming season.</li>
<li><strong>Hydrangea (e.g., <em>Hydrangea paniculata</em> cultivars like &lsquo;Limelight&rsquo;, &lsquo;Pinky Winky&rsquo;):</strong> Can be trained into lovely multi-stemmed or single-trunk standards.</li>
<li><strong>Rhododendron/Azalea (larger, upright varieties):</strong> Can be carefully limbed up to expose attractive woody stems.</li>
<li><strong>Viburnum (upright varieties):</strong> Many viburnums have a strong enough structure to form small trees.</li>
<li><strong>Lilac (Syringa vulgaris):</strong> Older, established lilacs often have sturdy trunks that can be exposed.</li>
<li><strong>Holly (Ilex spp. - upright varieties):</strong> Many hollies respond well to this type of pruning.</li>
<li><strong>Privet (Ligustrum spp.):</strong> Though sometimes considered invasive, they are very easy to shape.</li>
<li><strong>Rose of Sharon (Hibiscus syriacus):</strong> Can be trained into a single or multi-stemmed standard.</li>
</ul>
</li>
</ul>
<h2 id="steps-to-prune-bushes-into-tree-forms">Steps to Prune Bushes into Tree Forms<a hidden class="anchor" aria-hidden="true" href="#steps-to-prune-bushes-into-tree-forms">¶</a></h2>
<p>This is a gradual process that may take a few years to achieve the desired effect. Patience is key.</p>
<p><strong>Tools Needed:</strong></p>
<ul>
<li>Bypass pruners (for small branches)</li>
<li>Loppers (for medium branches)</li>
<li>Pruning saw (for larger branches)</li>
<li>Sterilized cloths/alcohol (for cleaning tools)</li>
<li>Safety glasses</li>
<li>Gloves</li>
</ul>
<p><strong>The Process (Annual or Bi-annual pruning, best done in late winter/early spring when dormant):</strong></p>
<ol>
<li>
<p><strong>Assess and Select Trunks (Year 1):</strong></p>
<ul>
<li><strong>Single Trunk Standard:</strong> Choose the strongest, straightest, and most central stem to be your future trunk. Remove all other stems at ground level.</li>
<li><strong>Multi-Stemmed Tree:</strong> Select 3-5 of the strongest, most upright, and well-spaced stems. Remove all other competing stems at ground level. This creates a natural, graceful tree form.</li>
<li><strong>Clear the Base:</strong> Remove any small suckers or shoots emerging from the base of your chosen trunk(s).</li>
</ul>
</li>
<li>
<p><strong>Define the Crown Height (Year 1 &amp; 2):</strong></p>
<ul>
<li>Decide how tall you want the &ldquo;trunk&rdquo; to be before the canopy begins. This depends on the shrub&rsquo;s mature size and your aesthetic preference.</li>
<li>Gradually remove side branches from the lower portion of your selected trunk(s). Make clean cuts back to the main stem, ensuring not to leave stubs.</li>
<li>Start from the bottom and work your way up, removing only a small portion of the lower branches each year (e.g., 15-30 cm / 6-12 inches). This allows the plant to recover and strengthens the developing trunk(s).</li>
<li><strong>Important:</strong> Never remove more than 25-30% of the plant&rsquo;s overall foliage in a single year, as this can severely stress or even kill the plant.</li>
</ul>
</li>
<li>
<p><strong>Shape the Canopy (Ongoing):</strong></p>
<ul>
<li>Once you&rsquo;ve achieved your desired trunk height, focus on shaping the upper branches that will form the crown.</li>
<li><strong>Thinning:</strong> Remove any crossing, rubbing, or inward-growing branches to improve air circulation and light penetration.</li>
<li><strong>Heading Back (Optional):</strong> If the canopy becomes too dense or out of bounds, you can selectively cut back branch tips to a lateral bud or branch to control size and encourage bushier growth in the canopy.</li>
<li>Maintain the desired shape (rounded, oval, spreading, etc.) by selectively pruning.</li>
</ul>
</li>
<li>
<p><strong>Remove Suckers and Basal Growth (Ongoing Maintenance):</strong></p>
<ul>
<li>Throughout the growing season, consistently remove any new shoots or suckers that emerge from the base of the trunk(s) or from the ground. These will try to revert the plant back to its bushy form. Cut them as close to the point of origin as possible.</li>
</ul>
</li>
</ol>
<h2 id="caring-for-newly-shaped-bush-trees">Caring for Newly Shaped Bush-Trees<a hidden class="anchor" aria-hidden="true" href="#caring-for-newly-shaped-bush-trees">¶</a></h2>
<ul>
<li><strong>Support (Optional for Standards):</strong> For single-trunk standards, especially when young, a sturdy stake may be necessary for the first few years to help the trunk develop strength and remain straight. Secure with soft ties that won&rsquo;t girdle the trunk. Remove the stake once the trunk is strong enough.</li>
<li><strong>Watering:</strong> Ensure consistent watering, especially during dry periods, as newly pruned plants are under stress.</li>
<li><strong>Mulching:</strong> Apply a 5-10 cm (2-4 inch) layer of organic mulch around the base of the plant (keeping it away from the trunk) to conserve moisture, regulate soil temperature, and suppress weeds.</li>
<li><strong>Fertilizing:</strong> Fertilize in spring with a balanced slow-release fertilizer according to the plant&rsquo;s needs. Avoid over-fertilizing, which can promote excessive, weak growth.</li>
</ul>
<h2 id="common-challenges-and-solutions">Common Challenges and Solutions<a hidden class="anchor" aria-hidden="true" href="#common-challenges-and-solutions">¶</a></h2>
<ul>
<li><strong>Weak Trunk(s):</strong> If your chosen trunk isn&rsquo;t sturdy enough, use a stake for support and allow more time for it to thicken before removing all lower branches. Consider a multi-stemmed form instead of a single standard.</li>
<li><strong>Suckering:</strong> Some plants are prone to aggressive suckering from the base. Consistent removal is key. If neglected, they will quickly revert to a bushy form.</li>
<li><strong>Unbalanced Canopy:</strong> Uneven growth in the crown can be corrected with selective pruning to encourage a more balanced shape.</li>
<li><strong>Too Much Removed Too Soon:</strong> If you remove too many lower branches at once, the plant may go into shock or struggle. Always aim for gradual removal over several seasons.</li>
<li><strong>Disease/Pests:</strong> Pruning wounds can be entry points. Ensure clean cuts and sterilize tools between plants. Monitor for signs of pests or diseases.</li>
</ul>
<h2 id="when-is-the-best-time-for-pruning">When Is the Best Time for Pruning?<a hidden class="anchor" aria-hidden="true" href="#when-is-the-best-time-for-pruning">¶</a></h2>
<ul>
<li>The ideal time for significant structural pruning to create a tree form is <strong>late winter or early spring</strong> when the plant is dormant. This allows you to clearly see the plant&rsquo;s structure and minimizes stress before new growth begins.</li>
<li>For shrubs that bloom on <strong>old wood</strong> (e.g., some Hydrangeas), severe pruning in late winter might reduce the current year&rsquo;s blooms. However, if the goal is a tree form, some sacrifice of blooms may be necessary in the initial training years.</li>
<li><strong>Sucker removal</strong> can be done throughout the growing season as needed.</li>
<li><strong>Dead, diseased, or damaged branches</strong> can be removed at any time.</li>
</ul>
<h2 id="faqs-about-pruning-bushes-into-trees">FAQs About Pruning Bushes into Trees<a hidden class="anchor" aria-hidden="true" href="#faqs-about-pruning-bushes-into-trees">¶</a></h2>
<ul>
<li><strong>Q: Can I turn any bush into a tree?</strong>
<ul>
<li>A: No. As mentioned, only shrubs with strong, woody, upright stems are good candidates. Soft-stemmed, sprawling, or herbaceous shrubs are unsuitable.</li>
</ul>
</li>
<li><strong>Q: How long does it take to create a tree form?</strong>
<ul>
<li>A: It&rsquo;s a gradual process, usually taking 2-5 years to achieve a well-defined tree form, depending on the shrub&rsquo;s growth rate and initial size.</li>
</ul>
</li>
<li><strong>Q: Will it grow taller once I prune it into a tree form?</strong>
<ul>
<li>A: Yes, the canopy will continue to grow in height and spread from the point where you allow branching to begin. The trunk will thicken, but its height will remain fixed once you&rsquo;ve removed all lower branches up to your desired trunk height.</li>
</ul>
</li>
<li><strong>Q: Do I need to prune it every year?</strong>
<ul>
<li>A: Once the tree form is established, annual maintenance pruning (removing suckers, thinning the canopy, maintaining shape) will be necessary to keep its elegant form.</li>
</ul>
</li>
</ul>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>Transforming a common garden bush into an elegant tree-like standard or multi-stemmed specimen is a testament to the art and patience of pruning. This technique offers a unique way to introduce vertical interest, architectural structure, and year-round beauty to your landscape. By carefully selecting the right shrub, understanding the gradual process of selective pruning, and providing consistent care, you can create a stunning and distinctive focal point that will elevate your garden&rsquo;s design and charm for years to come.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-properly-vent-a-bathroom-exhaust-fan-in-an-attic/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Properly Vent a Bathroom Exhaust Fan in an Attic</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-prune-shrubs-in-your-yard/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Prune Shrubs in Your Yard</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
