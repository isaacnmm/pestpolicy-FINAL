<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>What Grit Sandpaper for Primer Before Paint | Pest Policy</title>
<meta name="keywords" content="
   diy-paintings, grit, sandpaper">


<meta name="description" content="Surfaces such as rust metal require coarse grip sandpaper (">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/what-grit-sandpaper-for-primer-before-paint/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/what-grit-sandpaper-for-primer-before-paint/">

 
<meta name="twitter:title" content="What Grit Sandpaper for Primer Before Paint | Pest Policy" />


<meta name="twitter:description" content="Surfaces such as rust metal require coarse grip sandpaper (" />
<meta property="og:title" content="What Grit Sandpaper for Primer Before Paint | Pest Policy" />
<meta property="og:description" content="Surfaces such as rust metal require coarse grip sandpaper (" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/what-grit-sandpaper-for-primer-before-paint/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "What Grit Sandpaper for Primer Before Paint",
      "item": "http://localhost:1313/posts/what-grit-sandpaper-for-primer-before-paint/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "What Grit Sandpaper for Primer Before Paint | Pest Policy",
  "name": "What Grit Sandpaper for Primer Before Paint",
  "description": "Surfaces such as rust metal require coarse grip sandpaper (",
  "keywords": [
    "diy-paintings", "grit", "sandpaper"
  ],
  "wordCount" : "1451",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/what-grit-sandpaper-for-primer-before-paint/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">What Grit Sandpaper for Primer Before Paint</h1>
    <div class="post-description">Surfaces such as rust metal require coarse grip sandpaper (</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/diy-paintings/">Diy-Paintings</a><a href="http://localhost:1313/tags/grit/">Grit</a><a href="http://localhost:1313/tags/sandpaper/">Sandpaper</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Surfaces such as rust metal require coarse grip sandpaper (
<a href="https://pestpolicy.com/how-does-oiling-prevent-rusting/">maybe you&rsquo;ve tried oiling</a>
), while painted ceramic surface needs to be sanded with super fine-grit sandpaper to prevent primary material from damage.</p>
<p>*So, what grit sandpaper for primer before painting - the answer is IT VARIES with the surfaces. *
<em>When sanding raw wood material, you will need to begin with extra coarse grit sandpaper (to remove large debris), followed by coarse grit sandpaper (to remove stock material), and pass with medium-grit sandpaper to clean any unfinished wood from the surface.</em>
<em>Besides, you may be required to eliminate surface scratches with fine-grit sandpaper or pass ultra-fine grit sandpaper to achieve an excellent surface finish. In this regard, when selecting grit sandpaper for your polishing purposes, you need to understand the extent to which the finish quality should be attained. Importantly, follow the sandpaper grit chart highlighted in this article before making your purchases.</em></p>
<h2 id="details-what-grit-sandpaper-for-primer-before-paint">Details: What Grit Sandpaper for Primer before Paint<a hidden class="anchor" aria-hidden="true" href="#details-what-grit-sandpaper-for-primer-before-paint">¶</a></h2>
<h3 id="1-extra-coarse">1. Extra Coarse<a hidden class="anchor" aria-hidden="true" href="#1-extra-coarse">¶</a></h3>
<p>When sanding a new surface, consider selecting extra coarse grit sandpaper for initial debris removal. This sandpaper has rough grains that grip on rough material sufficiently without any surface damage.
Extra coarse grit sandpaper is manufactured for use on very rough surfaces, rough cuts, unplanned wood polishing, rust metal cleaning, and very fast removal of primary material during the sanding process.
Extra coarse grit sandpaper size ranges from 12 to 36. The lower the size number, the coarser the sandpaper is. If your surface is previously polished, you should consider using medium-grit sandpaper instead.</p>
<blockquote>
<p>See Also:
<a href="https://pestpolicy.com/what-happens-if-you-dont-paint-over-primer/">You Dont Paint Over Primer?</a></p></blockquote>
<h3 id="2-coarse">2. Coarse<a hidden class="anchor" aria-hidden="true" href="#2-coarse">¶</a></h3>
<p>Secondly, sand the surface with coarse-grit sandpaper to clear rough material that wasnt removed by the extra coarse sandpaper.
However, materials such as rust metal surfaces can be sanded initially by using coarse grit sandpaper (or with
Concrete Rust Remover
) without any challenge.
Indeed, the rust thickness (if less than 0.5mm) can easily be polished by using coarse grit sandpaper without blocking grit spacing.
Rapid debris removal can also be attained by using coarse grit sandpaper, while the varnish layer is nicely cleaned by this grit size.�Coarse grit sandpaper size range from 40 to 60.</p>
<h3 id="3-medium">3. Medium<a hidden class="anchor" aria-hidden="true" href="#3-medium">¶</a></h3>
<p>Medium grit sandpaper is meant for pre-sanded surfaces such as sawed wood, rust-free metal surface, medium roughness composite material, and pre-cleaned hardwood.
The medium grit sandpaper grips on to small surface protrusion and cuts sharp edges to attain a soft chamfer.
Moreover, medium grit sandpaper is suitable for polishing surfaces under paint restoration  scraped surfaces.
You will attain a smooth surface on plaster material and clear metal scratches by considering medium-grit sandpaper.
Medium grit sandpaper size ranges from 60 to 80 universal standard.</p>
<h3 id="4-fine">4. Fine<a hidden class="anchor" aria-hidden="true" href="#4-fine">¶</a></h3>
<p>Wooden furniture and metal railing are best primed after sanding with a fine-grit sandpaper. This grip size (80 to 100) removes fine surface particles and small depth scratches.
With fine-grit sandpaper, you will be able to attain a smooth wood surface finish and eliminate sharp edges.
Usually, most sanding activities end by using fine-grit sandpaper since the finish is quite satisfying.
Priming done upon fine grit polishing attains excellent contact stickiness level unlike the one done after medium-grit polishing.
Softwood material can be sanded initially by using fine-grit sandpaper without any challenge.</p>
<blockquote>
<p>See Also:
Bonding Primer for Kitchen Cabinets</p></blockquote>
<h3 id="5-ultra-fine">5. Ultra-fine<a hidden class="anchor" aria-hidden="true" href="#5-ultra-fine">¶</a></h3>
<p>Ultra-fine grit sandpaper is the final sanding material that you consider if you intend to attain high-quality surface polish.
Ultra- fine-grit sandpaper is recommended when sanding metal and ceramics. The finished surface attained is highly compatible with the primer and gives a classic pave way for the finish paint layer.
For
normal surface priming
, fine grit sanding is not necessary. For example, wood deck, exterior wood structures, dry walls, and metal railing. Ultra-fine grit sandpaper size ranges from 1200 to 2500.
Understanding grit sandpaper chart is crucial for your sanding activities as this helps you select the right grit for your polishing demands.</p>
<h2 id="the-sandpaper-grit-chart">The SandPaper Grit chart<a hidden class="anchor" aria-hidden="true" href="#the-sandpaper-grit-chart">¶</a></h2>
<p>Sandpaper
Grit Size
Work or area of use
Extra Coarse
12 - 36
Hardwood sanding
Floor woods
High-speed works
Very rough surface polishing
Unplanned wood
Fast material removal
Rough cuts
Thick rust metal
Coarse
40 - 60
Removal of paint debris
Sanding varnish layer
Stock material removal
Rough surface cleaning
Wood pre-cleaning
Thin rust removal
Fast material removal
Medium
60 - 80
Wood polishing
Drywall sanding
Floor wood furnishing
Edge cutting
Smooth metal polishing
Sanding unfinished wood
Removing old stain and paint from the wall
Fine
80 -120
Preparing unfinished wood
Light sanding between wall paints
Finish wood sanding
Smoothening old paints
General woodwork
Polishing metal
Very Fine
150 - 360
Wood polishing and finishing
Sanding metal surfaces  rust-free
Light sanding between coat finish
Final prep of softwood
Cleaning sand marks
Polishing topcoats
Extra Fine
400 - 600
Wey sanding
Sanding plastics
Sanding metals
Sanding ceramics
Sanding between coats
Super Fine
800 - 1200
Final sanding process
Cleaning paint runs
Removing surface streaks
Removing small scratch
Ultra-Fine
1200 -2500
Final polishing and sanding
Making the surface smooth
Shining the metal surface
To match the grit sit to the material under the sanding process, its necessary to consider the polishing mechanism (is it manual or machine sanded?).</p>
<blockquote>
<p>See Also:
Primer for Oak Cabinets ed</p></blockquote>
<h2 id="what-grit-sand-paper-is-best-for-paint-preparation">What Grit Sand Paper is Best for Paint Preparation?<a hidden class="anchor" aria-hidden="true" href="#what-grit-sand-paper-is-best-for-paint-preparation">¶</a></h2>
<p>The idea of surface preparation for painting is made successful by selecting coarse grit sandpaper initially (40-60 grit size).
This type of sandpaper cleans old paint sufficiently and leaves a better surface for medium grit sandpaper polishing action.
The medium grit sandpaper (60-80) should be passed over the surface gently to remove debris and eliminate primary material rough grains. Medium grit sandpaper removes all roughness entirely and creates a smoother finish.
However, a finer finish is best achieved by using fine-grit sandpaper, which polishes the surface material perfectly.
The finished surface left has high paint stickiness ability and minimal dents or scratches.
Unless otherwise needed, fine-grit sandpaper should be the last grit to use over wood or metal surface before actual paint application.
NB: Remember, the type of grit sandpaper to use is a function of the type of material under the sanding process.</p>
<h2 id="how-do-you-know-which-sand-paper-to-use">How do You Know Which Sand Paper to Use?<a hidden class="anchor" aria-hidden="true" href="#how-do-you-know-which-sand-paper-to-use">¶</a></h2>
<p>To determine the type of sandpaper to use on a particular surface, you need to consider the nature of the material you are sanding or polishing. You can classify sandpaper for the following purpose:</p>
<h3 id="1-for-drywall-repair-and-smooth-plaster">1. For Drywall Repair and Smooth Plaster<a hidden class="anchor" aria-hidden="true" href="#1-for-drywall-repair-and-smooth-plaster">¶</a></h3>
<p>When repairing drywall and plaster, its advisable to fill holes and cracks with filler or putty first.
Then, clear excess filler from the surface. Upon drying, sand the surface with medium-grit sandpaper (60-80grit) before attaining finer details with fine-grit sandpaper (80-120grit).
When smoothening plaster, sand the surface with a fine-grit sandpaper (80-120grit).</p>
<h3 id="2-for-rough-surface-finish">2. For Rough Surface Finish<a hidden class="anchor" aria-hidden="true" href="#2-for-rough-surface-finish">¶</a></h3>
<p>Rough surfaces such as metal, floor wood, deck, rust metal, and hardwood should be sanded using coarse grit sandpaper (40-60grit).
The coarse grit removes surface roughness and eliminates debris that impends paint flow when painting.
Then, polish the surface with medium-grit sandpaper to attain a better finish.</p>
<blockquote>
<p>See Also:
Self Etching Primer vs Regular Primer</p></blockquote>
<h3 id="3-for-drywall-prepping">3. For Drywall Prepping<a hidden class="anchor" aria-hidden="true" href="#3-for-drywall-prepping">¶</a></h3>
<p>For drywall preparation and minor error corrections, using medium-grit sandpaper will work impressively.
The sandpaper clears the mild roughness and smoothens the surface grains during polishing action.
You can accompany the sanding process with a blower for effective removal of surface debris when sanding.
Alternatively, integrate the use of a 3M sanding sponge to attain finer details.</p>
<h3 id="4-for-sanding-and-wood-surface-repainting">4. For Sanding and Wood Surface Repainting<a hidden class="anchor" aria-hidden="true" href="#4-for-sanding-and-wood-surface-repainting">¶</a></h3>
<p>The General Woodwork sanding process is best carried out by using medium grit sandpaper (60-80grit).
The medium sandpaper works for both soft and hardwoods surfaces without any challenges.
Whether you are sanding manually or with the help of a machine, medium grit sandpaper provides a firm surface grip and eliminates surface scratches.
For finer details, you need to polish the sanded surface with a fine-grit sandpaper (80-120grit) before repainting the wood surface.</p>
<blockquote>
<p>See Also:
<a href="https://pestpolicy.com/best-primer-for-kitchen-cabinets/">Primer for Kitchen Cabinets</a></p></blockquote>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>In conclusion, on, what grit sandpaper for primer before painting, the answer to this question varies according to the type of surface you are working on.
For instance, when sanding hardwood material, you will need to begin with extra coarse grit sandpaper (to remove large debris), followed by coarse grit sandpaper (to remove stock material), and pass with medium-grit sandpaper to clean any unfinished wood from the surface.
Further, you may be required to eliminate surface scratches with fine-grit sandpaper or pass ultra-fine grit sandpaper to achieve an excellent surface finish.
In this regard, when selecting grit sandpaper for your polishing purposes, you need to understand the extent to which the finish quality should be attained.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/what-eats-bed-bugs/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>What Eats Bed Bugs</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/what-happens-if-you-dont-paint-over-primer/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>What Happens If You Dont Paint Over Primer</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
