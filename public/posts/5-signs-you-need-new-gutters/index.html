<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>5 Signs You Need New Gutters | Pest Policy</title>
<meta name="keywords" content="
   gutters, sign, new">


<meta name="description" content="Gutters are more than just an aesthetic trim on your home; they are a critical component of its defense system against water damage. Designed to channel ra...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/5-signs-you-need-new-gutters/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/5-signs-you-need-new-gutters/">

 
<meta name="twitter:title" content="5 Signs You Need New Gutters | Pest Policy" />


<meta name="twitter:description" content="Gutters are more than just an aesthetic trim on your home; they are a critical component of its defense system against water damage. Designed to channel ra..." />
<meta property="og:title" content="5 Signs You Need New Gutters | Pest Policy" />
<meta property="og:description" content="Gutters are more than just an aesthetic trim on your home; they are a critical component of its defense system against water damage. Designed to channel ra..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/5-signs-you-need-new-gutters/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "5 Signs You Need New Gutters",
      "item": "http://localhost:1313/posts/5-signs-you-need-new-gutters/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "5 Signs You Need New Gutters | Pest Policy",
  "name": "5 Signs You Need New Gutters",
  "description": "Gutters are more than just an aesthetic trim on your home; they are a critical component of its defense system against water damage. Designed to channel ra...",
  "keywords": [
    "gutters", "sign", "new"
  ],
  "wordCount" : "1699",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/5-signs-you-need-new-gutters/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">5 Signs You Need New Gutters</h1>
    <div class="post-description">Gutters are more than just an aesthetic trim on your home; they are a critical component of its defense system against water damage. Designed to channel ra...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/gutters/">Gutters</a><a href="http://localhost:1313/tags/sign/">Sign</a><a href="http://localhost:1313/tags/new/">New</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p><a href="/posts/all-american-gutters-reviews/">Gutters</a> are more than just an aesthetic trim on your home; they are a critical component of its defense system against water damage. Designed to channel rainwater and snowmelt away from your roof, siding, and foundation, a properly functioning gutter system protects your most valuable asset from potentially devastating and costly issues. However, like any exterior element, gutters have a lifespan. Over time, exposure to the elements, debris accumulation, and general wear and tear can compromise their integrity.</p>
<p>Many homeowners tend to overlook their gutters until a problem becomes glaringly obvious, often when it&rsquo;s already too late and significant damage has occurred. Recognizing the early warning signs that your gutters are failing and need replacement is crucial for preventing more extensive repairs to your roof, fascia, foundation, and landscaping. Ignoring these indicators can lead to thousands of dollars in water-related damage.</p>
<p>This article will outline the five key signs that signal it&rsquo;s time for <a href="/posts/best-tiller-for-breaking-new-ground/">new</a> gutters, discuss material options for replacement, compare seamless versus sectional gutters, reiterate the importance of maintenance, and offer final thoughts on this essential home improvement.</p>
<hr>
<h2 id="1-cracks-and-holes">1. Cracks and Holes<a hidden class="anchor" aria-hidden="true" href="#1-cracks-and-holes">¶</a></h2>
<p>Perhaps the most obvious sign of gutter failure, cracks and holes, directly compromise the system&rsquo;s ability to hold and divert water.</p>
<ul>
<li><strong>How it happens:</strong> Small cracks can develop due to age, material fatigue, extreme temperature fluctuations (freeze-thaw cycles), or impact from falling debris. Minor holes often result from rust (especially in steel gutters), corrosion, or a severe impact.</li>
<li><strong>The danger:</strong> Even tiny cracks can allow water to drip continuously onto your fascia board, siding, or foundation, leading to wood rot, mildew growth, and soil erosion over time. Larger holes mean significant water will miss the downspout entirely, concentrating runoff in unwanted areas.</li>
<li><strong>What to look for:</strong> Inspect your gutters, particularly the bottom of the trough and along seams, for visible hairline cracks, larger fissures, or rusted-through holes. If you see drips long after it&rsquo;s stopped raining, or during a light rain, it&rsquo;s a clear indicator.</li>
<li><strong>Repair vs. Replacement:</strong> Very small cracks or holes (dime-sized or smaller) can sometimes be temporarily patched with gutter sealant or a patch kit. However, if you find multiple cracks, long fissures, or a widespread pattern of deterioration, it signals that the gutter material itself is failing and a full replacement is warranted.</li>
</ul>
<hr>
<h2 id="2-sagging">2. Sagging<a hidden class="anchor" aria-hidden="true" href="#2-sagging">¶</a></h2>
<p>When gutters pull away from the house or visibly dip and buckle, it&rsquo;s a strong indication they are no longer functioning effectively and are likely overloaded or improperly secured.</p>
<ul>
<li><strong>How it happens:</strong> Sagging is usually caused by excessive weight (from clogged debris, standing water, or heavy ice/snow), damaged or insufficient hangers, or rotted fascia boards that no longer provide a solid anchoring point.</li>
<li><strong>The danger:</strong> Sagging gutters create low spots where water collects instead of flowing towards the downspouts. This standing water adds more weight, accelerates corrosion, provides a breeding ground for mosquitoes, and ultimately overflows at the sagged points, defeating the purpose of the gutter system.</li>
<li><strong>What to look for:</strong> Stand back from your home and visually inspect the gutter lines. They should run straight with a slight, consistent pitch towards the downspouts. Any noticeable dips, bellies, or sections pulling away from the roofline are red flags.</li>
<li><strong>Repair vs. Replacement:</strong> If only a small section is sagging due to a few loose hangers and the fascia is sound, you might be able to re-secure or add new hangers. However, if the sagging is widespread, if the gutter material itself is bent or warped, or if the fascia behind it is extensively rotted, replacement of the entire system or at least the compromised sections is the best solution.</li>
</ul>
<hr>
<h2 id="3-peeling-paint">3. Peeling Paint<a hidden class="anchor" aria-hidden="true" href="#3-peeling-paint">¶</a></h2>
<p>While seemingly cosmetic, peeling paint on your gutters (especially on the fascia board behind them) can be a significant indicator of ongoing water damage.</p>
<ul>
<li><strong>How it happens:</strong> Paint peels when it loses adhesion to the surface, often due to persistent moisture saturation or dry rot beneath. If your gutters are regularly overflowing, leaking at seams, or pulling away from the fascia, water will consistently run down and behind them, saturating the wood.</li>
<li><strong>The danger:</strong> Peeling paint on gutters themselves can indicate the metal is corroding underneath or the material is deteriorating. Peeling paint on the fascia or siding <em>behind</em> the gutters is a direct sign that water is escaping the gutter system and damaging your home&rsquo;s trim. This leads to rot, mold, and further structural damage.</li>
<li><strong>What to look for:</strong> Look for blistering, flaking, or peeling paint on the exterior of the gutters, but more critically, on the wooden fascia board directly behind them or on the top edges of your siding below the gutters.</li>
<li><strong>Repair vs. Replacement:</strong> Repainting alone won&rsquo;t fix the underlying moisture problem. If you see peeling paint, it&rsquo;s a strong sign that water is getting where it shouldn&rsquo;t. Investigate the source of the leak or overflow. If the gutters themselves are leaking or repeatedly overflowing, they likely need replacement to prevent continuous damage to your home&rsquo;s structure.</li>
</ul>
<hr>
<h2 id="4-pooling-water">4. Pooling Water<a hidden class="anchor" aria-hidden="true" href="#4-pooling-water">¶</a></h2>
<p>If you notice pools of water around your home&rsquo;s foundation after it rains, it&rsquo;s a critical sign that your gutters are failing to direct water away effectively.</p>
<ul>
<li><strong>How it happens:</strong> This can be due to:
<ul>
<li><strong>Clogged Downspouts:</strong> Preventing water from exiting the gutter system.</li>
<li><strong>Sagging Gutters:</strong> Water collects in low spots and overflows.</li>
<li><strong>Improperly Pitched Gutters:</strong> The gutters don&rsquo;t slope adequately towards the downspouts.</li>
<li><strong>Missing Downspout Extensions:</strong> Water exits the downspout but is dumped too close to the foundation.</li>
</ul>
</li>
<li><strong>The danger:</strong> Pooling water around the foundation is a direct pathway to basement leaks, crawl space moisture issues, cracked foundations, and severe structural damage. It can also cause soil erosion and damage to landscaping.</li>
<li><strong>What to look for:</strong> Observe your home during or immediately after a rainstorm. Walk around the perimeter and look for puddles or saturated soil directly against the foundation walls. Listen for gushing water over the side of the gutters instead of flowing out the downspout.</li>
<li><strong>Repair vs. Replacement:</strong> While sometimes a thorough cleaning, unclogging downspouts, or adding extensions can fix this, persistent pooling after these basic steps suggests a fundamental problem with the gutter system&rsquo;s design, pitch, or capacity. If the gutters are repeatedly overflowing despite being clean, they may be too small for your roof, or they might be beyond simple repair, necessitating replacement.</li>
</ul>
<hr>
<h2 id="5-water-damage-around-your-home">5. Water Damage Around Your Home<a hidden class="anchor" aria-hidden="true" href="#5-water-damage-around-your-home">¶</a></h2>
<p>Visible signs of water damage on your home&rsquo;s exterior or even interior are undeniable evidence that your gutters are failing and need immediate attention.</p>
<ul>
<li><strong>How it happens:</strong> This is the ultimate consequence of all the previous signs being ignored. Water that&rsquo;s not properly diverted causes rot, mold, staining, and deterioration.</li>
<li><strong>The danger:</strong>
<ul>
<li><strong>Fascia and Soffit Rot:</strong> Water continually spilling over or behind gutters will rot the wooden fascia and soffit, leading to expensive structural repairs and pest entry points.</li>
<li><strong>Siding Damage:</strong> Streaks, mildew, peeling paint, or warped/rotted siding panels.</li>
<li><strong>Basement/Crawl Space Flooding:</strong> The most severe outcome, leading to mold, structural damage, and costly remediation.</li>
<li><strong>Interior Leaks:</strong> Water can seep through the roof decking, into the attic, and down walls, causing ceiling stains, ruined drywall, and mold growth inside your living spaces.</li>
</ul>
</li>
<li><strong>What to look for:</strong> Obvious water stains on your exterior walls, especially below the gutters. Discolored, soft, or spongy wood on your fascia or soffits. Mold or mildew growth on exterior walls. Musty odors in your basement or crawl space. Water stains on interior ceilings or walls near exterior walls.</li>
<li><strong>Repair vs. Replacement:</strong> If you&rsquo;re seeing actual water damage on your home&rsquo;s structure, it means your gutters have been failing for some time. While the specific water damage itself needs to be repaired by a professional, replacing the compromised gutter system is paramount to prevent recurrence. This is no longer a question of patching but of investing in a new, fully functional system.</li>
</ul>
<hr>
<h2 id="gutter-replacement-material-options">Gutter Replacement Material Options<a hidden class="anchor" aria-hidden="true" href="#gutter-replacement-material-options">¶</a></h2>
<p>When considering new gutters, you&rsquo;ll have several material choices, each with its pros and cons:</p>
<ul>
<li><strong>Aluminum:</strong> Most popular, rust-proof, lightweight, available in many colors, good lifespan (20-30 years).</li>
<li><strong>Steel (Galvanized or Galvalume):</strong> Very strong, ideal for heavy snow/wind, but can rust if coating is scratched. (20-30+ years).</li>
<li><strong>Copper:</strong> Premium choice, beautiful patina, exceptional durability (50-100+ years), does not rust, very expensive.</li>
<li><strong>Vinyl (PVC):</strong> Least expensive, DIY-friendly, but less durable and prone to cracking/warping in extreme temperatures (1-5 years).</li>
<li><strong>Zinc:</strong> High-end, very durable, develops a unique patina, expensive (80-100+ years).</li>
</ul>
<hr>
<h2 id="seamless-vs-sectional-gutters">Seamless Vs. Sectional Gutters<a hidden class="anchor" aria-hidden="true" href="#seamless-vs-sectional-gutters">¶</a></h2>
<p>This choice impacts both the appearance and long-term performance of your new gutters.</p>
<ul>
<li><strong>Seamless Gutters:</strong>
<ul>
<li><strong>Description:</strong> Custom-fabricated on-site from a single piece of metal (usually aluminum) to the exact length of your roofline. Only seams are at corners and downspout outlets.</li>
<li><strong>Pros:</strong> Far fewer leaks points (fewer seams), cleaner appearance, less maintenance, longer lifespan.</li>
<li><strong>Cons:</strong> More expensive, requires professional installation.</li>
</ul>
</li>
<li><strong>Sectional Gutters:</strong>
<ul>
<li><strong>Description:</strong> Come in pre-cut sections (usually 10-20 feet long) that are joined together with connectors and sealed. Commonly made from vinyl or aluminum.</li>
<li><strong>Pros:</strong> Less expensive, can be a DIY project, easier to replace small sections.</li>
<li><strong>Cons:</strong> Many seams mean more potential leak points, require more maintenance over time, less durable.</li>
</ul>
</li>
</ul>
<p>For most homeowners replacing an entire system, seamless aluminum gutters offer the best balance of cost, durability, and performance.</p>
<hr>
<h2 id="why-is-gutter-maintenance-important">Why Is Gutter Maintenance Important?<a hidden class="anchor" aria-hidden="true" href="#why-is-gutter-maintenance-important">¶</a></h2>
<p>Regardless of whether you repair or replace, ongoing gutter maintenance is non-negotiable. Regular cleaning, at least twice a year (spring and fall), prevents debris buildup that leads to clogs, sagging, and eventual failure. Inspections allow you to catch small issues before they become major problems. Without consistent maintenance, even brand-new gutters will eventually succumb to the same &ldquo;troubles.&rdquo;</p>
<hr>
<h2 id="final-thoughts-about-gutter-replacement">Final Thoughts About Gutter Replacement<a hidden class="anchor" aria-hidden="true" href="#final-thoughts-about-gutter-replacement">¶</a></h2>
<p>Recognizing the signs that you need new gutters is a crucial step in protecting your home from water-related damage. While minor issues can often be repaired, widespread cracking, persistent sagging, or visible water damage to your home&rsquo;s structure are clear indicators that your existing gutters have reached the end of their useful life.</p>
<p>Investing in a new, properly installed gutter system, particularly a seamless one, is a wise decision that will safeguard your foundation, roof, and siding for decades to come. Don&rsquo;t wait until the damage is extensive and expensive; proactively addressing failing gutters is an investment in your home&rsquo;s integrity and your peace of mind.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/5-pool-landscaping-ideas-on-a-budget/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>5 Pool Landscaping Ideas on a Budget</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/6-steps-to-getting-the-perfect-lawn/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>6 Steps to Getting the Perfect Lawn</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
