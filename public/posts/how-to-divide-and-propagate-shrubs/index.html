<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Divide and Propagate Shrubs | Pest Policy</title>
<meta name="keywords" content="
   guides, divide, propagate">


<meta name="description" content="As your garden matures, many shrubs will grow larger, sometimes outgrowing their space or becoming less vigorous in their centers. Rather than simply remov...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-divide-and-propagate-shrubs/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-divide-and-propagate-shrubs/">

 
<meta name="twitter:title" content="How to Divide and Propagate Shrubs | Pest Policy" />


<meta name="twitter:description" content="As your garden matures, many shrubs will grow larger, sometimes outgrowing their space or becoming less vigorous in their centers. Rather than simply remov..." />
<meta property="og:title" content="How to Divide and Propagate Shrubs | Pest Policy" />
<meta property="og:description" content="As your garden matures, many shrubs will grow larger, sometimes outgrowing their space or becoming less vigorous in their centers. Rather than simply remov..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-divide-and-propagate-shrubs/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Divide and Propagate Shrubs",
      "item": "http://localhost:1313/posts/how-to-divide-and-propagate-shrubs/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Divide and Propagate Shrubs | Pest Policy",
  "name": "How to Divide and Propagate Shrubs",
  "description": "As your garden matures, many shrubs will grow larger, sometimes outgrowing their space or becoming less vigorous in their centers. Rather than simply remov...",
  "keywords": [
    "guides", "divide", "propagate"
  ],
  "wordCount" : "1496",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-divide-and-propagate-shrubs/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Divide and Propagate Shrubs</h1>
    <div class="post-description">As your garden matures, many shrubs will grow larger, sometimes outgrowing their space or becoming less vigorous in their centers. Rather than simply remov...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/divide/">Divide</a><a href="http://localhost:1313/tags/propagate/">Propagate</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>As your garden matures, many shrubs will grow larger, sometimes outgrowing their space or becoming less vigorous in their centers. Rather than simply removing them, an excellent and cost-effective solution is to divide and propagate them. Dividing shrubs allows you to reduce their size, rejuvenate older plants, and, best of all, create new, free plants for other areas of your garden or to share with friends. This method of propagation leverages the natural growth habits of certain shrub types, making it a surprisingly straightforward process for even a moderately experienced gardener.</p>
<p>Understanding which shrubs are suitable for division and how to execute the process correctly is key to success. Not all shrubs can be divided effectively, as their root structures vary significantly. This guide will clarify the distinction between different shrub types, provide step-by-step instructions for dividing and transplanting suitable specimens, and offer tips for ensuring the long-term health of both the parent plant and its new offspring. Expand your garden, save money, and enjoy the satisfaction of nurturing new life from your existing plants.</p>
<hr>
<h2 id="tree-vs-cane-type-shrubs">Tree vs. Cane Type Shrubs<a hidden class="anchor" aria-hidden="true" href="#tree-vs-cane-type-shrubs">¶</a></h2>
<p>The success of division as a propagation method largely depends on the shrub&rsquo;s natural growth habit and root structure. Shrubs generally fall into two broad categories: tree-type and cane-type.</p>
<h3 id="1-tree-type-shrubs-generally-not-suitable-for-division">1. Tree-Type Shrubs (Generally NOT Suitable for Division)<a hidden class="anchor" aria-hidden="true" href="#1-tree-type-shrubs-generally-not-suitable-for-division">¶</a></h3>
<ul>
<li><strong>Growth Habit:</strong> These shrubs typically grow with a single main trunk or a few dominant woody stems originating from a central crown, much like a small tree. Their root systems are often deep and fibrous, or tap-rooted.</li>
<li><strong>Examples:</strong> Many large evergreen shrubs, such as <em>Rhododendrons, Azaleas, Camellias, Japanese Maples, Boxwood, many Conifers (e.g., Junipers, Yews), and most Holly varieties</em>.</li>
<li><strong>Why Not Divide:</strong> Attempting to divide these shrubs would involve severely damaging or even destroying their central root system and main stems, which they cannot easily recover from. It&rsquo;s akin to trying to split a small tree in half.</li>
<li><strong>Propagation Alternatives:</strong> These shrubs are usually propagated by <strong>cuttings</strong> (stem cuttings, softwood or hardwood depending on species), <strong>layering</strong>, or <strong>seed</strong>.</li>
</ul>
<h3 id="2-cane-type-shrubs-ideal-for-division">2. Cane-Type Shrubs (Ideal for Division)<a hidden class="anchor" aria-hidden="true" href="#2-cane-type-shrubs-ideal-for-division">¶</a></h3>
<ul>
<li><strong>Growth Habit:</strong> These shrubs produce multiple stems, or &ldquo;canes,&rdquo; that emerge directly from the ground or just below the soil surface, forming a dense clump. They typically have a more spreading, rhizomatous, or clumping root system, where new shoots can easily form their own root structures. Over time, the center of the clump can become woody and less productive.</li>
<li><strong>Examples:</strong> Many popular shrubs fall into this category:
<ul>
<li><strong>Hydrangeas (especially <em>Hydrangea paniculata</em> and <em>Hydrangea arborescens</em> such as &lsquo;Annabelle&rsquo;)</strong></li>
<li><strong>Forsythia</strong></li>
<li><strong>Spirea</strong></li>
<li><strong>Weigela</strong></li>
<li><strong>Lilacs (many varieties sucker readily)</strong></li>
<li><strong>Dogwood (shrub varieties like Red Twig Dogwood)</strong></li>
<li><strong>Some Viburnums</strong></li>
<li><strong>Certain types of Ornamental Grasses</strong> (though technically grasses, their clumping habit is similar)</li>
<li><strong>Many Bamboo species</strong> (running types are easy to divide, clumping types are harder due to dense rhizomes)</li>
</ul>
</li>
<li><strong>Why Suitable for Division:</strong> Their clumping nature means they naturally produce multiple, often semi-independent, rooted sections that can be separated without mortally wounding the parent plant. Division rejuvenates the plant by removing old, woody centers and encouraging fresh growth.</li>
</ul>
<p><strong>Key Distinction:</strong> If a shrub produces many shoots directly from the ground, forming a widening clump, it&rsquo;s a good candidate for division. If it has a clear main trunk or very distinct, separate woody stems from the base, it&rsquo;s likely not.</p>
<hr>
<h2 id="how-to-divide-and-transplant-shrubs">How to Divide and Transplant Shrubs<a hidden class="anchor" aria-hidden="true" href="#how-to-divide-and-transplant-shrubs">¶</a></h2>
<p>The process of dividing and transplanting shrubs involves careful excavation, separation, and replanting.</p>
<h3 id="when-to-divide">When to Divide:<a hidden class="anchor" aria-hidden="true" href="#when-to-divide">¶</a></h3>
<ul>
<li><strong>Ideal Time:</strong> The best time for dividing most shrubs is when they are dormant, typically in <strong>early spring before new growth begins</strong> or in <strong>late fall after the leaves have dropped</strong>. This minimizes stress on the plant.</li>
<li><strong>Nairobi Context:</strong> As dormancy is less defined, the best times are usually during the <strong>cooler dry season (June-August)</strong> or just <strong>before the onset of the long rains (February-March)</strong>. This allows the plant to establish roots before intense heat or heavy, waterlogging rains. Avoid dividing during the peak hot dry season (January-February) or during very heavy rains.</li>
</ul>
<h3 id="tools-youll-need">Tools You&rsquo;ll Need:<a hidden class="anchor" aria-hidden="true" href="#tools-youll-need">¶</a></h3>
<ul>
<li>Sharp spade or digging fork</li>
<li>Pruning shears or loppers (for cutting roots or stems)</li>
<li>Tarp or large plastic sheet</li>
<li>Wheelbarrow or garden cart</li>
<li>New planting locations prepared</li>
<li>Compost or well-rotted manure</li>
<li>Watering can or hose</li>
</ul>
<h3 id="step-by-step-division-process">Step-by-Step Division Process:<a hidden class="anchor" aria-hidden="true" href="#step-by-step-division-process">¶</a></h3>
<ol>
<li>
<p><strong>Prepare the New Site(s):</strong> Before you even touch the parent plant, dig the holes for your new divisions. Each hole should be twice as wide as the anticipated root ball of the division and just as deep. Amend the soil with compost to ensure good drainage and fertility. Have water readily available.</p>
</li>
<li>
<p><strong>Water the Parent Plant:</strong> Water the shrub thoroughly a day or two before dividing. This hydrates the plant and makes the soil easier to work with.</p>
</li>
<li>
<p><strong>Prepare the Parent Plant (Optional):</strong> If the shrub is very large, you might lightly prune back some of the top growth (up to 1/3) to reduce stress on the roots once it&rsquo;s divided and transplanted. This is more crucial for larger divisions.</p>
</li>
<li>
<p><strong>Dig Around the Shrub:</strong> Using a sharp spade or digging fork, begin digging a trench around the perimeter of the parent shrub&rsquo;s drip line (the outer edge of its branches). Aim to get as much of the root ball as possible.</p>
<ul>
<li><strong>For smaller shrubs:</strong> You might be able to dig up the entire clump.</li>
<li><strong>For larger shrubs:</strong> You may only need to dig up one side or a section for division, leaving the majority of the parent plant in place.</li>
</ul>
</li>
<li>
<p><strong>Lift and Separate:</strong></p>
<ul>
<li>Once you&rsquo;ve dug around, gently pry the root ball loose. You may need to use leverage with your spade or rock the plant back and forth.</li>
<li>Carefully inspect the root ball. Look for natural divisions or sections that have their own distinct root systems and stems.</li>
<li><strong>Methods of Separation:</strong>
<ul>
<li><strong>Hand Pulling:</strong> For very loose clumps, you might be able to gently pull apart individual sections by hand.</li>
<li><strong>Spade/Fork:</strong> For denser clumps, insert two spades or digging forks back-to-back into the center of the clump and gently pull the handles apart to split the root ball.</li>
<li><strong>Cutting:</strong> For very dense or woody root masses, you may need to use your spade, a sharp knife, or pruning shears to cut through the roots, ensuring each new division has a healthy amount of roots and at least 2-3 stems.</li>
</ul>
</li>
<li><strong>Trim Damaged Roots:</strong> Use clean, sharp pruners to trim off any frayed, broken, or dead roots from both the parent plant and the divisions.</li>
</ul>
</li>
<li>
<p><strong>Replant the Divisions Immediately:</strong></p>
<ul>
<li>Place each division into its pre-dug hole, ensuring the top of the root ball is at the same level as, or slightly above, the surrounding soil.</li>
<li>Backfill with the amended soil, gently tamping to remove air pockets.</li>
<li><strong>Water thoroughly:</strong> Water each newly planted division deeply to settle the soil around the roots.</li>
<li><strong>Mulch:</strong> Apply a 5-10 cm (2-4 inch) layer of organic mulch around the base of each new plant, keeping it a few inches away from the stems. This helps conserve moisture, regulate soil temperature, and suppress weeds.</li>
</ul>
</li>
<li>
<p><strong>Care for the Parent Plant:</strong></p>
<ul>
<li>If you left part of the parent plant in the original location, backfill any excavated areas with fresh, amended soil and water thoroughly.</li>
<li>Apply a fresh layer of mulch around the parent plant.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="enjoy-the-results">Enjoy the Results<a hidden class="anchor" aria-hidden="true" href="#enjoy-the-results">¶</a></h2>
<p>With proper division and transplanting, you can look forward to a rejuvenated parent shrub and brand new, thriving plants in your garden.</p>
<ul>
<li><strong>Initial Aftercare:</strong>
<ul>
<li><strong>Consistent Watering:</strong> The most critical aspect of aftercare. Water newly transplanted divisions regularly for the first few weeks or months, ensuring the soil remains consistently moist (but not waterlogged) until they are established. They are essentially starting over with a compromised root system.</li>
<li><strong>Monitor for Stress:</strong> Keep an eye on the leaves for signs of wilting, yellowing, or browning, which indicate transplant shock or insufficient water. Provide extra care if these signs appear.</li>
<li><strong>Avoid Fertilizing Immediately:</strong> Do not fertilize newly transplanted shrubs until they show clear signs of new growth (usually after a month or two). Fertilizing too early can burn tender new roots.</li>
</ul>
</li>
<li><strong>Long-Term Benefits:</strong>
<ul>
<li><strong>Rejuvenated Growth:</strong> The parent plant will often respond to division with a flush of vigorous new growth, particularly in the center where it may have become woody.</li>
<li><strong>New Plants:</strong> You&rsquo;ll have healthy new shrubs to fill gaps in your landscape, create new hedges, or share with fellow gardeners.</li>
<li><strong>Cost Savings:</strong> Propagation through division is a free way to expand your garden, saving you money on purchasing new plants.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="final-thoughts-about-dividing-and-propagating-shrubs">Final Thoughts About Dividing and Propagating Shrubs<a hidden class="anchor" aria-hidden="true" href="#final-thoughts-about-dividing-and-propagating-shrubs">¶</a></h2>
<p>Dividing and propagating shrubs is a wonderfully sustainable and satisfying gardening practice. It&rsquo;s an opportunity to intimately understand your plants&rsquo; growth habits, improve the health of mature specimens, and naturally expand your garden&rsquo;s beauty without incurring additional costs. By correctly identifying cane-type shrubs, performing the division at the optimal time, using sharp tools, and providing diligent aftercare, you can ensure a high success rate. This ancient gardening technique not only breathes new life into your existing shrubs but also empowers you to create a more abundant and vibrant landscape for years to come.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-determine-if-old-seeds-are-still-good-for-planting/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Determine If Old Seeds Are Still Good for Planting</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-edge-a-lawn/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Edge a Lawn</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
