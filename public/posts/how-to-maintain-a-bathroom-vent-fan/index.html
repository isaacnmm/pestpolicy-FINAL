<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Maintain a Bathroom Vent Fan | Pest Policy</title>
<meta name="keywords" content="
   home-maintenance, bathroom, vent">


<meta name="description" content="Your bathroom vent fan, often an unassuming fixture in the ceiling, plays a vital role in the health and longevity of your bathroom. Its primary job is to ...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-maintain-a-bathroom-vent-fan/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-maintain-a-bathroom-vent-fan/">

 
<meta name="twitter:title" content="How to Maintain a Bathroom Vent Fan | Pest Policy" />


<meta name="twitter:description" content="Your bathroom vent fan, often an unassuming fixture in the ceiling, plays a vital role in the health and longevity of your bathroom. Its primary job is to ..." />
<meta property="og:title" content="How to Maintain a Bathroom Vent Fan | Pest Policy" />
<meta property="og:description" content="Your bathroom vent fan, often an unassuming fixture in the ceiling, plays a vital role in the health and longevity of your bathroom. Its primary job is to ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-maintain-a-bathroom-vent-fan/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Maintain a Bathroom Vent Fan",
      "item": "http://localhost:1313/posts/how-to-maintain-a-bathroom-vent-fan/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Maintain a Bathroom Vent Fan | Pest Policy",
  "name": "How to Maintain a Bathroom Vent Fan",
  "description": "Your bathroom vent fan, often an unassuming fixture in the ceiling, plays a vital role in the health and longevity of your bathroom. Its primary job is to ...",
  "keywords": [
    "home-maintenance", "bathroom", "vent"
  ],
  "wordCount" : "1462",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-maintain-a-bathroom-vent-fan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Maintain a Bathroom Vent Fan</h1>
    <div class="post-description">Your bathroom vent fan, often an unassuming fixture in the ceiling, plays a vital role in the health and longevity of your bathroom. Its primary job is to ...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/home-maintenance/">Home-Maintenance</a><a href="http://localhost:1313/tags/bathroom/">Bathroom</a><a href="http://localhost:1313/tags/vent/">Vent</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Your <a href="/posts/bathroom-vent-fan-cfm-calculator/">bathroom</a> <a href="/posts/how-to-properly-vent-a-bathroom-exhaust-fan-in-an-attic/">vent</a> fan, often an unassuming fixture in the ceiling, plays a vital role in the health and longevity of your bathroom. Its primary job is to extract excess moisture, unpleasant odors, and airborne particles, preventing the conditions that lead to mold, mildew, peeling paint, and structural damage. However, like any hardworking appliance, a bathroom vent fan requires regular maintenance to perform optimally and extend its lifespan.</p>
<p>Neglecting your bathroom fan can lead to reduced efficiency, increased noise, and eventually, a complete breakdown, leaving your bathroom vulnerable to humidity-related issues. Fortunately, understanding <strong>how to maintain a bathroom vent fan</strong> is a straightforward process that empowers homeowners to keep their units running smoothly, ensuring a fresh, dry, and healthy bathroom environment. This guide will cover the essential maintenance steps, troubleshooting common issues, and tips for prolonging the life of your fan.</p>
<hr>
<h2 id="why-regular-maintenance-is-crucial-for-your-bathroom-vent-fan">Why Regular Maintenance is Crucial for Your Bathroom Vent Fan<a hidden class="anchor" aria-hidden="true" href="#why-regular-maintenance-is-crucial-for-your-bathroom-vent-fan">¶</a></h2>
<p>Consistent maintenance of your bathroom exhaust fan yields numerous benefits:</p>
<ul>
<li><strong>Optimal Moisture Removal:</strong> The most critical function. A clean, well-maintained fan efficiently removes humidity after showers and baths, preventing condensation on surfaces that leads to mold and mildew growth.</li>
<li><strong>Preserves Bathroom Finishes:</strong> By controlling moisture, maintenance protects paint, wallpaper, drywall, wooden cabinets, and metal fixtures from water damage, warping, and rust.</li>
<li><strong>Improves Air Quality:</strong> Fans draw out stale air, odors, and airborne allergens (like dust and dander). Regular cleaning ensures these contaminants are effectively removed, contributing to healthier indoor air.</li>
<li><strong>Extends Fan Lifespan:</strong> Dust and lint accumulation force the motor to work harder, leading to overheating, increased wear and tear on bearings, and premature failure. Cleaning reduces strain, allowing the fan to last longer.</li>
<li><strong>Reduces Noise Levels:</strong> A build-up of grime on fan blades and in the motor can cause rattling, squealing, or grinding noises. Maintenance can often reduce these irritating sounds.</li>
<li><strong>Energy Efficiency:</strong> A clean fan moves air more effectively with less effort, which can result in minor energy savings.</li>
<li><strong>Prevents Fire Hazards:</strong> While rare, extreme lint buildup around an electrical motor can become a fire risk. Regular cleaning mitigates this.</li>
</ul>
<hr>
<h2 id="essential-maintenance-steps-for-your-bathroom-vent-fan">Essential Maintenance Steps for Your Bathroom Vent Fan<a hidden class="anchor" aria-hidden="true" href="#essential-maintenance-steps-for-your-bathroom-vent-fan">¶</a></h2>
<p>Maintaining your bathroom vent fan primarily involves regular cleaning and occasional inspections.</p>
<h3 id="step-1-routine-grille-cleaning-monthlybi-monthly">Step 1: Routine Grille Cleaning (Monthly/Bi-Monthly)<a hidden class="anchor" aria-hidden="true" href="#step-1-routine-grille-cleaning-monthlybi-monthly">¶</a></h3>
<p>This is the quickest and most frequent maintenance task.</p>
<ol>
<li><strong>Vacuum:</strong> Use your vacuum cleaner&rsquo;s brush attachment to quickly vacuum dust and lint from the surface of the fan grille.</li>
<li><strong>Wipe Down:</strong> Wipe the grille with a damp cloth or a mild all-purpose cleaner to remove any stuck-on grime or residue.</li>
</ol>
<p>This simple step prevents excessive buildup and keeps the fan looking cleaner.</p>
<h3 id="step-2-thorough-fan-unit-cleaning-every-3-6-months">Step 2: Thorough Fan Unit Cleaning (Every 3-6 Months)<a hidden class="anchor" aria-hidden="true" href="#step-2-thorough-fan-unit-cleaning-every-3-6-months">¶</a></h3>
<p>This is the most important maintenance step, involving removal of the grille and cleaning the internal components.</p>
<p><strong>Supplies Needed:</strong></p>
<ul>
<li>Safety glasses and dust mask</li>
<li>Gloves (optional)</li>
<li>Step ladder or sturdy stool</li>
<li>Vacuum cleaner with hose attachments (crevice tool, brush attachment)</li>
<li>Soft cloths or microfiber towels</li>
<li>Warm water and mild all-purpose cleaner or dish soap</li>
<li>Screwdriver (Phillips or flathead, depending on fan model)</li>
<li>Stiff brush or old toothbrush (for stubborn grime)</li>
<li>Compressed air (optional, for motor crevices)</li>
</ul>
<p><strong>Procedure:</strong></p>
<ol>
<li><strong>Turn Off Power:</strong> <strong>Crucially, go to your electrical panel and flip the circuit breaker that controls your bathroom fan to the &ldquo;OFF&rdquo; position.</strong> Test the fan switch to confirm the power is off.</li>
<li><strong>Remove Grille:</strong> Gently pull down on the fan grille until you feel tension from spring clips, then pinch the clips to release. Some grilles may have a central screw or side screws.</li>
<li><strong>Clean Grille:</strong> Take the grille to a sink or outside. Vacuum off loose dust, then wash thoroughly with warm, soapy water. Rinse and let it air dry completely.</li>
<li><strong>Vacuum Fan Housing &amp; Blades:</strong> Use your vacuum hose attachments to meticulously remove all dust, lint, and debris from the fan blades, motor housing, and the inside surfaces of the unit. Be gentle around wires.
<ul>
<li><strong>Tip:</strong> Some fan motors/blades can be carefully detached for easier cleaning. Consult your fan&rsquo;s manual if unsure.</li>
</ul>
</li>
<li><strong>Clean Fan Blades (More Thoroughly):</strong> If accessible, wipe down the fan blades with a damp cloth and mild cleaner. For stubborn, caked-on grime, use a stiff brush or old toothbrush. Ensure the blades are clean and spin freely. <em>Do not let water drip onto the motor.</em></li>
<li><strong>Reassemble:</strong> Once all components are completely dry, carefully reassemble the fan unit. Ensure the grille is securely clipped or screwed back into place.</li>
<li><strong>Restore Power &amp; Test:</strong> Return to the electrical panel, turn the breaker back on, and test the fan. It should operate more quietly and efficiently.</li>
</ol>
<h3 id="step-3-inspect-external-vent-cap-annually">Step 3: Inspect External Vent Cap (Annually)<a hidden class="anchor" aria-hidden="true" href="#step-3-inspect-external-vent-cap-annually">¶</a></h3>
<p>The fan&rsquo;s ductwork typically terminates at an external vent cap on your home&rsquo;s exterior wall or roof.</p>
<ol>
<li><strong>Locate:</strong> Find the exterior vent cap for your bathroom fan.</li>
<li><strong>Inspect for Blockages:</strong> Check if the louvers or screen on the cap are blocked by bird nests, insect nests, leaves, or other debris.</li>
<li><strong>Clean:</strong> If accessible, gently remove any blockages. For roof-mounted caps, consider hiring a professional if you&rsquo;re not comfortable or equipped for roof work.</li>
</ol>
<h3 id="step-4-check-ductwork-every-few-years-or-when-issues-arise">Step 4: Check Ductwork (Every Few Years or When Issues Arise)<a hidden class="anchor" aria-hidden="true" href="#step-4-check-ductwork-every-few-years-or-when-issues-arise">¶</a></h3>
<p>While less frequent, ensuring the ductwork is clear is important.</p>
<ol>
<li><strong>Visual Check:</strong> From the fan housing, look into the duct as far as possible for large blockages.</li>
<li><strong>Airflow Test:</strong> If you notice significant dampness, mold, or persistent odors even after cleaning the fan unit, it could indicate a duct blockage or dislodged ductwork.</li>
<li><strong>Professional Help:</strong> Extensive duct cleaning or repair often requires a professional HVAC technician, especially if the ducts are long, inaccessible, or show signs of mold.</li>
</ol>
<hr>
<h2 id="troubleshooting-common-bathroom-fan-issues">Troubleshooting Common Bathroom Fan Issues<a hidden class="anchor" aria-hidden="true" href="#troubleshooting-common-bathroom-fan-issues">¶</a></h2>
<p>Regular maintenance can prevent many problems, but here are some common issues and their solutions:</p>
<ul>
<li><strong>Fan is Noisy/Rattling:</strong>
<ul>
<li><strong>Solution:</strong> Clean blades and housing thoroughly. Tighten any loose screws on the grille or fan housing. Check if the fan motor needs lubrication (consult manual). If noise persists, the motor bearings might be worn, requiring replacement of the motor or entire unit.</li>
</ul>
</li>
<li><strong>Fan is Not Moving Enough Air:</strong>
<ul>
<li><strong>Solution:</strong> Perform a thorough cleaning (Steps 1 &amp; 2). Check the external vent cap for blockages (Step 3). Inspect ductwork for kinks or blockages (Step 4). The fan might be undersized for the bathroom (requires replacement).</li>
</ul>
</li>
<li><strong>Fan Doesn&rsquo;t Turn On:</strong>
<ul>
<li><strong>Solution:</strong> Check the circuit breaker. Test the wall switch (could be faulty). If these aren&rsquo;t the issue, it&rsquo;s likely an electrical problem (wiring, motor failure) best handled by a qualified electrician.</li>
</ul>
</li>
<li><strong>Musty Smell Persists:</strong>
<ul>
<li><strong>Solution:</strong> Ensure the fan is adequately sized for your bathroom (measured in CFM - cubic feet per minute). Run the fan for at least 15-20 minutes <em>after</em> showers. Check for mold in the ductwork or behind drywall, which might require professional remediation. Ensure the fan vents outdoors, not into an attic.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="tips-for-ideal-fan-performance--longevity">Tips for Ideal Fan Performance &amp; Longevity<a hidden class="anchor" aria-hidden="true" href="#tips-for-ideal-fan-performance--longevity">¶</a></h2>
<ul>
<li><strong>Run It Longer:</strong> Always turn the fan on before you start showering and leave it running for at least 15-20 minutes after you&rsquo;re done. This allows ample time for moisture removal.</li>
<li><strong>Consider a Humidistat:</strong> Install a humidistat switch that automatically turns the fan on when humidity levels rise and off when they drop, ensuring efficient moisture control without manual effort.</li>
<li><strong>Proper Sizing:</strong> Ensure your fan&rsquo;s CFM rating is appropriate for your bathroom size. (Bathroom square footage x 1.07 = minimum CFM for 8-foot ceilings). Larger bathrooms or those with separate shower/toilet areas need higher CFMs.</li>
<li><strong>Seal Air Leaks:</strong> Ensure that all other parts of your bathroom are well-sealed, especially around tubs, showers, and toilets. This prevents moisture from escaping into walls and ceilings where the fan can&rsquo;t reach it.</li>
<li><strong>Check for Backdraft Dampers:</strong> Inside the fan housing and at the exterior vent cap, there are often backdraft dampers (flaps) that prevent cold air from entering. Ensure these are clean and freely operational.</li>
</ul>
<hr>
<h2 id="when-to-call-a-professional">When To Call a Professional<a hidden class="anchor" aria-hidden="true" href="#when-to-call-a-professional">¶</a></h2>
<p>While much of bathroom fan maintenance is DIY-friendly, certain situations warrant calling an expert:</p>
<ul>
<li><strong>Electrical Issues:</strong> If the fan isn&rsquo;t turning on, trips a breaker, or sparks.</li>
<li><strong>Severe Duct Problems:</strong> If you suspect extensive mold in the ductwork, or if the duct itself is damaged, disconnected, or improperly installed (e.g., venting into the attic).</li>
<li><strong>Persistent Noise/Vibration:</strong> If cleaning and minor adjustments don&rsquo;t resolve excessive noise, indicating a failing motor or unfixable structural issue.</li>
<li><strong>Fan Replacement:</strong> If your fan is old, severely damaged, or significantly undersized for your bathroom, a professional HVAC technician can recommend and install a new, more efficient unit.</li>
</ul>
<hr>
<h2 id="so-is-maintaining-a-bathroom-vent-fan-necessary">So, Is Maintaining a Bathroom Vent Fan Necessary?<a hidden class="anchor" aria-hidden="true" href="#so-is-maintaining-a-bathroom-vent-fan-necessary">¶</a></h2>
<p>Absolutely. Maintaining your bathroom vent fan is not just a suggestion; it&rsquo;s a fundamental aspect of home health and preventative maintenance. By regularly cleaning and inspecting your fan, you actively protect your home from mold, structural damage, and poor air quality. This small investment of time and effort ensures your bathroom remains a comfortable, hygienic, and long-lasting space.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-level-yard/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Level Yard</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-make-a-bathroom-wheelchair-accessible/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Make a Bathroom Wheelchair Accessible</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
