<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Grass for Shaded Areas | Pest Policy</title>
<meta name="keywords" content="
   lawn-care, gra, shaded">


<meta name="description" content="Growing a lush, green lawn in a shaded area can be one of the most persistent challenges for homeowners. While no grass will thrive in extremely dense, dar...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-grass-for-shaded-areas/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-grass-for-shaded-areas/">

 
<meta name="twitter:title" content="Best Grass for Shaded Areas | Pest Policy" />


<meta name="twitter:description" content="Growing a lush, green lawn in a shaded area can be one of the most persistent challenges for homeowners. While no grass will thrive in extremely dense, dar..." />
<meta property="og:title" content="Best Grass for Shaded Areas | Pest Policy" />
<meta property="og:description" content="Growing a lush, green lawn in a shaded area can be one of the most persistent challenges for homeowners. While no grass will thrive in extremely dense, dar..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-grass-for-shaded-areas/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Grass for Shaded Areas",
      "item": "http://localhost:1313/posts/best-grass-for-shaded-areas/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Grass for Shaded Areas | Pest Policy",
  "name": "Best Grass for Shaded Areas",
  "description": "Growing a lush, green lawn in a shaded area can be one of the most persistent challenges for homeowners. While no grass will thrive in extremely dense, dar...",
  "keywords": [
    "lawn-care", "gra", "shaded"
  ],
  "wordCount" : "1211",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-grass-for-shaded-areas/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Grass for Shaded Areas</h1>
    <div class="post-description">Growing a lush, green lawn in a shaded area can be one of the most persistent challenges for homeowners. While no grass will thrive in extremely dense, dar...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/lawn-care/">Lawn-Care</a><a href="http://localhost:1313/tags/gra/">Gra</a><a href="http://localhost:1313/tags/shaded/">Shaded</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Growing a lush, green lawn in a shaded area can be one of the most persistent challenges for homeowners. While no grass will thrive in extremely dense, dark shade, certain turfgrass varieties are significantly more tolerant of low light conditions than others. Success in shaded areas comes down to selecting the right grass type and adapting your lawn care practices to its unique needs. This guide will help you identify the best grasses for your shaded spots and offer tips for nurturing them.</p>
<hr>
<h2 id="understanding-shade-in-your-lawn">Understanding Shade in Your Lawn<a hidden class="anchor" aria-hidden="true" href="#understanding-shade-in-your-lawn">¶</a></h2>
<p>Before choosing a grass, accurately assess the amount and type of shade your area receives, as these factors significantly impact grass growth.</p>
<ul>
<li><strong>Full Shade:</strong> Receives less than 3 hours of direct sunlight per day. Most turfgrasses struggle in these conditions; it&rsquo;s often best to consider alternative ground covers or landscaping.</li>
<li><strong>Partial Shade:</strong> Gets between 3 to 6 hours of direct sunlight daily. Morning sun is particularly beneficial, as it&rsquo;s less intense and allows dew to dry, reducing fungal issues.</li>
<li><strong>Partial Sun:</strong> Experiences 6 or more hours of direct sun, but with some shade, especially during the hottest part of the afternoon. Many grass varieties can perform well here.</li>
<li><strong>Dappled Shade:</strong> Sunlight filters through tree leaves, providing intermittent light rather than dense, continuous shadow. This is generally more favorable for grass growth.</li>
</ul>
<p>It&rsquo;s important to remember that shade patterns can shift throughout the day and year as the sun&rsquo;s angle changes and deciduous trees leaf out or lose their foliage.</p>
<hr>
<h2 id="6-types-of-grasses-to-grow-in-shade">6 Types of Grasses To Grow in Shade<a hidden class="anchor" aria-hidden="true" href="#6-types-of-grasses-to-grow-in-shade">¶</a></h2>
<p>While no turfgrass loves deep shade, these six types offer the best chances of success in low-light conditions, categorized by their preferred climate.</p>
<h3 id="cool-season-grasses-northern-transition-and-upper-southern-zones">Cool-Season Grasses (Northern, Transition, and Upper Southern Zones)<a hidden class="anchor" aria-hidden="true" href="#cool-season-grasses-northern-transition-and-upper-southern-zones">¶</a></h3>
<p>These grasses generally perform much better in shade than their warm-season counterparts.</p>
<ol>
<li>
<p><strong>Fine Fescues:</strong></p>
<ul>
<li>Considered the top choice for shade tolerance among cool-season grasses. This group includes Chewing Fescue, Creeping Red Fescue, Hard Fescue, and Sheep Fescue. They are often sold in specialized shade mixes.</li>
<li><strong>Characteristics:</strong> Very fine texture, low maintenance, excellent drought tolerance once established, and can handle dry shade better than other grasses. They establish well from seed.</li>
<li><strong>Best Use:</strong> Low-traffic areas, under trees, and ornamental sections of the lawn.</li>
<li><a href="https://extension.psu.edu/fine-fescues-for-low-maintenance-lawns">Learn more about Fine Fescues for low-maintenance lawns from Penn State Extension.</a></li>
</ul>
</li>
<li>
<p><strong>Tall Fescue:</strong></p>
<ul>
<li>Offers a good balance of shade tolerance and durability, making it suitable for shaded areas with moderate foot traffic.</li>
<li><strong>Characteristics:</strong> Broader blades than fine fescues, deeper root system, good heat and drought tolerance (for a cool-season grass), and decent wear tolerance.</li>
<li><strong>Best Use:</strong> Transition zones, moderate shade, areas that receive some foot traffic. It&rsquo;s often included in &ldquo;shade mixes&rdquo; as a more robust component.</li>
<li><a href="https://www.clemson.edu/extension/rowancounty/lawn/tall-fescue-lawns.html">Find more information on Tall Fescue from Clemson Cooperative Extension.</a></li>
</ul>
</li>
<li>
<p><strong>Rough Bluegrass (Poa trivialis):</strong></p>
<ul>
<li>Possesses exceptional shade tolerance and prefers moist conditions. It&rsquo;s often used in specialized shade mixes.</li>
<li><strong>Characteristics:</strong> Bright green, fine texture, prefers consistently moist (but not waterlogged) shade. Can become aggressive in sunny, wet areas.</li>
<li><strong>Best Use:</strong> Deeply shaded, moist areas where other grasses struggle, often in combination with fine fescues.</li>
</ul>
</li>
<li>
<p><strong>Perennial Ryegrass:</strong></p>
<ul>
<li>While it germinates quickly and is often found in general lawn mixes, perennial ryegrass has relatively limited shade tolerance on its own.</li>
<li><strong>Characteristics:</strong> Fast establishment, good wear tolerance.</li>
<li><strong>Best Use:</strong> Best used sparingly in shade mixes for quick establishment, but don&rsquo;t rely on it as the primary shade grass.</li>
</ul>
</li>
</ol>
<h3 id="warm-season-grasses-southern-climates">Warm-Season Grasses (Southern Climates)<a hidden class="anchor" aria-hidden="true" href="#warm-season-grasses-southern-climates">¶</a></h3>
<p>These grasses generally require more sunlight than cool-season varieties, but a few stand out for their improved shade tolerance.</p>
<ol start="5">
<li>
<p><strong>St. Augustine Grass:</strong></p>
<ul>
<li>Often considered the most shade-tolerant warm-season grass, with certain varieties like &lsquo;Palmetto&rsquo; or &lsquo;Seville&rsquo; performing well in moderate shade.</li>
<li><strong>Characteristics:</strong> Coarse, broad blades, forms a dense turf, good heat and salt tolerance.</li>
<li><strong>Best Use:</strong> Southern states, under trees where it receives at least 4-5 hours of direct sun or extended dappled shade.</li>
</ul>
</li>
<li>
<p><strong>Zoysia Grass:</strong></p>
<ul>
<li>While known for its dense, carpet-like appearance, Zoysia grass generally requires more sunlight than St. Augustine grass, but some varieties offer improved shade tolerance.</li>
<li><strong>Characteristics:</strong> Fine to medium texture, very dense growth, good drought tolerance.</li>
<li><strong>Best Use:</strong> Varieties like &lsquo;Emerald&rsquo; or &lsquo;Meyer&rsquo; have slightly better shade tolerance than others, but still need at least 4-5 hours of direct sun.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="how-to-grow-grass-in-shady-areas">How To Grow Grass in Shady Areas<a hidden class="anchor" aria-hidden="true" href="#how-to-grow-grass-in-shady-areas">¶</a></h2>
<p>Beyond choosing the right grass, preparing the area and adapting your initial planting strategy are crucial for success in shaded spots.</p>
<h3 id="1-assess-and-maximize-light">1. Assess and Maximize Light<a hidden class="anchor" aria-hidden="true" href="#1-assess-and-maximize-light">¶</a></h3>
<ul>
<li><strong>Pruning Trees:</strong> Thinning the canopy of overhead trees is one of the most effective ways to increase light penetration to the grass below. Consult with an arborist to properly <a href="https://www.treesaregood.org/treeowner/pruningbasics">prune trees for increased light</a>.</li>
<li><strong>Remove Obstructions:</strong> Clear away any unnecessary shrubs, bushes, or other structures that cast dense shadows.</li>
</ul>
<h3 id="2-prepare-the-soil">2. Prepare the Soil<a hidden class="anchor" aria-hidden="true" href="#2-prepare-the-soil">¶</a></h3>
<ul>
<li><strong>Soil Test:</strong> Perform a <a href="https://extension.umd.edu/resource/soil-testing-and-soil-testing-labs">soil test</a> to determine nutrient deficiencies and pH levels. Shaded soils can often be more acidic due to leaf decay.</li>
<li><strong>Improve Drainage:</strong> Shaded areas tend to stay wetter. Amend heavy clay soils with organic matter to improve drainage and aeration.</li>
<li><strong>Aerate:</strong> Compacted soil restricts root growth and air circulation. <a href="https://extension.umd.edu/resource/lawn-aeration">Core aeration</a> can significantly improve conditions in shaded areas, especially where tree roots are prevalent, by creating channels for water, air, and nutrients.</li>
</ul>
<h3 id="3-proper-seeding-or-sodding">3. Proper Seeding or Sodding<a hidden class="anchor" aria-hidden="true" href="#3-proper-seeding-or-sodding">¶</a></h3>
<ul>
<li><strong>Select Quality Seed/Sod:</strong> Always use high-quality seed mixes or sod specifically labeled for &ldquo;shade&rdquo; or containing the grasses mentioned above.</li>
<li><strong>Timing:</strong> Plant cool-season grasses in early fall or early spring. Plant warm-season grasses in late spring or early summer.</li>
<li><strong>Seed Rate:</strong> Use a slightly higher seeding rate in shaded areas than recommended for sunny areas, as germination and establishment can be less robust.</li>
</ul>
<hr>
<h2 id="lawn-care-tips-for-shaded-areas">Lawn Care Tips for Shaded Areas<a hidden class="anchor" aria-hidden="true" href="#lawn-care-tips-for-shaded-areas">¶</a></h2>
<p>Once established, ongoing maintenance for shaded lawns differs from sunny lawns. Adjusting your routine is key to keeping these areas healthy.</p>
<ul>
<li><strong>Raised Mowing Height:</strong> Set your mower to the highest recommended height (e.g., 3-4 inches for fescues). Taller grass blades provide more surface area for photosynthesis, which is crucial in low light, and help shade out competing weeds.</li>
<li><strong>Reduced Traffic:</strong> Shaded grass is more delicate and susceptible to wear and compaction. Minimize foot traffic and heavy equipment in these areas whenever possible.</li>
<li><strong>Appropriate Watering:</strong> Shaded areas dry out more slowly than sunny spots. Water less frequently than you would for sunny areas, but deeply when you do. Avoid overwatering, which can lead to fungal diseases like brown patch. Always check soil moisture before watering.</li>
<li><strong>Proper Fertilization:</strong> Shaded grass typically requires less nitrogen fertilizer than grass in full sun. Over-fertilizing can lead to weak, leggy growth prone to disease. Use a balanced, slow-release fertilizer at a reduced rate (e.g., half the recommended rate for full sun) once or twice a year.</li>
<li><strong>Disease Vigilance:</strong> Shaded, moist conditions favor fungal diseases. Be vigilant for signs of disease and address them promptly.</li>
<li><strong>Consider Alternatives:</strong> For areas of persistent deep shade where even the most tolerant grasses struggle, consider alternative ground covers (like vinca, hostas, or even monkey grass!), spreading mulch, or incorporating hardscaping elements like pathways or patios. Sometimes, a healthy, mulched garden bed is a better solution than a struggling patch of grass.</li>
</ul>
<p>By understanding your shade conditions, selecting the most appropriate grass variety, and adapting your care regimen, you can successfully cultivate a healthier and more resilient lawn, even in the trickiest, shadiest spots of your yard.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-grass-for-high-traffic/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Grass for High Traffic</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-grass-seed-for-overseeding/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Grass Seed for Overseeding</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
