<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Can I Plant Trees and Shrubs in Late Fall or Winter | Pest Policy</title>
<meta name="keywords" content="
   guides, tree, shrub">


<meta name="description" content="When the vibrant hues of autumn fade and the chill of winter sets in, many gardeners assume the planting season is over. Visions of digging in frozen groun...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/can-i-plant-trees-and-shrubs-in-late-fall-or-winter/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/can-i-plant-trees-and-shrubs-in-late-fall-or-winter/">

 
<meta name="twitter:title" content="Can I Plant Trees and Shrubs in Late Fall or Winter | Pest Policy" />


<meta name="twitter:description" content="When the vibrant hues of autumn fade and the chill of winter sets in, many gardeners assume the planting season is over. Visions of digging in frozen groun..." />
<meta property="og:title" content="Can I Plant Trees and Shrubs in Late Fall or Winter | Pest Policy" />
<meta property="og:description" content="When the vibrant hues of autumn fade and the chill of winter sets in, many gardeners assume the planting season is over. Visions of digging in frozen groun..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/can-i-plant-trees-and-shrubs-in-late-fall-or-winter/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Can I Plant Trees and Shrubs in Late Fall or Winter",
      "item": "http://localhost:1313/posts/can-i-plant-trees-and-shrubs-in-late-fall-or-winter/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Can I Plant Trees and Shrubs in Late Fall or Winter | Pest Policy",
  "name": "Can I Plant Trees and Shrubs in Late Fall or Winter",
  "description": "When the vibrant hues of autumn fade and the chill of winter sets in, many gardeners assume the planting season is over. Visions of digging in frozen groun...",
  "keywords": [
    "guides", "tree", "shrub"
  ],
  "wordCount" : "1523",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/can-i-plant-trees-and-shrubs-in-late-fall-or-winter/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Can I Plant Trees and Shrubs in Late Fall or Winter</h1>
    <div class="post-description">When the vibrant hues of autumn fade and the chill of winter sets in, many gardeners assume the planting season is over. Visions of digging in frozen groun...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/tree/">Tree</a><a href="http://localhost:1313/tags/shrub/">Shrub</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>When the vibrant hues of autumn fade and the chill of winter sets in, many gardeners assume the planting season is over. Visions of digging in frozen ground or exposing tender roots to icy winds might deter even the most enthusiastic plant lover. However, for temperate climates, late fall and even mild winter periods can be surprisingly advantageous times to plant trees and shrubs, particularly those sold as bare-root or balled-and-burlapped (B&amp;B). This unconventional timing leverages the plants&rsquo; natural dormancy, allowing them to establish robust root systems without the stress of simultaneously supporting active top growth or battling summer heat.</p>
<p>While the ground isn&rsquo;t frozen solid and conditions permit, planting in the dormant season offers several benefits, from better plant establishment to more relaxed planting schedules. This guide will explore the compelling reasons to consider late fall or winter planting, outline the ideal timing and techniques, provide essential care tips for newly planted specimens, and address common concerns, helping you extend your planting season and give your new trees and shrubs the best possible start.</p>
<hr>
<h2 id="why-plant-trees-and-shrubs-in-late-fall-or-winter">Why Plant Trees and Shrubs in Late Fall or Winter?<a hidden class="anchor" aria-hidden="true" href="#why-plant-trees-and-shrubs-in-late-fall-or-winter">¶</a></h2>
<p>Leveraging the dormant season for planting offers distinct advantages, especially in temperate regions.</p>
<ol>
<li><strong>Reduced Transplant Shock:</strong> Plants are dormant, meaning their metabolic processes are slowed down, and they are not actively producing leaves or flowers. This reduces the stress on the plant significantly when its root system is disturbed during transplanting.</li>
<li><strong>Root Establishment:</strong> Even though the top growth is dormant, the soil is often still warm enough for roots to grow and extend into the surrounding soil. This allows the plant to develop a strong root system before the demands of spring&rsquo;s vigorous top growth begin.</li>
<li><strong>Less Watering Demands:</strong> Cooler temperatures and increased rainfall (in many regions) mean newly planted trees and shrubs require less frequent watering compared to those planted in the heat of spring or summer.</li>
<li><strong>Flexible Schedule:</strong> Nurseries often have a wider selection of dormant plants, and gardening tasks are generally less demanding, giving you more time to plant thoughtfully.</li>
<li><strong>Cost Savings:</strong> Nurseries may offer discounts on trees and shrubs in late fall or winter as they clear inventory.</li>
</ol>
<p><strong>Nairobi Context:</strong> Nairobi does not experience a cold, true dormancy like temperate climates. Therefore, the concept of &ldquo;late fall or winter planting&rdquo; needs adaptation.</p>
<ul>
<li><strong>Optimal Planting Times in Nairobi:</strong> The best times for planting trees and shrubs are during the <strong>long rains (March-May)</strong> and the <strong>short rains (November-December)</strong>. These periods offer consistent moisture and moderate temperatures, which are ideal for root establishment and minimizing transplant shock.</li>
<li><strong>&ldquo;Winter&rdquo; equivalent:</strong> The cooler dry season (June-August) could be considered if reliable irrigation is guaranteed and the species tolerates cooler, drier conditions for establishment. However, the plant is not truly dormant in the same way.</li>
<li><strong>Avoid:</strong> Planting during the hottest, driest season (January-February) is highly stressful and generally discouraged without intense irrigation and careful management.</li>
</ul>
<hr>
<h2 id="when-to-plant-in-late-fall-or-winter">When to Plant in Late Fall or Winter<a hidden class="anchor" aria-hidden="true" href="#when-to-plant-in-late-fall-or-winter">¶</a></h2>
<p>The timing is critical and depends heavily on your specific climate zone.</p>
<ol>
<li>
<p><strong>Late Fall (Ideal for Temperate Climates):</strong></p>
<ul>
<li><strong>After Leaf Drop, Before Ground Freezes:</strong> This is typically from late October through November or early December in many temperate regions. The plant has entered dormancy, but the soil is still workable and hasn&rsquo;t frozen solid.</li>
<li><strong>Allow Root Establishment:</strong> Aim to plant at least 4-6 weeks before the ground is expected to freeze solid to allow for some initial root establishment.</li>
</ul>
</li>
<li>
<p><strong>Winter (If Conditions Allow):</strong></p>
<ul>
<li><strong>Mild Spells:</strong> If you live in a region with mild winters where the ground doesn&rsquo;t typically freeze deeply or for prolonged periods (e.g., USDA Zones 7-9, or coastal areas), you can plant throughout the winter during mild spells when the soil is unfrozen and workable.</li>
<li><strong>Bare-Root Plants:</strong> Bare-root trees and shrubs are typically available from nurseries in late winter/early spring, just before they break dormancy. This is an excellent time to plant them.</li>
<li><strong>Nairobi Context:</strong> As mentioned, planting during the rainy seasons is preferred. The &ldquo;cooler dry season&rdquo; (June-August) is the closest equivalent to a temperate &ldquo;winter&rdquo; in terms of reduced heat stress, making it a possibility if irrigation is consistent.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="how-to-plant-trees-and-shrubs-in-late-fall-or-winter">How to Plant Trees and Shrubs in Late Fall or Winter<a hidden class="anchor" aria-hidden="true" href="#how-to-plant-trees-and-shrubs-in-late-fall-or-winter">¶</a></h2>
<p>The planting process is largely similar to spring planting, with extra attention to hydration and protection.</p>
<ol>
<li>
<p><strong>Prepare the Hole:</strong></p>
<ul>
<li>Dig a hole that is 2-3 times wider than the root ball, but only as deep as the root ball. You want the plant&rsquo;s crown (where the trunk meets the roots) to be at or slightly above the soil line.</li>
<li>Break up the soil in the bottom and sides of the hole to encourage root penetration.</li>
</ul>
</li>
<li>
<p><strong>Inspect the Plant:</strong></p>
<ul>
<li><strong>Containerized:</strong> Gently remove from the pot. If roots are circling, gently tease them apart or make a few vertical cuts.</li>
<li><strong>Balled-and-Burlapped (B&amp;B):</strong> Place the root ball in the hole. Cut and remove any twine, wire baskets, or burlap from the top half of the root ball once it&rsquo;s in the hole. Remove entirely if possible without disturbing the root ball.</li>
<li><strong>Bare-Root:</strong> Soak roots in water for a few hours before planting. Create a small mound of soil in the center of the hole to spread roots over.</li>
</ul>
</li>
<li>
<p><strong>Position the Plant:</strong></p>
<ul>
<li>Place the tree/<a href="/posts/when-to-trim-trees-and-shrubs/">shrub</a> in the center of the hole. Ensure the root collar (flaring at the base of the trunk) is at or slightly above the surrounding soil level. This is crucial for long-term health.</li>
</ul>
</li>
<li>
<p><strong>Backfill and Water:</strong></p>
<ul>
<li>Backfill the hole with the original soil, gently tamping to remove large air pockets. Avoid adding excessive amendments unless your soil is very poor or compacted.</li>
<li><strong>Water thoroughly:</strong> Water immediately and deeply to settle the soil around the roots. This is especially important for bare-root plants.</li>
</ul>
</li>
<li>
<p><strong>Mulch:</strong></p>
<ul>
<li>Apply a 5-10 cm (2-4 inch) layer of organic mulch (e.g., shredded bark, wood chips, pine needles) over the root zone, extending out to the drip line.</li>
<li><strong>Benefits:</strong> Mulch insulates the soil, helping to maintain warmth and prevent drastic temperature fluctuations, conserves moisture, and suppresses weeds.</li>
<li><strong>Caution:</strong> Keep mulch a few inches away from the trunk to prevent rot and rodent issues.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="caring-for-newly-planted-trees-and-shrubs">Caring for Newly Planted Trees and Shrubs<a hidden class="anchor" aria-hidden="true" href="#caring-for-newly-planted-trees-and-shrubs">¶</a></h2>
<p>Even dormant plants need care to ensure successful establishment.</p>
<ol>
<li><strong>Watering:</strong>
<ul>
<li><strong>Consistent Moisture:</strong> Even in winter, moisture is crucial. If there&rsquo;s no natural rainfall or if the ground isn&rsquo;t frozen, water periodically throughout dry spells, especially evergreens. The goal is moist, not waterlogged, soil.</li>
<li><strong>Check Soil:</strong> Stick your finger 2-3 inches into the soil. If it feels dry, it&rsquo;s time to water.</li>
</ul>
</li>
<li><strong>Staking (If Necessary):</strong>
<ul>
<li>Only stake if the <a href="/posts/10-trees-to-grow-in-containers/">tree</a> is in a very windy location or is top-heavy and unstable.</li>
<li>Use wide, flexible material to tie the tree, allowing for some movement. Remove stakes after one year to prevent girdling.</li>
</ul>
</li>
<li><strong>Protection from Pests:</strong>
<ul>
<li><strong>Rodents:</strong> In colder climates, voles, rabbits, and other rodents can chew on bark during winter. Use tree guards or wire mesh cages around the lower trunk.</li>
<li><strong>Deer:</strong> If deer are a problem, consider protective fencing or repellents.</li>
</ul>
</li>
<li><strong>Avoid Fertilizing:</strong> Do not fertilize newly planted trees and shrubs in late fall or winter. Fertilizing can stimulate tender new growth that will be highly susceptible to frost damage. Wait until spring when new growth begins.</li>
</ol>
<hr>
<h2 id="common-concerns-and-solutions">Common Concerns and Solutions<a hidden class="anchor" aria-hidden="true" href="#common-concerns-and-solutions">¶</a></h2>
<ul>
<li><strong>Frozen Ground:</strong> If the ground is frozen solid or expected to freeze deeply soon after planting, postpone planting. You can store containerized plants in a sheltered, unheated garage or shed during very cold spells.</li>
<li><strong>Transplant Shock:</strong> While reduced, it can still occur. Ensure consistent watering and proper planting depth. Patience is key; new growth will appear in spring.</li>
<li><strong>Heaving:</strong> In areas with freeze-thaw cycles, newly planted shallow-rooted shrubs might &ldquo;heave&rdquo; out of the ground. Proper mulching helps prevent this. If it happens, gently push the plant back down and firm the soil around it.</li>
<li><strong>Nairobi Specific:</strong> The main concern will be ensuring adequate water during the dry seasons if planting outside of the main rain periods, and managing potential heat stress rather than cold.</li>
</ul>
<hr>
<h2 id="what-to-plant-in-late-fall-or-winter">What to Plant in Late Fall or Winter<a hidden class="anchor" aria-hidden="true" href="#what-to-plant-in-late-fall-or-winter">¶</a></h2>
<p>Many deciduous and evergreen trees and shrubs are excellent candidates for dormant season planting.</p>
<ul>
<li><strong>Deciduous Trees:</strong> Maples (<em>Acer</em>), Oaks (<em>Quercus</em>), Elms (<em>Ulmus</em>), Lindens (<em>Tilia</em>), Dogwoods (<em>Cornus</em>), Birches (<em>Betula</em>), Serviceberry (<em>Amelanchier</em>).</li>
<li><strong>Deciduous Shrubs:</strong> Hydrangeas (<em>Hydrangea</em>), Lilacs (<em>Syringa</em>), Viburnums (<em>Viburnum</em>), Spiraeas (<em>Spiraea</em>), Forsythias (<em>Forsythia</em>).</li>
<li><strong>Evergreen Trees &amp; Shrubs:</strong> Hollies (<em>Ilex</em>), Boxwoods (<em>Buxus</em>), Rhododendrons &amp; Azaleas (<em>Rhododendron</em>), Conifers (e.g., Pines, Spruces, Firs, Junipers, Arborvitae). Evergreens continue to transpire (lose water) in winter, so consistent soil moisture is vital for them.</li>
</ul>
<hr>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>While often overlooked, late fall and even mild winter periods offer an excellent window for planting trees and shrubs in temperate climates. By capitalizing on the plants&rsquo; dormancy, providing diligent watering, and protecting them from winter extremes, you can give your new additions a significant head start on root development, leading to stronger, more resilient plants come spring. For gardeners in Nairobi and similar climates, adapting the concept to the rainy seasons or cooler dry periods ensures the same benefits of reduced stress and optimal establishment. Embrace the extended planting season, and enjoy the satisfaction of nurturing your landscape through the quieter months, setting the stage for a burst of vitality when spring (or the next rainy season) arrives.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/can-i-clean-spray-gun-with-denatured-alcohol/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Can I Clean Spray Gun With Denatured Alcohol</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/can-i-sand-my-deck-by-hand/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Can I Sand My Deck by Hand</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
