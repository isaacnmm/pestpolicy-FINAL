<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Refinish a Deck | Pest Policy</title>
<meta name="keywords" content="
   diy-paintings, deck">


<meta name="description" content="If your deck is faded or bleached; then, refinishing is urgently required to restore its initial beauty.">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-refinish-a-deck/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-refinish-a-deck/">

 
<meta name="twitter:title" content="How to Refinish a Deck | Pest Policy" />


<meta name="twitter:description" content="If your deck is faded or bleached; then, refinishing is urgently required to restore its initial beauty." />
<meta property="og:title" content="How to Refinish a Deck | Pest Policy" />
<meta property="og:description" content="If your deck is faded or bleached; then, refinishing is urgently required to restore its initial beauty." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-refinish-a-deck/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Refinish a Deck",
      "item": "http://localhost:1313/posts/how-to-refinish-a-deck/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Refinish a Deck | Pest Policy",
  "name": "How to Refinish a Deck",
  "description": "If your deck is faded or bleached; then, refinishing is urgently required to restore its initial beauty.",
  "keywords": [
    "diy-paintings", "deck"
  ],
  "wordCount" : "1265",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-refinish-a-deck/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Refinish a Deck</h1>
    <div class="post-description">If your deck is faded or bleached; then, refinishing is urgently required to restore its initial beauty.</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/diy-paintings/">Diy-Paintings</a><a href="http://localhost:1313/tags/deck/">Deck</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>If your deck is faded or bleached; then, refinishing is urgently required to restore its initial beauty.
<em>On how to refinish a deck - select the material and tools required, pre-clean the surface, strip old paint, sand, wash, repair, and fill damaged sections before carrying out final polishing.�</em>
<em>Besides, you need to select and prepare deck stain, re-stain the deck, select and prepare the finish paint, and apply the finish paint (using a paintbrush or a roller). For quality deck finish, you may consider sealing the final paint coat with Thompsons sealer.�</em></p>
<h2></h2>
<h2 id="how-to-refinisha-deck">How to Refinisha Deck<a hidden class="anchor" aria-hidden="true" href="#how-to-refinisha-deck">¶</a></h2>
<p>*Remember; when painting, its advisable to wear protective gear and adhere to precautions highlighted in this article for your safety purpose. *
<em>The m</em>
aterials and tools required are:</p>
<ul>
<li>A paintbrush or a roller;Stain and thinner;Power washer and water point;Empty bucket and paint scrapper;Paint stripping chemical;Filler and Polishing machine;Sanderor a Sandpaper  medium grit 80 to 120 grit;Finish Paint and Blower;Protective gear  gloves, goggles, overalls, boots, respirator, and facemask</li>
</ul>
<h3 id="step1-pre-surface-cleaning">Step1: Pre-surface Cleaning<a hidden class="anchor" aria-hidden="true" href="#step1-pre-surface-cleaning">¶</a></h3>
<ul>
<li>Wear protective gear  gloves, boots, respirator, overall, and goggles  for safety purposes</li>
<li>Sweep the deck surface with a broom to eliminate dust and surface debris</li>
<li>Mop or<a href="https://pestpolicy.com/how-to-clean-a-deck-before-staining/">pre-clean the deck</a>with water and soap if need be
<a href="https://www.youtube.com/watch?v=8Cav43PSEKM">https://www.youtube.com/watch?v=8Cav43PSEKM</a></li>
</ul>
<h3 id="step-2-stripping-of-old-paintstain">Step 2: Stripping of old paint/stain<a hidden class="anchor" aria-hidden="true" href="#step-2-stripping-of-old-paintstain">¶</a></h3>
<ul>
<li>Prepare paint stripping chemical as per manufacturers instructions</li>
<li>Using a paintbrush, apply the stripping chemical over the deck  back and forth</li>
<li>Repeat the previous step until theentire deck surface is stained</li>
<li>Leave the surface to cure for 30 or so advised by the manufacturer</li>
<li>Gently, scrape off the old paint with a paint scraper. Be careful not to destroy the primary surface material</li>
<li>Repeat the previous step until the entire paint/stain is removed</li>
<li>Blow off scrubbed paint and clean the surface</li>
</ul>
<h3 id="step-3-sanding">Step 3: Sanding<a hidden class="anchor" aria-hidden="true" href="#step-3-sanding">¶</a></h3>
<ul>
<li>Connect the sander to a power source and switch on</li>
<li>Gently, sand the paint stripped surface to remove any paint remains and rough protrusions</li>
<li>Repeat the sanding action until the entire surface is well sanded. Be careful when sanding to prevent damaging of decks surface material</li>
<li>Alternatively, sand the surface with medium-grit sandpaper  80 to 120 grit</li>
<li>Using a blower, blow of dust and surface debris. You can also sweep</li>
</ul>
<h3 id="step-4-washingcleaning">Step 4: Washing/Cleaning<a hidden class="anchor" aria-hidden="true" href="#step-4-washingcleaning">¶</a></h3>
<ul>
<li>Connect a power washer to power and switch on</li>
<li>Plug-in the hosepipe to a water point and turn on the tap</li>
<li>Apply soapy detergent and scrub to clean the surface</li>
<li>Wash the polished surface (using a power washer) until soap is cleaning</li>
<li>Rinse the surface to dryness</li>
<li>Leave the surface to dry completely  around 20 minutes</li>
</ul>
<h3 id="step-5-repair-and-filling-the-gaps">Step 5: Repair and Filling the Gaps<a hidden class="anchor" aria-hidden="true" href="#step-5-repair-and-filling-the-gaps">¶</a></h3>
<ul>
<li>Repair porous surface and damaged sections</li>
<li>Re-fill the gaps and holes with patching compound or filler</li>
<li>Using a putty knife, remove excess filler</li>
<li>Leave the filler to dry to touch</li>
</ul>
<h3 id="step-6-final-polishing">Step 6: Final Polishing<a hidden class="anchor" aria-hidden="true" href="#step-6-final-polishing">¶</a></h3>
<ul>
<li>Connect the polishing machine to a power source and switch on</li>
<li>Gently, polish the filled surface to attain a smooth finish lining</li>
<li>Alternatively, you can use fine-grit sandpaper when polishing</li>
<li>Sweet or blow off polished dust</li>
<li>Mop and rinse the surface</li>
<li>Leave the deck to dry to touch</li>
</ul>
<h3 id="step-7-selecting-and-preparation-of-deck-primer-stain">Step 7: Selecting and Preparation of Deck Primer Stain<a hidden class="anchor" aria-hidden="true" href="#step-7-selecting-and-preparation-of-deck-primer-stain">¶</a></h3>
<p>When selecting your primer stain for the deck, consider factors such as the deck location, the prevailing climatic condition, the type of deck material, the type of finish paint to use, the surface area of the deck, and the number of coats to apply.</p>
<ul>
<li>Choose waterproof primer when priming deck located in a wet area to prevent peeling and acrylic latex primer for temperate climatic regions. Moreover, you need to check the UV-rays blockers before purchasing your primer for use in sunny areas.
More so, the deck found in a sunny environment should be primed with lighter/translucent stain to boost the reflection of solar radiations.</li>
<li>Gently, pour the primer stain into an empty bucket</li>
<li>Thin the primer as per the manufacturers instructions</li>
<li>Test the thinned primer over the deck surface to assess the stickiness action
<a href="https://www.youtube.com/watch?v=8eQhrVbOp_4">https://www.youtube.com/watch?v=8eQhrVbOp_4</a></li>
</ul>
<h3 id="step-8-re-staining-deck">Step 8: Re-staining Deck<a hidden class="anchor" aria-hidden="true" href="#step-8-re-staining-deck">¶</a></h3>
<ul>
<li>Dip the paintbrush into the primed solvent and load it appropriately</li>
<li>Cut off the excess primer</li>
<li>Apply the primer  back and forth</li>
<li>Repeat the<a href="https://pestpolicy.com/how-to-stain-a-deck-for-the-first-time/">deck staining steps</a>above until the entire surface is well-primed</li>
<li>Leave the primer to dry to touch
NB: Avoid overloading the paintbrush as it causes drains or runs on the deck surface.</li>
</ul>
<h3 id="step-9-selecting-and-preparation-of-finish-paint">Step 9: Selecting and Preparation of Finish Paint<a hidden class="anchor" aria-hidden="true" href="#step-9-selecting-and-preparation-of-finish-paint">¶</a></h3>
<p>When selecting the finish paint, you need to match the solvent with the type of primer used (oil-based primer should be coated with oil-based finish paint and vice versa).
Further, consider finish paint, which is waterproof (for wet/humid areas), UV-rays resistant (for the sunny environment), and fast-drying.</p>
<ul>
<li>Gently, pour finished paint into an empty bucket</li>
<li>Thin the paint sufficiently  as per the manufacturers instructions</li>
<li>Stir the paint thoroughly to attain a uniform solvent</li>
<li>Carry out a drop test experiment to ascertain the stickiness level
NB: Do not over dilute finish paint  the coating layer may be weak and susceptible to wear and tear upon abrasive force.</li>
</ul>
<h3 id="step-10-repainting-the-deck">Step 10: Repainting the Deck<a hidden class="anchor" aria-hidden="true" href="#step-10-repainting-the-deck">¶</a></h3>
<ul>
<li>Dip a roller or a paintbrush into a finished paint and load it sufficiently</li>
<li>Cut off excess paint to prevent drains or runs</li>
<li>Apply the paint over the surface back and forth</li>
<li>Repeat the steps above until the entire surface is painted</li>
<li>Leave the first coat to dry as per the manufacturers instructions</li>
<li>Apply the second coat and leave it to dry naturally
For a quality finish, its advisable to seal your deck with Thompsons Seal as advised further in this article.
For a deck located in the dusty region, cover the surface with a polyethylene bag to prevent it from dust stains.</li>
</ul>
<h2 id="how-to-seal-your-deck-for-protection">How to Seal Your Deck for Protection<a hidden class="anchor" aria-hidden="true" href="#how-to-seal-your-deck-for-protection">¶</a></h2>
<p>Sealing deck after finish coat application is important as it improves decks surface life and
<a href="https://pestpolicy.com/how-to-paint-a-deck-with-peeling-paint/">prevents peeling</a>
and scuffing, which is paramount in wet and dry areas.
To carry out the deck paint sealing process, will need to follow the steps/procedure (with the materials and tools) highlighted below:</p>
<ul>
<li>A paint sealer and thinner</li>
<li>A roller or a paintbrush</li>
<li>Blower and respirator</li>
<li>Dust coat and gloves</li>
<li>Goggles and boots</li>
<li>Paint sprayer and rag</li>
<li>Waterpoint and an empty bucket</li>
</ul>
<h3 id="step-1-surface-cleaning">Step 1: Surface cleaning<a hidden class="anchor" aria-hidden="true" href="#step-1-surface-cleaning">¶</a></h3>
<ul>
<li>Wear protective gear for safety</li>
<li>Blow off dust particles and debris from the deck surface</li>
<li>Mop the surface and leave it to dry to touch</li>
</ul>
<h3 id="step2-sealer-preparation">Step�2: Sealer preparation<a hidden class="anchor" aria-hidden="true" href="#step2-sealer-preparation">¶</a></h3>
<ul>
<li>Pour the sealer into the bucket</li>
<li>Thin the sealer appropriately if need be</li>
<li>Stir the sealer toattain uniform solvent</li>
<li>Test the sealer over the deck surface to assess the stickiness level
NB: Well-thinned sealer should load a paintbrush with minimal drains.</li>
</ul>
<h3 id="step-3-apply-the-sealer">Step 3: Apply the Sealer<a hidden class="anchor" aria-hidden="true" href="#step-3-apply-the-sealer">¶</a></h3>
<ul>
<li>Dip a paintbrush or a roller into the sealer</li>
<li>Load the brush sufficiently</li>
<li>Cut off excess sealer to prevent surface runs</li>
<li>Apply the sealer on the deck surface  back and forth gently</li>
<li>Repeat the steps above until the entire surface is sealed</li>
</ul>
<h3 id="step-4-quality-finish">Step 4: Quality Finish<a hidden class="anchor" aria-hidden="true" href="#step-4-quality-finish">¶</a></h3>
<p>Leave the sealed surface to dry naturally. You can sprinkle water over the sealed deck to keep dust from the surface.
Alternatively, cover the deck with a polyethylene bag until the surface is dry to touch.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>In summary, on how to refinish a deck, you begin by selecting the material and tools required, pre-cleaning the surface, stripping old paint, sanding, washing, repairing, and filling damaged sections before carrying out final polishing.</p>
<ul>
<li>Further, you need to choose and prepare deck stain appropriately, re-stain the deck, select and prepare the finish paint, and re-paint the deck (using a roller or a paintbrush).
In order to achieve a quality deck finish, its advisable to consider sealing the finish paint coat with Thompsons sealer.</li>
</ul>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-record-a-song-on-mac/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Record a Song on Mac</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-remove-a-small-tree/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Remove a Small Tree</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
