<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Tips on Where and How to Install a Bathroom Vent Fan | Pest Policy</title>
<meta name="keywords" content="
   home-improvement, where, how">


<meta name="description" content="A well-functioning bathroom vent fan is a non-negotiable component of any healthy home. Its primary purpose is to exhaust humid air, steam, and odors, prev...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/tips-on-where-and-how-to-install-a-bathroom-vent-fan/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/tips-on-where-and-how-to-install-a-bathroom-vent-fan/">

 
<meta name="twitter:title" content="Tips on Where and How to Install a Bathroom Vent Fan | Pest Policy" />


<meta name="twitter:description" content="A well-functioning bathroom vent fan is a non-negotiable component of any healthy home. Its primary purpose is to exhaust humid air, steam, and odors, prev..." />
<meta property="og:title" content="Tips on Where and How to Install a Bathroom Vent Fan | Pest Policy" />
<meta property="og:description" content="A well-functioning bathroom vent fan is a non-negotiable component of any healthy home. Its primary purpose is to exhaust humid air, steam, and odors, prev..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/tips-on-where-and-how-to-install-a-bathroom-vent-fan/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Tips on Where and How to Install a Bathroom Vent Fan",
      "item": "http://localhost:1313/posts/tips-on-where-and-how-to-install-a-bathroom-vent-fan/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Tips on Where and How to Install a Bathroom Vent Fan | Pest Policy",
  "name": "Tips on Where and How to Install a Bathroom Vent Fan",
  "description": "A well-functioning bathroom vent fan is a non-negotiable component of any healthy home. Its primary purpose is to exhaust humid air, steam, and odors, prev...",
  "keywords": [
    "home-improvement", "where", "how"
  ],
  "wordCount" : "1615",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/tips-on-where-and-how-to-install-a-bathroom-vent-fan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Tips on Where and How to Install a Bathroom Vent Fan</h1>
    <div class="post-description">A well-functioning bathroom vent fan is a non-negotiable component of any healthy home. Its primary purpose is to exhaust humid air, steam, and odors, prev...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/home-improvement/">Home-Improvement</a><a href="http://localhost:1313/tags/where/">Where</a><a href="http://localhost:1313/tags/how/">How</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>A well-functioning bathroom vent fan is a non-negotiable component of any healthy home. Its primary purpose is to exhaust humid air, steam, and odors, preventing them from causing damage to paint, drywall, and structural elements, and curbing the growth of mold and mildew. While the importance of a vent fan is widely recognized, achieving its maximum effectiveness hinges on two critical factors: choosing the right fan for your space and, equally important, knowing <strong>where and <a href="/posts/how-to-build-a-backyard-train/">how</a> to install a bathroom vent fan</strong> correctly.</p>
<p>Improper placement or a flawed installation can severely diminish a fan&rsquo;s performance, leaving your bathroom vulnerable to moisture-related issues despite having a fan in place. This guide will provide essential tips and a comprehensive overview of the installation process, from selecting the ideal unit and pinpointing its optimal location to the hands-on steps of securing and wiring it, ensuring your bathroom remains fresh, dry, and protected for years to come.</p>
<hr>
<h2 id="how-to-choose-the-right-bathroom-vent-fan">How To Choose the Right Bathroom Vent Fan<a hidden class="anchor" aria-hidden="true" href="#how-to-choose-the-right-bathroom-vent-fan">¶</a></h2>
<p>Before installation, selecting the appropriate fan is paramount. Consider these factors:</p>
<ol>
<li><strong>CFM (Cubic Feet per Minute) Rating:</strong> This indicates how much air the fan moves.
<ul>
<li><strong>For bathrooms 100 sq ft or less:</strong> Use 1 CFM per square foot of bathroom area. (e.g., a 60 sq ft bathroom needs a 60 CFM fan). Round up to the nearest standard fan size (e.g., 70 CFM).</li>
<li><strong>For bathrooms over 100 sq ft or with high ceilings:</strong> Calculate the room&rsquo;s volume (Length x Width x Height in feet). Divide the volume by 60 (minutes) and multiply by 8 (air changes per hour). (e.g., 10&rsquo;x12&rsquo;x8&rsquo; bathroom = 960 cu ft. (960 / 60) * 8 = 128 CFM. Choose 130 CFM or 150 CFM).</li>
<li><strong>Add for Fixtures:</strong> For jetted tubs, add 50 CFM. For separate toilet enclosures or showers, add 50 CFM each.</li>
</ul>
</li>
<li><strong>Sone Rating (Noise Level):</strong> Lower sones mean quieter operation.
<ul>
<li><strong>1.0 sone or less:</strong> Very quiet, almost silent � ideal for comfort.</li>
<li><strong>1.0 - 2.0 sones:</strong> Quiet.</li>
<li><strong>Over 3.0 sones:</strong> Can be quite noisy.</li>
</ul>
</li>
<li><strong>Duct Size:</strong> Match the fan&rsquo;s exhaust port to your existing or planned ductwork (common sizes are 4-inch or 6-inch). Larger ducts generally allow for better airflow and quieter operation.</li>
<li><strong>Features:</strong> Consider integrated LED lighting, nightlights, heaters, humidistat sensors (automatic on/off based on humidity), or motion sensors for added convenience and energy efficiency.</li>
</ol>
<hr>
<h2 id="determining-the-ideal-fan-location">Determining the Ideal Fan Location<a hidden class="anchor" aria-hidden="true" href="#determining-the-ideal-fan-location">¶</a></h2>
<p>Strategic placement is critical for effective moisture removal.</p>
<ol>
<li><strong>Centralized (if possible):</strong> For optimal whole-bathroom ventilation, the fan should ideally be located as close to the center of the bathroom ceiling as possible. This allows it to capture moisture from all areas.</li>
<li><strong>Over the Shower/Tub:</strong> In smaller bathrooms or bathrooms with high humidity-generating fixtures, placing the fan directly over or very close to the primary moisture source (the shower or tub) is highly effective. This allows it to capture steam at its origin.
<ul>
<li><strong>Important Safety Note:</strong> If installing directly over a shower or tub enclosure, the fan <em>must</em> be rated for damp or wet locations (often indicated by &ldquo;UL Listed for use over a tub or shower with a GFCI circuit&rdquo;). Ensure it&rsquo;s connected to a Ground Fault Circuit Interrupter (GFCI) protected circuit.</li>
</ul>
</li>
<li><strong>Opposite the Door/Air Source:</strong> Position the fan in a way that allows air to flow across the entire room, drawing stale, humid air towards the fan and pulling in fresh air from under the bathroom door. Placing it directly above the door can lead to inefficient short-cycling of air.</li>
<li><strong>Between Joists:</strong> The fan housing must fit between ceiling joists. Use a stud finder to locate these before marking your cut. If your desired location falls directly under a joist, you&rsquo;ll need to either shift the fan, or, for larger fans, cut and reframe the joist (a more complex task best left to professionals if unsure).</li>
<li><strong>Proximity to Duct Exit:</strong> Consider the shortest, straightest path for the exhaust duct from the fan to the exterior of your home (through the roof or an exterior wall). Minimizing duct length and bends reduces air resistance and improves fan efficiency.</li>
</ol>
<hr>
<h2 id="bathroom-vent-fan-installation-guide">Bathroom Vent Fan Installation Guide<a hidden class="anchor" aria-hidden="true" href="#bathroom-vent-fan-installation-guide">¶</a></h2>
<p>This guide covers a typical ceiling-mounted exhaust fan installation, often involving attic access.</p>
<p><strong>Tools and Materials:</strong></p>
<ul>
<li>New bathroom vent fan kit</li>
<li>Safety glasses, dust mask, gloves</li>
<li>Stud finder</li>
<li>Measuring tape, pencil</li>
<li>Drill and appropriate drill bits</li>
<li>Utility knife or drywall saw</li>
<li>Wire strippers/cutters</li>
<li>Wire nuts</li>
<li>HVAC-grade foil tape</li>
<li>Duct clamps</li>
<li>Flexible insulated ducting (or rigid metal duct)</li>
<li>Exterior vent cap (roof or wall mount, with backdraft damper)</li>
<li>Caulk gun and exterior sealant/roofing cement</li>
<li>Step ladder or extension ladder</li>
<li>Voltage tester (non-contact)</li>
<li>Pry bar (optional, for old fan removal)</li>
</ul>
<p><strong>Step-by-Step Installation:</strong></p>
<ol>
<li>
<p><strong>Safety First: Turn Off Power:</strong></p>
<ul>
<li>Go to your home&rsquo;s electrical panel.</li>
<li>Locate and switch off the circuit breaker controlling the bathroom lights and fan.</li>
<li><strong>Crucially, use a non-contact voltage tester to confirm there is no power at the existing fan or nearby wires.</strong></li>
</ul>
</li>
<li>
<p><strong>Remove Old Fan (If Applicable):</strong></p>
<ul>
<li>Remove the fan grille.</li>
<li>Disconnect the electrical wiring (note how wires are connected: usually black to black, white to white, bare/green to bare/green).</li>
<li>Disconnect the ductwork.</li>
<li>From the attic, locate the fan housing, unscrew or pry off any mounting brackets/nails securing it to the joists, and carefully remove the old unit. Clean any debris.</li>
</ul>
</li>
<li>
<p><strong>Prepare the Ceiling Opening:</strong></p>
<ul>
<li>Measure the exact dimensions of your new fan&rsquo;s housing.</li>
<li>Trace the new opening onto the ceiling (using the fan&rsquo;s template if provided).</li>
<li>Using a drywall saw or utility knife, carefully cut out the new opening. Ensure it&rsquo;s between joists.</li>
</ul>
</li>
<li>
<p><strong>Install the New Fan Housing:</strong></p>
<ul>
<li>From the attic (or from below, if it&rsquo;s a &ldquo;new construction&rdquo; type fan designed for that), insert the new fan housing into the ceiling opening.</li>
<li>Secure the housing to the ceiling joists using the provided mounting brackets or screws. Ensure it&rsquo;s level and firmly attached. If no joist is nearby, install blocking between joists for secure mounting.</li>
</ul>
</li>
<li>
<p><strong>Connect Ductwork:</strong></p>
<ul>
<li>Attach the ductwork (flexible insulated ducting is common for DIY) to the fan&rsquo;s exhaust port. Ensure it matches the fan&rsquo;s duct size.</li>
<li>Secure the connection with a duct clamp.</li>
<li>Seal all connections tightly with HVAC-grade foil tape to prevent air leaks and moisture escape into the attic.</li>
<li>Run the duct in the shortest, straightest path possible to the exterior vent location. Support flexible ducting every 4-5 feet to prevent sags.</li>
</ul>
</li>
<li>
<p><strong>Install Exterior Vent Cap:</strong></p>
<ul>
<li>From the attic, push a nail up through the roof sheathing (or exterior wall) at your chosen vent location.</li>
<li>From the outside, use the nail to locate the spot. Trace and cut the opening for your roof or wall cap (using roofing cement under the flashing for roof caps, exterior caulk for wall caps).</li>
<li>Install the vent cap, ensuring its backdraft damper operates freely and it&rsquo;s securely fastened and sealed to prevent leaks and pests.</li>
<li>Connect the ductwork to the vent cap&rsquo;s collar using a clamp and thoroughly seal with foil tape.</li>
</ul>
</li>
<li>
<p><strong>Make Electrical Connections:</strong></p>
<ul>
<li>Guide the electrical wires from the junction box (in the ceiling) into the fan&rsquo;s wiring compartment.</li>
<li>Using wire nuts, connect wires according to color:
<ul>
<li>Bare copper/green (ground) to bare copper/green.</li>
<li>White (neutral) to white.</li>
<li>Black (hot) to black.</li>
<li>If a light or other feature has separate wiring, follow the fan&rsquo;s wiring diagram (e.g., red or blue wire from switch to the fan&rsquo;s light wire).</li>
</ul>
</li>
<li>Tuck connections neatly into the fan&rsquo;s wiring compartment and secure the cover.</li>
</ul>
</li>
<li>
<p><strong>Install Fan Components and Grille:</strong></p>
<ul>
<li>Install the fan motor/blower assembly into the housing according to the manufacturer&rsquo;s instructions.</li>
<li>Attach the fan grille by pushing it up until the spring clips engage or by securing it with screws.</li>
</ul>
</li>
<li>
<p><strong>Restore Power and Test:</strong></p>
<ul>
<li>Return to your electrical panel and flip the circuit breaker back to the &ldquo;ON&rdquo; position.</li>
<li>Test the fan to ensure it turns on, operates quietly (for its sone rating), and moves air effectively to the outside.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="important-installation-tips">Important Installation Tips<a hidden class="anchor" aria-hidden="true" href="#important-installation-tips">¶</a></h2>
<ul>
<li><strong>Always Vent to the Outside:</strong> Never vent into an attic, soffit, crawl space, or wall cavity. This will cause severe moisture damage and mold.</li>
<li><strong>Insulate Ductwork:</strong> If the duct runs through an unconditioned attic space, use insulated ducting or wrap rigid ducting with R-8 insulation to prevent condensation inside the duct.</li>
<li><strong>Minimize Duct Length and Bends:</strong> Keep the duct run as short and straight as possible to maximize airflow and minimize noise. Each 90-degree bend significantly reduces efficiency.</li>
<li><strong>Secure All Connections:</strong> Use duct clamps and HVAC-grade foil tape (not standard cloth duct tape) at every connection point to create airtight seals.</li>
<li><strong>Proper Sag Prevention:</strong> Support flexible ducting to prevent sags, which can collect condensation and restrict airflow.</li>
<li><strong>Backdraft Dampers:</strong> Ensure the fan itself and the exterior vent cap both have functioning backdraft dampers to prevent cold air, hot air, or pests from entering.</li>
</ul>
<hr>
<h2 id="bathroom-vent-fan-maintenance-and-care">Bathroom Vent Fan Maintenance and Care<a hidden class="anchor" aria-hidden="true" href="#bathroom-vent-fan-maintenance-and-care">¶</a></h2>
<p>Once installed, a little maintenance goes a long way:</p>
<ul>
<li><strong>Regular Cleaning:</strong> At least every 3-6 months, remove the grille and vacuum or wipe down the fan blades and motor housing to remove dust and lint buildup. This ensures optimal airflow and reduces noise.</li>
<li><strong>Check Exterior Vent:</strong> Annually, inspect the exterior vent cap for blockages (bird nests, lint, debris) and ensure the damper is operating freely.</li>
<li><strong>Listen for Changes:</strong> Pay attention to any new noises (rattling, squealing), as these can indicate worn bearings or loose parts that need attention.</li>
</ul>
<hr>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>Properly installing a bathroom vent fan is a vital investment in your home&rsquo;s health and longevity. By carefully selecting the right fan, determining its optimal placement, and diligently following the installation steps � especially concerning safe electrical work and correct ducting practices � you can ensure your bathroom remains a fresh, dry, and comfortable space, protected from the damaging effects of excessive moisture. This DIY project is a testament to proactive home maintenance, yielding significant benefits for years to come.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/tips-for-building-backyard-waterfall/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Tips for Building Backyard Waterfall</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/tlc-lawn-care-reviews/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Tlc Lawn Care Reviews</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
