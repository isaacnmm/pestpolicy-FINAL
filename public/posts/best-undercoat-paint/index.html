<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Undercoat Paint | Pest Policy</title>
<meta name="keywords" content="
   paint, undercoat">


<meta name="description" content="One of the reasons why you will end up having uneven painting is a failure to have the right undercoat. Before you go for that paint, you need to first est...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-undercoat-paint/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-undercoat-paint/">

 
<meta name="twitter:title" content="Best Undercoat Paint | Pest Policy" />


<meta name="twitter:description" content="One of the reasons why you will end up having uneven painting is a failure to have the right undercoat. Before you go for that paint, you need to first est..." />
<meta property="og:title" content="Best Undercoat Paint | Pest Policy" />
<meta property="og:description" content="One of the reasons why you will end up having uneven painting is a failure to have the right undercoat. Before you go for that paint, you need to first est..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-undercoat-paint/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Undercoat Paint",
      "item": "http://localhost:1313/posts/best-undercoat-paint/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Undercoat Paint | Pest Policy",
  "name": "Best Undercoat Paint",
  "description": "One of the reasons why you will end up having uneven painting is a failure to have the right undercoat. Before you go for that paint, you need to first est...",
  "keywords": [
    "paint", "undercoat"
  ],
  "wordCount" : "1450",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-undercoat-paint/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Undercoat Paint</h1>
    <div class="post-description">One of the reasons why you will end up having uneven painting is a failure to have the right undercoat. Before you go for that paint, you need to first est...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/paint/">Paint</a><a href="http://localhost:1313/tags/undercoat/">Undercoat</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>One of the reasons why you will end up having uneven painting is a failure to have the right undercoat. Before you go for that paint, you need to first establish the best undercoat paint to match it.</p>
<p>Apart from providing an even surface, an undercoat will richly influence the outcome of the topcoat.
Other undercoats provide extra
protection either against rust
, abrasion, cracking,
<a href="https://pestpolicy.com/how-to-keep-spray-paint-from-chipping-off-metal/">chipping</a>
, or moisture penetration.</p>
<h2 id="s-top-7-best-undercoat-paint-in-2025">s: Top 7 Best Undercoat Paint in 2025<a hidden class="anchor" aria-hidden="true" href="#s-top-7-best-undercoat-paint-in-2025">¶</a></h2>
<h3 id="1-por-15-45404-rust-preventive-paint-1-quart"><a href="https://www.amazon.com/dp/B00H2VVQNU/?tag=p-policy-20">1. POR-15 45404 Rust Preventive Paint, 1 quart</a><a hidden class="anchor" aria-hidden="true" href="#1-por-15-45404-rust-preventive-paint-1-quart">¶</a></h3>
<p>When looking for an undercoat with multiple benefits get POR. It is the only undercoat with the ability to permanently stop the rust from affecting your surface.</p>
<p>It is environmentally friendly and safe for use because it is free of any lead elements
Designed with high performance, you can use it on hardened rust surfaces. You can also use it to clear out the existing rust and protects the surface from further rusting.
Upon application, it processes a rock-hard dried surface with a non-porous finish. It makes the surface resistant to peeling, cracking, or even chipping off.
This is in addition to its water-resistant abilities that prevent any water entry into the surface.
However, it is important to note that this paint is sensitive to UV light, and in the cases where it is extremely exposed all seek to apply a topcoat.
This is not the case if it is applied indoors where there are minimum chance of exposure to UV light.
Pros:</p>
<ul>
<li>Environmental friendly</li>
<li>Permanently stop rusting</li>
<li>Great quality</li>
<li>Durable</li>
<li>Resistant to cracking, chipping, and peeling</li>
</ul>
<p>Cons:</p>
<ul>
<li>Sensitive to UV light</li>
</ul>
<blockquote>
<p>See Also:
<a href="https://pestpolicy.com/best-stain-for-swing-set/">Stain for Swing Set</a>
.</p></blockquote>
<h3 id="2-3m-03584-rubberized-undercoat-paint-16-oz"><a href="https://www.amazon.com/dp/B002H9CMCQ/?tag=p-policy-20">2. 3M 03584 Rubberized Undercoat Paint, 16 oz.</a><a hidden class="anchor" aria-hidden="true" href="#2-3m-03584-rubberized-undercoat-paint-16-oz">¶</a></h3>
<p>If you are looking for a multipurpose undercoat for use on automotive and metals, this is the most ideal for you.</p>
<p>Its mostly preferred to the professionals and DIYers who are particularly keen on keen on the outcome of their painting.
Its black undercoat will give you the best undercoat for your next painting because you can blend it with nearly all other types of paints.
The results are an excellent rubberized surface that is ready for a topcoat. It is designed with asphalt and a no-run formula making it good even on interior fenders.
It is also responsible for making this aerosol paint resistant to cracking, abrasion, and weathering, or even rust. �Additionally, it also comes with an aspect of noise reduction on your vehicle.
When you choose this paint, the aerosol dispenser makes the application easy as a spray paint.
Pros:</p>
<ul>
<li>Has easy application</li>
<li>Controls rust</li>
<li>Suitable for automotive</li>
<li>Reduces noise</li>
<li>Made of asphalt</li>
</ul>
<p>Cons:
Not for large projects</p>
<ul>
<li>Its costly</li>
</ul>
<blockquote>
<p>See Also:
HVLP Paint Sprayer for Latex Paint</p></blockquote>
<h3 id="3-kilz-premium-stain-blocking-primer-1-gallon"><a href="https://www.amazon.com/dp/B0002YOZZU/?tag=p-policy-20">3. KILZ Premium Stain Blocking Primer, 1-gallon</a><a hidden class="anchor" aria-hidden="true" href="#3-kilz-premium-stain-blocking-primer-1-gallon">¶</a></h3>
<p>This is a reputable undercoat that is suitable for use both indoors and outdoors. It is water-based and can serve either as a primer or a sealer.</p>
<p>It has fascinating environmentally friendly features as it contains zero VOCs and has less odor and very preferable for use indoors.
As an undercoat primer, it has a dull and flat matte finish that is compatible with most topcoat paints. If your surface has some minor imperfections, it has the right consistency to help you fill them up.
Ultimately, you can use this primer on wood, bricks, paneling, or even masonry.
Alternatively, it performs quite well in areas prone to high humidity and you can use it in bathrooms, kitchen, or even laundry room among others.
It application is simple and you can use a brush or
even a sprayer
. Consequently, when cleaning, you only need soap and water and you are good to go.
Pros:</p>
<ul>
<li>Environmental friendly</li>
<li>Low odor</li>
<li>Suitable for both indoors and outdoors</li>
<li>Hides imperfections</li>
<li>Suitable for moisture prone areas</li>
<li>Easy to apply</li>
<li>Easy to clean-up</li>
</ul>
<p>Cons:</p>
<ul>
<li>Not reusable</li>
</ul>
<blockquote>
<p>See Also:
Sprayer for Latex Paint</p></blockquote>
<h3 id="4-insl-x-sxa110099-04-1-quart"><a href="https://www.amazon.com/dp/B000MITIF8/?tag=p-policy-20">4. INSL-X (SXA110099-04), 1 Quart</a><a hidden class="anchor" aria-hidden="true" href="#4-insl-x-sxa110099-04-1-quart">¶</a></h3>
<p>This is a great American product that has made it wide in the global paint industry.</p>
<p>Being a water-based primer, it has low VOC and also has less odor making it safe for you to use both indoors are outdoors.
What I like about this primer is that it is multi-purpose and you can use it on fiberglass, plastics, wood, masonry, and any other material that is available.
It dries fast with 30 minutes giving you an opportunity to finish your project faster. If you intend to do a second coat, you can reapply after 3hr-4 hrs.
The paint has strong adhesion which makes it bond easily with all types of surfaces leaving behind a very durable layer.
If you have a large project, you may want to consider this primer for its great coverage where one gallon covers 300 to 400 sq. ft.
Its clean-up is easy and with just water and soap, you can achieve a clean surface.
Pros:</p>
<ul>
<li>Excellent adhesion</li>
<li>Versatile</li>
<li>Durable</li>
<li>Easy clean-up</li>
<li>Low odor</li>
<li>Has good coverage</li>
<li>Fast drying</li>
<li>Environmental friendly</li>
<li>Made in USA</li>
</ul>
<p>Cons:</p>
<ul>
<li>Poor packaging</li>
</ul>
<blockquote>
<p>See Also:
Airless Paint Sprayer for Interior Walls</p></blockquote>
<h3 id="5-automotive-rubberized-undercoat-paint-rus-1020f6"><a href="https://www.amazon.com/dp/B000Q6UBQ6/?tag=p-policy-20">5. Automotive Rubberized Undercoat Paint (RUS-1020F6)</a><a hidden class="anchor" aria-hidden="true" href="#5-automotive-rubberized-undercoat-paint-rus-1020f6">¶</a></h3>
<p>If you are looking for an automotive undercoat, you should consider putting this on the list.</p>
<p>It is designed with a rubberized chemical formula that protects your surface from rust, peeling, cracking, or even chipping.
What I like about this paint is that it covers the surface very well and you can apply it either by use of a sprayer or a brush.
For optimized application and good coverage, you should consider using a sprayer. It creates a good bonding even for any kind of paint to be applied thereafter.
For automotive use, you can apply it on doors, tailgates, or rockers. Thinning it to 20 % will still be ideal for smooth flow while still offering maximized protection on your surface.
It also does an amazing job of reducing noise and making your car soundproof. It is important to also note that there is no asbestos contained in the undercoat paint.
It is affordable and very economical and gives you back the value for your money.
Pros:</p>
<ul>
<li>Reduces noise</li>
<li>Affordable</li>
<li>Enhances proper bonding</li>
<li>Easy to apply</li>
<li>Good coverage</li>
</ul>
<p>Cons:</p>
<ul>
<li>Takes long to dry</li>
</ul>
<blockquote>
<p>See Also:
Sander for Wood Trim</p></blockquote>
<h3 id="6-3m-undercoating-paint-08881-16-oz"><a href="https://www.amazon.com/dp/B0002NUO5Q/?tag=p-policy-20">6. 3M Undercoating Paint (08881), 16 oz.</a><a hidden class="anchor" aria-hidden="true" href="#6-3m-undercoating-paint-08881-16-oz">¶</a></h3>
<p>Finding good paint for your car is not an easy task but I can recommend you try this one out.it will create a rubberized surface that is ready for your next application.</p>
<p>You will find it helpful especially if the surface you wish to apply is prone to rust. This paint is mostly preferred for the inner parts of the vehicle as compared to the outside part.
This aerosol paint is formulated in 2 forms to be either paintable or non-paintable and you can use it to hide damage marks in your car.
It also comes with a sound dampening quality that helps to reduce the noise on the road.
The aerosol design makes it easy to apply with just spraying and you are good to go.
Pros:</p>
<ul>
<li>It is affordable</li>
<li>Protects surface from rust</li>
<li>Easy to apply</li>
<li>Has sound dampening quality</li>
<li>Provides smooth texture</li>
</ul>
<p>Cons:</p>
<ul>
<li>Fades very fast</li>
<li>Suitable for undercarriage cars</li>
</ul>
<blockquote>
<p>See Also:
<a href="https://pestpolicy.com/best-paint-roller-for-smooth-finish/">Paint Roller for Smooth Finish</a></p></blockquote>
<h3 id="7-zinsser-stain-primer-3554"><a href="https://www.amazon.com/dp/B0015OCRAQ/?tag=p-policy-20">7. Zinsser Stain Primer (3554)</a><a hidden class="anchor" aria-hidden="true" href="#7-zinsser-stain-primer-3554">¶</a></h3>
<p>Painting a previously painted surface can sometimes prove to be difficult, that why you should get yourself this primer.</p>
<p>As a primer, it provides a good undercoat for all kinds of paint that you may apply thereafter. It creates a surface that you can easily do sanding in case you want to do the painting.
It will provide excellent hide especially in the dark colors and give you the opportunity to apply any color of your choice. Equally, you can use it as a good sealer for exterior wood and also use it to stop bleeding
I also like its fast drying ability that makes you complete your project very fast in 35 minutes the surface is already dry to touch but if you intend to do a recoat, it is recommended after 2 hours.
Lastly as sealer, it perfectly blocks smoke, water and a nicotine stains from the surface and you can tint the surface to all kind of shades.
Pros:</p>
<ul>
<li>Excellent adhesion</li>
<li>Versatile</li>
<li>Dries fast</li>
<li>Stops bleeding</li>
<li>For interior and exteriors surfaces</li>
</ul>
<p>Cons:</p>
<ul>
<li>Customer have expressed issues with pricing</li>
</ul>
<blockquote>
<p>See Also:
Telescoping Ladders</p></blockquote>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>I hope you have had a good time going through the listed best undercoat paints. I also hope you were able to select from among the list.
If not I would like to recommend you take POR-15 45404 Rust Preventive Paint, 1 quart. It has good features, a higher rating and positive reviews too.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-ultrasonic-pest-repellers/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Ultrasonic Pest Repellers</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-usb-bluetooth-adapter-for-windows-10/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Usb Bluetooth Adapter for Windows 10</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
