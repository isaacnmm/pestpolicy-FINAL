<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Pre Emergent Herbicide | Pest Policy</title>
<meta name="keywords" content="
   lawn-care, herbicide, line">


<meta name="description" content="A pristine, weed-free lawn is the envy of many homeowners. While post-emergent herbicides tackle weeds that have already sprouted, the truly proactive stra...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/pre-emergent-herbicide/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/pre-emergent-herbicide/">

 
<meta name="twitter:title" content="Pre Emergent Herbicide | Pest Policy" />


<meta name="twitter:description" content="A pristine, weed-free lawn is the envy of many homeowners. While post-emergent herbicides tackle weeds that have already sprouted, the truly proactive stra..." />
<meta property="og:title" content="Pre Emergent Herbicide | Pest Policy" />
<meta property="og:description" content="A pristine, weed-free lawn is the envy of many homeowners. While post-emergent herbicides tackle weeds that have already sprouted, the truly proactive stra..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/pre-emergent-herbicide/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Pre Emergent Herbicide",
      "item": "http://localhost:1313/posts/pre-emergent-herbicide/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Pre Emergent Herbicide | Pest Policy",
  "name": "Pre Emergent Herbicide",
  "description": "A pristine, weed-free lawn is the envy of many homeowners. While post-emergent herbicides tackle weeds that have already sprouted, the truly proactive stra...",
  "keywords": [
    "lawn-care", "herbicide", "line"
  ],
  "wordCount" : "1388",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/pre-emergent-herbicide/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Pre Emergent Herbicide</h1>
    <div class="post-description">A pristine, weed-free lawn is the envy of many homeowners. While post-emergent herbicides tackle weeds that have already sprouted, the truly proactive stra...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/lawn-care/">Lawn-Care</a><a href="http://localhost:1313/tags/herbicide/">Herbicide</a><a href="http://localhost:1313/tags/line/">Line</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>A pristine, weed-free lawn is the envy of many homeowners. While post-emergent herbicides tackle weeds that have already sprouted, the truly proactive strategy for maintaining a clear turf involves an invisible shield: the pre-emergent herbicide. Often misunderstood or overlooked, pre-emergents are a cornerstone of effective weed management, preventing unwanted plants from ever seeing the light of day. They work by creating a chemical barrier in the soil that inhibits the germination of weed seeds, thereby stopping problems before they even begin.</p>
<p>Unlike their post-emergent counterparts, pre-emergent herbicides don&rsquo;t kill existing weeds. Instead, they are a powerful preventative measure, particularly effective against common annual weeds like crabgrass, foxtail, and goosegrass. Mastering the application of pre-emergents requires understanding how they function, precisely when to apply them for maximum efficacy, and where to acquire the right product for your specific lawn and climate. This guide will demystify pre-emergent herbicides, offering practical advice to help you implement this vital step in your lawn care regimen and cultivate a healthier, more beautiful turf.</p>
<h2 id="how-pre-emergent-weed-killer-works">How Pre-emergent Weed Killer Works<a hidden class="anchor" aria-hidden="true" href="#how-pre-emergent-weed-killer-works">¶</a></h2>
<p>Pre-emergent herbicides function by forming a chemical barrier in the top layer of the soil that prevents germinating weed seeds from establishing. It&rsquo;s crucial to understand that these herbicides do <em>not</em> kill weed seeds; rather, they disrupt the cellular division process (mitosis) in the root or shoot of the seedling as it attempts to sprout.</p>
<p>Here&rsquo;s a breakdown of the process:</p>
<ol>
<li><strong>Application:</strong> The pre-emergent is applied to the lawn, either as granules or a liquid spray. It needs to reach the soil surface.</li>
<li><strong>Activation:</strong> For the herbicide to form its barrier and become active, it typically needs to be watered in by rain or irrigation. This moves the chemical into the top inch or two of the soil.</li>
<li><strong>Barrier Formation:</strong> Once activated, the herbicide creates a shallow, protective zone in the soil.</li>
<li><strong>Inhibition of Germination:</strong> As weed seeds in the soil begin to germinate, their tiny roots or shoots encounter this chemical barrier. The active ingredients in the pre-emergent disrupt the delicate cellular processes required for the seedling to grow.</li>
<li><strong>Seedling Death:</strong> Unable to develop properly, the germinating weed seedling dies shortly after sprouting, before it can emerge from the soil and become visible.</li>
<li><strong>No Impact on Established Plants:</strong> Importantly, pre-emergents are designed to affect only germinating seeds. They do not harm established turfgrass or other plants whose roots are already developed and beyond the shallow herbicide barrier.</li>
</ol>
<p>The effectiveness of the pre-emergent barrier typically lasts for several weeks to a few months, depending on the product and environmental conditions. It&rsquo;s not a permanent solution, but a temporary shield during peak weed germination periods.</p>
<h2 id="best-time-to-apply-pre-emergent-herbicide">Best Time to Apply Pre-Emergent Herbicide<a hidden class="anchor" aria-hidden="true" href="#best-time-to-apply-pre-emergent-herbicide">¶</a></h2>
<p>Timing is absolutely critical for the success of pre-emergent herbicides. Applying it too early or too late will significantly reduce its effectiveness. The goal is to apply it <em>before</em> the weed seeds you&rsquo;re targeting begin to germinate.</p>
<ol>
<li>
<p><strong>For Summer Annual Weeds (e.g., Crabgrass, Foxtail, Goosegrass):</strong></p>
<ul>
<li><strong>The Soil Temperature Rule:</strong> This is the most accurate indicator. Apply pre-emergent when soil temperatures consistently reach <strong>50-55�F (10-13�C)</strong> at a 2-4 inch depth for several consecutive days. These temperatures signal that summer annual weed seeds are about to germinate.</li>
<li><strong>Phenological Indicators:</strong> A common natural indicator for crabgrass germination is when <strong>forsythia shrubs are in full bloom</strong> or when <strong>dogwoods are beginning to bloom</strong>. These plants often bloom when soil temperatures are ideal for crabgrass.</li>
<li><strong>Geographic Timing:</strong>
<ul>
<li><strong>Southern Climates:</strong> Often late February to early March.</li>
<li><strong>Transition Zone/Mid-Atlantic:</strong> Late March to mid-April.</li>
<li><strong>Northern Climates:</strong> Mid-April to early May.</li>
</ul>
</li>
<li><strong>Split Applications:</strong> For lawns with heavy crabgrass pressure or very long growing seasons, a split application (half the recommended rate in early spring, and the second half 6-8 weeks later) can provide extended control.</li>
</ul>
</li>
<li>
<p><strong>For Winter Annual Weeds (e.g., Annual Bluegrass/Poa Annua, Chickweed, Henbit):</strong></p>
<ul>
<li><strong>Fall Application:</strong> Apply pre-emergent in <strong>late summer to early fall</strong> (late August to mid-September for many regions), when nighttime temperatures begin to consistently drop below 60�F (15�C). This is before winter annual weed seeds germinate.</li>
<li><strong>Soil Temperature Rule:</strong> When soil temperatures are consistently falling below 70�F (21�C).</li>
</ul>
</li>
</ol>
<p><strong>Important Considerations:</strong></p>
<ul>
<li><strong>Do NOT Apply Before Overseeding:</strong> Pre-emergents will prevent <em>all</em> seed germination, including desirable grass seed. If you plan to overseed or reseed your lawn, you must wait until the pre-emergent&rsquo;s residual activity has worn off (typically 6-12 weeks, check product label) or use a &ldquo;safe for seeding&rdquo; pre-emergent if available.</li>
<li><strong>Water In After Application:</strong> Always water in granular pre-emergents (and often liquid ones) after application, with about 0.5 inches of water, to move the herbicide into the soil and activate the barrier.</li>
</ul>
<h2 id="whenwhere-to-buy-it">When/Where to Buy It<a hidden class="anchor" aria-hidden="true" href="#whenwhere-to-buy-it">¶</a></h2>
<p>Pre-emergent herbicides are widely available, typically from late winter through early spring for spring applications, and late summer for fall applications.</p>
<ul>
<li><strong>Home Improvement Stores:</strong> Large retailers like Lowe&rsquo;s, Home Depot, and Ace Hardware stock a variety of granular and liquid pre-emergent products from major brands (e.g., Scotts, Lesco, Jonathan Green, Spectracide).</li>
<li><strong>Garden Centers and Nurseries:</strong> Local garden centers often carry professional-grade products or brands tailored to regional conditions, and their staff can offer expert advice.</li>
<li><strong>Agricultural/Farm Supply Stores:</strong> Stores like Tractor Supply Co. may carry larger quantities or different formulations suitable for larger properties.</li>
<li><strong>Online Retailers:</strong> Websites like Amazon, DoMyOwn.com, and other specialized lawn care sites offer a vast selection, often at competitive prices, with detailed product information and reviews.</li>
<li><strong>Lawn Care Professionals:</strong> If you use a professional lawn care service, their treatments will typically include pre-emergent applications at the optimal times.</li>
</ul>
<p>When buying, pay attention to:</p>
<ul>
<li><strong>Active Ingredient:</strong> Common active ingredients include Prodiamine, Pendimethalin, Dithiopyr. Prodiamine often offers longer residual control.</li>
<li><strong>Type of Weed Targeted:</strong> Ensure the product is effective against the weeds you want to control (e.g., &ldquo;Crabgrass Preventer&rdquo;).</li>
<li><strong>Formulation:</strong> Granular (applied with a spreader) or liquid (mixed with water and sprayed). Granular is often easier for homeowners.</li>
<li><strong>Product Coverage:</strong> Check how much area a bag or bottle will cover to match your lawn size.</li>
<li><strong>Read the Label!</strong> Always, always, always read the entire product label before purchase and application.</li>
</ul>
<h2 id="factors-influencing-pre-emergent-effectiveness">Factors Influencing Pre-Emergent Effectiveness<a hidden class="anchor" aria-hidden="true" href="#factors-influencing-pre-emergent-effectiveness">¶</a></h2>
<p>Beyond timing, several factors can influence how well your pre-emergent works:</p>
<ol>
<li><strong>Uniform Application:</strong> Uneven application will lead to uneven results, with some areas susceptible to weeds. Use a properly calibrated spreader and make sure your passes overlap correctly.</li>
<li><strong>Watering After Application:</strong> As mentioned, water is crucial for activating the herbicide and moving it into the soil. Without sufficient irrigation or rainfall shortly after application, the barrier won&rsquo;t form correctly.</li>
<li><strong>Soil Disturbance:</strong> Once the pre-emergent barrier is established, disturbing the soil (e.g., heavy raking, aerating, digging) can break the barrier, allowing weed seeds to germinate in those disturbed areas. If you must aerate, do it <em>before</em> applying pre-emergent.</li>
<li><strong>Thatch Layer:</strong> A thick thatch layer (over 0.5 inches) can absorb the pre-emergent, preventing it from reaching the soil surface where it needs to form its barrier. Dethatch if necessary <em>before</em> applying pre-emergent.</li>
<li><strong>Product Longevity:</strong> Different active ingredients have different residual periods. Prodiamine generally lasts longer (up to 4-5 months) than some other chemicals (e.g., Pendimethalin, which might be 2-3 months). Choose a product that offers sufficient coverage for your weed season.</li>
<li><strong>Rainfall/Irrigation Amount:</strong> Excessive rainfall or irrigation can sometimes dilute or wash away the pre-emergent barrier, especially on sloped areas or in poorly draining soils, reducing its effectiveness over time.</li>
<li><strong>Weed Species:</strong> Pre-emergents are highly effective against annual weeds, but generally not against perennial weeds (like dandelions or clover that sprout from existing root systems) or sedges. You&rsquo;ll need different strategies for those.</li>
</ol>
<h2 id="final-thoughts-on-pre-emergent-herbicides">Final Thoughts on Pre-Emergent Herbicides<a hidden class="anchor" aria-hidden="true" href="#final-thoughts-on-pre-emergent-herbicides">¶</a></h2>
<p>Pre-emergent herbicides are an indispensable tool in the pursuit of a healthy, weed-free lawn. By preventing weeds from germinating in the first place, they drastically reduce the need for reactive post-emergent spraying and the labor of manual weeding. This proactive approach not only saves you time and effort but also contributes to a stronger, more resilient turf that can better resist environmental stresses and disease.</p>
<p>The key to unlocking the full power of pre-emergents lies in precise timing, accurate application, and an understanding of the factors that influence their efficacy. Pay close attention to soil temperatures and phenological indicators, and always prioritize reading and following product labels. When used correctly as part of a comprehensive lawn care program that includes proper mowing, watering, and fertilization, pre-emergent herbicides act as your invisible shield, laying the groundwork for a truly beautiful and low-maintenance lawn.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/planting-indoor-container-trees/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Planting Indoor Container Trees</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/prevent-paint-overspray/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Prevent Paint Overspray</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
