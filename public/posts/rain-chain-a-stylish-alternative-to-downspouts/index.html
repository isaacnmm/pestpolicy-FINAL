<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Rain Chain a Stylish Alternative to Downspouts | Pest Policy</title>
<meta name="keywords" content="
   gutters, rain, chain">


<meta name="description" content="For centuries, downspouts have served a purely utilitarian purpose: directing water from gutters away from a home&#39;s foundation. While effective, their ofte...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/rain-chain-a-stylish-alternative-to-downspouts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/rain-chain-a-stylish-alternative-to-downspouts/">

 
<meta name="twitter:title" content="Rain Chain a Stylish Alternative to Downspouts | Pest Policy" />


<meta name="twitter:description" content="For centuries, downspouts have served a purely utilitarian purpose: directing water from gutters away from a home&#39;s foundation. While effective, their ofte..." />
<meta property="og:title" content="Rain Chain a Stylish Alternative to Downspouts | Pest Policy" />
<meta property="og:description" content="For centuries, downspouts have served a purely utilitarian purpose: directing water from gutters away from a home&#39;s foundation. While effective, their ofte..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/rain-chain-a-stylish-alternative-to-downspouts/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Rain Chain a Stylish Alternative to Downspouts",
      "item": "http://localhost:1313/posts/rain-chain-a-stylish-alternative-to-downspouts/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Rain Chain a Stylish Alternative to Downspouts | Pest Policy",
  "name": "Rain Chain a Stylish Alternative to Downspouts",
  "description": "For centuries, downspouts have served a purely utilitarian purpose: directing water from gutters away from a home's foundation. While effective, their ofte...",
  "keywords": [
    "gutters", "rain", "chain"
  ],
  "wordCount" : "1387",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/rain-chain-a-stylish-alternative-to-downspouts/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Rain Chain a Stylish Alternative to Downspouts</h1>
    <div class="post-description">For centuries, downspouts have served a purely utilitarian purpose: directing water from gutters away from a home&#39;s foundation. While effective, their ofte...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/gutters/">Gutters</a><a href="http://localhost:1313/tags/rain/">Rain</a><a href="http://localhost:1313/tags/chain/">Chain</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>For centuries, downspouts have served a purely utilitarian purpose: directing water from <a href="/posts/how-to-install-rain-gutters/">gutters</a> away from a home&rsquo;s foundation. While effective, their often utilitarian appearance can sometimes detract from a home&rsquo;s carefully curated exterior. Enter the <strong>rain <a href="/posts/what-is-a-rain-chain/">chain</a></strong>, a beautiful and increasingly popular alternative that transforms a mundane drainage element into a captivating architectural feature and a soothing sensory experience.</p>
<p>Originating in Japan centuries ago, where they are known as <em>kusari doi</em>, rain chains guide rainwater gracefully from the roof to the ground, creating a visually appealing cascade and a gentle, rhythmic sound. They offer a unique blend of functionality and artistry, adding a touch of elegance, tranquility, and often, an unexpected focal point to a home&rsquo;s exterior.</p>
<p>Whether you&rsquo;re looking to enhance your home&rsquo;s curb appeal, embrace a more traditional or Zen aesthetic, or simply add a distinctive element to your garden, rain chains present a compelling alternative to conventional downspouts. This article will explore the different types of rain chains, their benefits, installation considerations, and how they can elevate your outdoor living space.</p>
<hr>
<h2 id="what-is-a-rain-chain">What is a Rain Chain?<a hidden class="anchor" aria-hidden="true" href="#what-is-a-rain-chain">¶</a></h2>
<p>A rain chain is essentially a series of metal cups or a continuous chain link that replaces a traditional downspout. It is suspended from a hole in the gutter and guides rainwater from the roof to the ground, often into a decorative basin, rain barrel, or drainage system. Instead of the enclosed, silent flow of a downspout, rain chains allow water to flow openly, creating a visible and audible display.</p>
<hr>
<h2 id="types-of-rain-chains">Types of Rain Chains<a hidden class="anchor" aria-hidden="true" href="#types-of-rain-chains">¶</a></h2>
<p>Rain chains come in a wide variety of designs, primarily falling into two main categories:</p>
<ol>
<li>
<p><strong>Cup Rain Chains:</strong></p>
<ul>
<li><strong>Description:</strong> These chains feature a series of interconnected cups (often shaped like tulips, bells, flutes, or custom designs) that catch and transfer water from one cup to the next as it descends.</li>
<li><strong>Pros:</strong>
<ul>
<li><strong>Excellent Water Flow:</strong> The cups are highly efficient at capturing and channeling water, minimizing splash compared to link chains, especially in heavy rainfall.</li>
<li><strong>Visually Appealing:</strong> The cascading water fills and overflows each cup, creating a delightful visual effect.</li>
<li><strong>Soothing Sound:</strong> The gentle trickle of water from cup to cup produces a calming, melodic sound.</li>
<li><strong>Less Splash:</strong> Generally control water better than link chains, reducing splash around the base.</li>
</ul>
</li>
<li><strong>Cons:</strong> Can be more expensive than simple link chains. May accumulate some debris in cups that needs occasional clearing.</li>
<li><strong>Best For:</strong> Homes in areas with moderate to heavy rainfall where minimizing splash is a priority, and a more controlled water flow is desired.</li>
</ul>
</li>
<li>
<p><strong>Link Rain Chains:</strong></p>
<ul>
<li><strong>Description:</strong> These are simpler in design, typically made of interconnected metal links, similar to a decorative chain. Water flows directly down the links, clinging to the surface tension of the metal.</li>
<li><strong>Pros:</strong>
<ul>
<li><strong>Aesthetic Simplicity:</strong> Offer a more minimalist or industrial look, often complementing modern or rustic designs.</li>
<li><strong>More Affordable:</strong> Generally less expensive than cup designs.</li>
<li><strong>Melodic Sound:</strong> Produce a more direct, tinkling sound as water trickles down the links.</li>
</ul>
</li>
<li><strong>Cons:</strong>
<ul>
<li><strong>More Splash:</strong> Tend to splash more water around the chain, especially during heavy downpours, which means more water closer to the foundation.</li>
<li><strong>Less Efficient Flow:</strong> Water may not adhere perfectly to the links in very heavy rain, leading to some runoff outside the chain.</li>
</ul>
</li>
<li><strong>Best For:</strong> Homes in areas with lighter rainfall, where a subtle visual and auditory effect is desired, or for a more minimalist aesthetic.</li>
</ul>
</li>
</ol>
<h3 id="materials">Materials<a hidden class="anchor" aria-hidden="true" href="#materials">¶</a></h3>
<p>Rain chains are most commonly made from:</p>
<ul>
<li><strong>Copper:</strong> The most popular choice for its classic beauty, durability, and the stunning patina it develops over time (from a shiny bronze to a verdigris green). Copper is naturally corrosion-resistant.</li>
<li><strong>Aluminum:</strong> Lighter and more affordable than copper, often available in various powder-coated finishes (black, bronze, silver) to match or contrast with home exteriors.</li>
<li><strong>Brass:</strong> Offers a warm, golden hue, similar to copper but can have a distinct aging process.</li>
<li><strong>Stainless Steel:</strong> Provides a sleek, modern, and highly durable option that resists rust and maintains its appearance.</li>
</ul>
<hr>
<h2 id="benefits-of-rain-chains">Benefits of Rain Chains<a hidden class="anchor" aria-hidden="true" href="#benefits-of-rain-chains">¶</a></h2>
<p>Choosing rain chains over traditional downspouts offers a variety of advantages:</p>
<ul>
<li><strong>Enhanced Curb Appeal:</strong> This is perhaps the most obvious benefit. Rain chains are inherently decorative and transform an otherwise utilitarian element into a focal point. They add a unique, artistic touch that elevates your home&rsquo;s exterior.</li>
<li><strong>Soothing Auditory Experience:</strong> The gentle sounds of cascading water create a tranquil and calming atmosphere, turning a rainy day into a meditative experience.</li>
<li><strong>Visual Interest:</strong> Watching the water flow down the chain is mesmerizing, providing a dynamic element to your garden or porch.</li>
<li><strong>Unique Design Element:</strong> They offer a distinctive alternative that sets your home apart from others in the neighborhood.</li>
<li><strong>Durability and Longevity:</strong> Especially when made from high-quality metals like copper or stainless steel, rain chains are very durable and can last for decades with minimal maintenance.</li>
<li><strong>Environmentally Friendly:</strong> When directing water into a rain barrel or permeable landscape feature, rain chains can contribute to sustainable rainwater harvesting.</li>
<li><strong>Easy Installation (DIY-Friendly):</strong> Most rain chains are relatively easy to install. They typically come with a hanging hook or a V-hook that fits directly into the gutter downspout hole.</li>
</ul>
<hr>
<h2 id="installation-of-rain-chains">Installation of Rain Chains<a hidden class="anchor" aria-hidden="true" href="#installation-of-rain-chains">¶</a></h2>
<p>Installing a rain chain is a relatively straightforward DIY project, but a few key considerations ensure optimal performance:</p>
<ol>
<li><strong>Gutter Outlet:</strong> The rain chain needs to hang directly from a gutter outlet. If you&rsquo;re replacing a downspout, you&rsquo;ll use that existing hole. For new installations, you&rsquo;ll need to cut a hole in the bottom of your gutter trough at the desired location.</li>
<li><strong>Mounting Hardware:</strong> Most rain chains come with a hanging hook or a V-hook adapter that fits directly into the gutter outlet. Ensure it&rsquo;s securely fastened and centered over the hole.</li>
<li><strong>Splash Mitigation at the Base:</strong> This is crucial for foundation protection. Simply letting water splash directly onto the ground near your foundation can lead to erosion and water damage.
<ul>
<li><strong>Decorative Basins:</strong> A popular choice is a beautiful stone, ceramic, or metal basin filled with river rocks. This catches the water, minimizes splash, and adds another aesthetic layer.</li>
<li><strong>Rain Barrels:</strong> Connect the rain chain to a rain barrel for effective rainwater harvesting. Ensure the barrel has an overflow mechanism.</li>
<li><strong>Drainage Systems:</strong> Direct the water into a hidden underground drainage pipe that carries water safely away from the foundation.</li>
<li><strong>Gravel Beds:</strong> A wide gravel bed can help absorb water and reduce splash, but may not be sufficient for very heavy rain.</li>
</ul>
</li>
<li><strong>Length Adjustment:</strong> Rain chains often come in standard lengths. You may need to adjust the length by removing or adding cups/links to ensure it reaches your desired base element and hangs taut without touching the ground.</li>
<li><strong>Wind Considerations:</strong> In very windy areas, especially with longer chains, some movement is inevitable. Ensure the mounting is secure. Some chains can be anchored at the bottom to reduce sway, though this can sometimes impede the visual flow of water.</li>
</ol>
<hr>
<h2 id="enhancing-rain-chain-functionality">Enhancing Rain Chain Functionality<a hidden class="anchor" aria-hidden="true" href="#enhancing-rain-chain-functionality">¶</a></h2>
<p>Beyond basic installation, consider these tips to maximize the effectiveness and beauty of your rain chains:</p>
<ul>
<li><strong>Strategic Placement:</strong> Install rain chains where they can be appreciated � near a patio, window, entryway, or garden bed.</li>
<li><strong>Multiple Chains:</strong> For longer gutter runs or larger homes, multiple rain chains can be installed, creating a rhythmic visual effect across the facade.</li>
<li><strong>Lighting:</strong> Uplighting a rain chain at night can create a dramatic and enchanting display as water cascades down, making it a focal point even after dark.</li>
<li><strong>Winter Considerations:</strong> In freezing climates, ice can build up on rain chains. While copper and sturdy chains generally handle this well, extremely heavy ice can pull on gutters. Consider detaching them or ensuring sufficient strength during heavy ice accumulation.</li>
<li><strong>Gutter Compatibility:</strong> Ensure your gutters are clean and pitched correctly to direct water efficiently to the rain chain&rsquo;s outlet.</li>
</ul>
<hr>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>Rain chains offer a delightful fusion of practicality and artistry, transforming the mundane task of water diversion into a captivating sensory experience. They provide a unique opportunity to infuse your home&rsquo;s exterior with elegance, tranquility, and a touch of individuality.</p>
<p>While traditional downspouts remain effective, rain chains present a compelling alternative for those seeking to enhance curb appeal, embrace a specific architectural aesthetic, or simply enjoy the soothing sights and sounds of falling rain. By carefully selecting the right style and material, and ensuring proper installation with effective ground drainage, rain chains can become a cherished feature of your home, turning every rain shower into a moment of beauty and serenity.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/raid-ant-roach-killer-insecticide-spray-review/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Raid Ant Roach Killer Insecticide Spray Review</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/raising-men-lawn-care/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Raising Men Lawn Care</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
