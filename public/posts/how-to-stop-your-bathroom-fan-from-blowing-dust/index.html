<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Stop Your Bathroom Fan from Blowing Dust | Pest Policy</title>
<meta name="keywords" content="
   home-maintenance, your, bathroom">


<meta name="description" content="A bathroom exhaust fan is designed to whisk away moisture, odors, and stale air, creating a healthier and more comfortable environment. However, if you&#39;ve ...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-stop-your-bathroom-fan-from-blowing-dust/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-stop-your-bathroom-fan-from-blowing-dust/">

 
<meta name="twitter:title" content="How to Stop Your Bathroom Fan from Blowing Dust | Pest Policy" />


<meta name="twitter:description" content="A bathroom exhaust fan is designed to whisk away moisture, odors, and stale air, creating a healthier and more comfortable environment. However, if you&#39;ve ..." />
<meta property="og:title" content="How to Stop Your Bathroom Fan from Blowing Dust | Pest Policy" />
<meta property="og:description" content="A bathroom exhaust fan is designed to whisk away moisture, odors, and stale air, creating a healthier and more comfortable environment. However, if you&#39;ve ..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-stop-your-bathroom-fan-from-blowing-dust/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Stop Your Bathroom Fan from Blowing Dust",
      "item": "http://localhost:1313/posts/how-to-stop-your-bathroom-fan-from-blowing-dust/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Stop Your Bathroom Fan from Blowing Dust | Pest Policy",
  "name": "How to Stop Your Bathroom Fan from Blowing Dust",
  "description": "A bathroom exhaust fan is designed to whisk away moisture, odors, and stale air, creating a healthier and more comfortable environment. However, if you've ...",
  "keywords": [
    "home-maintenance", "your", "bathroom"
  ],
  "wordCount" : "1406",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-stop-your-bathroom-fan-from-blowing-dust/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Stop Your Bathroom Fan from Blowing Dust</h1>
    <div class="post-description">A bathroom exhaust fan is designed to whisk away moisture, odors, and stale air, creating a healthier and more comfortable environment. However, if you&#39;ve ...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/home-maintenance/">Home-Maintenance</a><a href="http://localhost:1313/tags/your/">Your</a><a href="http://localhost:1313/tags/bathroom/">Bathroom</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>A <a href="/posts/how-to-maintain-a-bathroom-vent-fan/">bathroom</a> exhaust fan is designed to whisk away moisture, odors, and stale air, creating a healthier and more comfortable environment. However, if you&rsquo;ve ever turned on <a href="/posts/growing-chrysanthemums-in-your-garden/">your</a> fan only to be greeted by a shower of dust, lint, or debris, it&rsquo;s clear your ventilation system is doing more harm than good. A fan blowing dust indicates a buildup within the fan housing, grille, or, more commonly, the ductwork itself. This not only defeats the purpose of ventilation but also reintroduces allergens and dirt into your bathroom.</p>
<p>Learning <strong>how to stop your bathroom fan from blowing dust</strong> is an essential maintenance task that improves indoor air quality, prolongs the life of your fan, and ensures it performs its intended function effectively. This guide will walk you through identifying the various sources of dust, provide detailed steps for cleaning your fan and its ductwork, and offer preventative measures to keep your bathroom air clean and fresh.</p>
<hr>
<h2 id="identifying-the-source-of-dust">Identifying the Source of Dust<a hidden class="anchor" aria-hidden="true" href="#identifying-the-source-of-dust">¶</a></h2>
<p>Before you can tackle the problem, it&rsquo;s crucial to understand where the dust is coming from. Dust accumulation can occur in several parts of the exhaust fan system:</p>
<ol>
<li><strong>Fan Grille and Housing:</strong> The most common culprit. Dust, lint, and pet hair are drawn into the fan and can settle on the visible grille, fan blades, and inside the immediate housing. When the fan turns on, these loose particles are blown back into the room.</li>
<li><strong>Fan Motor and Blower Wheel:</strong> The internal components, particularly the squirrel cage blower wheel, can become heavily caked with dust over time. This not only blows dust but also reduces the fan&rsquo;s efficiency and increases noise.</li>
<li><strong>Ductwork:</strong> This is a significant, often overlooked source. The exhaust fan pulls air through the ductwork to the outside. Over years, dust, lint (especially from towels and clothing), and even insulation particles (if the duct is improperly sealed or uninsulated in the attic) can accumulate inside the duct. When the fan operates, it can dislodge and blow these particles back into the bathroom.</li>
<li><strong>Improper Sealing/Backdraft Damper Issues:</strong>
<ul>
<li><strong>Leaky Ductwork:</strong> If the ductwork running through your attic or wall cavity has unsealed joints, it can draw in dust, insulation fibers, or outdoor debris, which then gets blown into your bathroom.</li>
<li><strong>Faulty Backdraft Damper:</strong> The damper (a small flap designed to prevent outside air from entering when the fan is off) can get stuck open or become covered in dust. If it&rsquo;s stuck open, dust and cold/hot air from the attic or outside can fall into the bathroom.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="cleaning-the-ductwork-and-fan-components">Cleaning the Ductwork (and Fan Components)<a hidden class="anchor" aria-hidden="true" href="#cleaning-the-ductwork-and-fan-components">¶</a></h2>
<p>Cleaning your fan system can be a dusty job, so prepare accordingly.</p>
<p><strong>Safety First:</strong></p>
<ul>
<li><strong>Turn off Power:</strong> Go to your home&rsquo;s electrical panel and switch off the circuit breaker that controls your bathroom fan. Confirm no power with a voltage tester.</li>
<li><strong>Wear PPE:</strong> Use safety glasses, a dust mask (or respirator for heavy dust), and gloves. Lay down a drop cloth or old towels to protect your bathroom floor and fixtures.</li>
<li><strong>Ladder Safety:</strong> Use a sturdy step ladder or extension ladder.</li>
</ul>
<p><strong>Supplies You&rsquo;ll Need:</strong></p>
<ul>
<li>Screwdriver (Phillips and/or flathead)</li>
<li>Vacuum cleaner with hose attachments (crevice tool, brush attachment)</li>
<li>Stiff brush or old toothbrush</li>
<li>Microfiber cloths or rags</li>
<li>Bucket of warm water with mild dish soap (optional, for grille/housing)</li>
<li>HVAC-grade foil tape (if resealing ducts)</li>
</ul>
<p><strong>Step-by-Step Cleaning Process:</strong></p>
<ol>
<li>
<p><strong>Remove the Fan Grille:</strong></p>
<ul>
<li>Gently pull down on the grille. Most are held by spring clips that simply unclip. Some might have small screws.</li>
<li>Take the grille to a sink and wash it thoroughly with warm, soapy water. Use a brush to scrub away caked-on dust. Rinse and let it air dry completely.</li>
</ul>
</li>
<li>
<p><strong>Clean the Fan Housing and Blades:</strong></p>
<ul>
<li>With the grille removed, you&rsquo;ll see the fan motor and possibly the blower wheel (squirrel cage).</li>
<li><strong>For Surface Dust:</strong> Use your vacuum cleaner with a brush attachment to carefully vacuum all visible dust and lint from inside the fan housing, the motor, and around the blower wheel.</li>
<li><strong>For Stubborn Buildup (Blower Wheel):</strong> If the blower wheel is heavily caked, it might need more thorough cleaning. Some models allow easy removal of the motor/blower assembly (check your fan&rsquo;s manual). If removable, you can use a stiff brush or old toothbrush to dislodge stubborn dust from the fins of the blower wheel, then vacuum again. For non-removable units, use compressed air (while wearing a mask and protecting surroundings) to blow dust out, followed by vacuuming. <em>Be gentle with fan blades, as they can be delicate.</em></li>
</ul>
</li>
<li>
<p><strong>Clean the Ductwork (as much as possible):</strong></p>
<ul>
<li>This is the most challenging part, as it may require attic access.</li>
<li><strong>Access Point:</strong> From the bathroom, extend your vacuum hose as far as it can go into the ductwork. Use a crevice tool to scrape and pull out loose debris.</li>
<li><strong>Attic Access (Recommended for Thorough Cleaning):</strong>
<ul>
<li>Go into your attic (again, safety first!). Locate the fan&rsquo;s ductwork.</li>
<li>Disconnect the ductwork from the fan&rsquo;s exhaust port and/or the external vent cap (if easy to do).</li>
<li>Use your vacuum cleaner&rsquo;s hose to clean the inside of the duct from both ends. For longer runs, you might need duct cleaning brushes that attach to a drill or a professional duct cleaning service.</li>
<li><strong>Inspect for Leaks:</strong> While in the attic, inspect all duct joints. If you see gaps or old, peeling tape, reseal them thoroughly with HVAC-grade foil tape.</li>
<li><strong>Check Backdraft Damper:</strong> Ensure the damper (a small plastic or metal flap) on the fan&rsquo;s exhaust port and/or the external vent cap can open and close freely. Clean any dust blocking it. If it&rsquo;s broken, it needs replacement.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Reassemble and Test:</strong></p>
<ul>
<li>Once all components are clean and dry, reattach the ductwork (if disconnected) and secure the connections with duct clamps and foil tape.</li>
<li>Reinstall the fan motor/blower assembly (if removed).</li>
<li>Reattach the cleaned fan grille.</li>
<li>Turn the power back on at the circuit breaker.</li>
<li>Test the fan. It should run more quietly and, crucially, without blowing dust.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="preventing-future-dust-buildup">Preventing Future Dust Buildup<a hidden class="anchor" aria-hidden="true" href="#preventing-future-dust-buildup">¶</a></h2>
<p>Regular maintenance and proper installation are key to keeping your fan dust-free.</p>
<ol>
<li><strong>Regular Cleaning Schedule:</strong> Make fan grille and housing cleaning a part of your regular bathroom cleaning routine (e.g., monthly). A quick vacuum and wipe-down will prevent major buildup.</li>
<li><strong>Proper Ductwork Installation:</strong>
<ul>
<li><strong>Use Proper Duct Material:</strong> Ensure you have smooth, rigid metal ducting or insulated flexible ducting (smooth interior surface). Avoid non-insulated flexible plastic ducting, which tends to collect more dust.</li>
<li><strong>Airtight Seals:</strong> Ensure all duct joints and connections are sealed with HVAC-grade foil tape to prevent drawing in dust from unconditioned spaces (like the attic).</li>
<li><strong>Insulate Ducts:</strong> If your duct runs through an unconditioned attic, it <em>must</em> be insulated. Uninsulated ducts can lead to condensation, which mixes with dust to create sticky, hard-to-remove grime.</li>
<li><strong>Short and Straight Runs:</strong> Minimize duct length and bends to reduce areas where dust can accumulate and to maximize airflow.</li>
</ul>
</li>
<li><strong>Maintain Backdraft Dampers:</strong> Periodically check that both the damper at the fan&rsquo;s exhaust and the external vent cap are functioning properly and aren&rsquo;t stuck open.</li>
<li><strong>Control Indoor Dust:</strong> While not directly fan-related, reducing overall dust in your home through regular cleaning, vacuuming with a HEPA filter, and changing HVAC filters will naturally reduce the dust drawn into your bathroom fan.</li>
<li><strong>Consider a High-Quality Fan:</strong> Newer, higher-quality fans often have better-designed blower wheels that are less prone to heavy dust buildup and may operate more quietly, encouraging regular use.</li>
</ol>
<hr>
<h2 id="professional-duct-cleaning-services">Professional Duct Cleaning Services<a hidden class="anchor" aria-hidden="true" href="#professional-duct-cleaning-services">¶</a></h2>
<p>If your ductwork is extensive, very long, difficult to access, or severely clogged, or if you suspect mold growth within the ducts (due to chronic moisture issues), it might be worth considering a professional duct cleaning service. They have specialized equipment (powerful vacuums, rotating brushes) that can thoroughly clean entire duct runs. Discuss your specific concerns about bathroom fan ducts with them.</p>
<hr>
<h2 id="is-cleaning-your-bathroom-vent-ductwork-worth-it">Is Cleaning Your Bathroom Vent Ductwork Worth It?<a hidden class="anchor" aria-hidden="true" href="#is-cleaning-your-bathroom-vent-ductwork-worth-it">¶</a></h2>
<p>Absolutely. The effort invested in cleaning and properly maintaining your bathroom vent fan and its ductwork offers several significant benefits:</p>
<ul>
<li><strong>Improved Air Quality:</strong> Eliminates the recirculation of dust, allergens, and mold spores.</li>
<li><strong>Enhanced Fan Performance:</strong> A clean fan moves air more efficiently, better controlling humidity and odors.</li>
<li><strong>Energy Savings:</strong> An unburdened fan uses less energy and performs its job faster.</li>
<li><strong>Prevents Damage:</strong> Reduces the risk of moisture-related damage (mold, rot, peeling paint) in your bathroom and attic.</li>
<li><strong>Extends Fan Lifespan:</strong> Regular cleaning reduces strain on the motor.</li>
</ul>
<p>By regularly maintaining your bathroom fan and its ventilation system, you ensure it functions as an effective tool for a healthier, cleaner, and more durable bathroom environment.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-stop-geese-from-pooping-in-yard/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Stop Geese from Pooping in Yard</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-store-tender-bulbs-over-the-winter/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Store Tender Bulbs Over the Winter</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
