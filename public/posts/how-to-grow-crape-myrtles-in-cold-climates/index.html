<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Grow Crape Myrtles in Cold Climates | Pest Policy</title>
<meta name="keywords" content="
   guides, crape, myrtle">


<meta name="description" content="Crape myrtles (*Lagerstroemia* species), with their vibrant, long-lasting summer blooms, attractive peeling bark, and often striking fall foliage, are a qu...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-grow-crape-myrtles-in-cold-climates/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-grow-crape-myrtles-in-cold-climates/">

 
<meta name="twitter:title" content="How to Grow Crape Myrtles in Cold Climates | Pest Policy" />


<meta name="twitter:description" content="Crape myrtles (*Lagerstroemia* species), with their vibrant, long-lasting summer blooms, attractive peeling bark, and often striking fall foliage, are a qu..." />
<meta property="og:title" content="How to Grow Crape Myrtles in Cold Climates | Pest Policy" />
<meta property="og:description" content="Crape myrtles (*Lagerstroemia* species), with their vibrant, long-lasting summer blooms, attractive peeling bark, and often striking fall foliage, are a qu..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-grow-crape-myrtles-in-cold-climates/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Grow Crape Myrtles in Cold Climates",
      "item": "http://localhost:1313/posts/how-to-grow-crape-myrtles-in-cold-climates/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Grow Crape Myrtles in Cold Climates | Pest Policy",
  "name": "How to Grow Crape Myrtles in Cold Climates",
  "description": "Crape myrtles (*Lagerstroemia* species), with their vibrant, long-lasting summer blooms, attractive peeling bark, and often striking fall foliage, are a qu...",
  "keywords": [
    "guides", "crape", "myrtle"
  ],
  "wordCount" : "1546",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-grow-crape-myrtles-in-cold-climates/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Grow Crape Myrtles in Cold Climates</h1>
    <div class="post-description">Crape myrtles (*Lagerstroemia* species), with their vibrant, long-lasting summer blooms, attractive peeling bark, and often striking fall foliage, are a qu...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guides/">Guides</a><a href="http://localhost:1313/tags/crape/">Crape</a><a href="http://localhost:1313/tags/myrtle/">Myrtle</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Crape myrtles (<em>Lagerstroemia</em> species), with their vibrant, long-lasting summer blooms, attractive peeling bark, and often striking fall foliage, are a quintessential staple of Southern landscapes. Their beauty is undeniable, but traditionally, their cold hardiness limited their range to USDA Zones 7 and warmer. However, thanks to horticultural advancements and the development of new cold-hardy varieties, gardeners in colder climates (Zones 5 and 6) can now enjoy the splendor of crape myrtles, albeit with some strategic planning and winter protection.</p>
<p>Growing crape myrtles in colder regions often means treating them less like traditional trees and more like herbaceous perennials, where the top growth may die back to the ground in winter, only to re-sprout vigorously from the roots in spring. While this changes their form, it doesn&rsquo;t diminish their ability to produce a stunning display of summer flowers. This guide will provide comprehensive strategies for successfully cultivating crape myrtles in colder climates, from selecting the right variety to essential planting techniques and crucial winter care.</p>
<hr>
<h2 id="understanding-cold-hardiness-and-crape-myrtles">Understanding Cold Hardiness and Crape Myrtles<a hidden class="anchor" aria-hidden="true" href="#understanding-cold-hardiness-and-crape-myrtles">¶</a></h2>
<p>Crape myrtles are deciduous shrubs or small trees that thrive in heat and full sun. Their cold hardiness varies significantly by species and cultivar.</p>
<ul>
<li><strong>USDA Hardiness Zones:</strong> Most traditional crape myrtles are hardy to Zone 7 (minimum temperatures of $0^\circ \text{F}$ to $10^\circ \text{F}$ or $-18^\circ \text{C}$ to $-12^\circ \text{C}$).</li>
<li><strong>Cold-Hardy Cultivars:</strong> Significant breeding efforts, particularly involving <em>Lagerstroemia fauriei</em> (which has excellent cold tolerance and disease resistance), have resulted in cultivars hardy to Zone 6 (minimum temperatures of $-10^\circ \text{F}$ to $0^\circ \text{F}$ or $-23^\circ \text{C}$ to $-18^\circ \text{C}$) and even some reported success in sheltered Zone 5 locations (minimum temperatures of $-20^\circ \text{F}$ to $-10^\circ \text{F}$ or $-29^\circ \text{C}$ to $-23^\circ \text{C}$).</li>
<li><strong>&ldquo;Dieback&rdquo; Phenomenon:</strong> In Zones 5 and 6, even cold-hardy varieties often experience &ldquo;<strong>dieback</strong>,&rdquo; where the branches above ground are killed by severe winter temperatures. However, the root system survives and sends up new shoots in spring, behaving like a herbaceous perennial rather than a woody shrub or tree. These new shoots will still produce flowers in summer.</li>
</ul>
<hr>
<h2 id="selecting-cold-hardy-varieties">Selecting Cold-Hardy Varieties<a hidden class="anchor" aria-hidden="true" href="#selecting-cold-hardy-varieties">¶</a></h2>
<p>Choosing the right cultivar is the single most important step for success in colder climates. Look for varieties specifically bred for improved cold tolerance.</p>
<p><strong>Recommended Cold-Hardy Series and Cultivars (Often rated to Zone 6, some pushing Zone 5):</strong></p>
<ul>
<li><strong>&lsquo;Acoma&rsquo;:</strong> White flowers, semi-dwarf, good mildew resistance.</li>
<li><strong>&lsquo;Caddo&rsquo;:</strong> Pink flowers, compact, excellent mildew resistance.</li>
<li><strong>&lsquo;Hopi&rsquo;:</strong> Medium pink flowers, semi-dwarf, good mildew resistance.</li>
<li><strong>&lsquo;Tuscarora&rsquo;:</strong> Coral-pink flowers, large, vigorous grower, good mildew resistance.</li>
<li><strong>&lsquo;Sioux&rsquo;:</strong> Medium pink flowers, upright, good mildew resistance.</li>
<li><strong>&lsquo;Tonto&rsquo;:</strong> Fuchsia-red flowers, semi-dwarf, excellent mildew resistance.</li>
<li><strong>&lsquo;Zuni&rsquo;:</strong> Lavender flowers, compact, good mildew resistance.</li>
<li><strong>Black Diamond� Series:</strong> (e.g., &lsquo;Crimson Red&rsquo;, &lsquo;Purely Purple&rsquo;, &lsquo;Mystic Magenta&rsquo;) Known for dark foliage and vibrant flowers. Some are rated to Zone 6, with reports of Zone 5 survival, often as dieback perennials.</li>
<li><strong>First Editions� Series:</strong> (e.g., &lsquo;Bellini&rsquo; series for dwarfs, &lsquo;Ruffled Red Magic&rsquo;, &lsquo;Plum Magic&rsquo;) Several varieties in this series offer enhanced cold hardiness.</li>
<li><strong>Enduring Summer� Series:</strong> (e.g., &lsquo;Red&rsquo;, &lsquo;Pink&rsquo;) Compact varieties, often hardy to Zone 6.</li>
</ul>
<p>When purchasing, always check the plant tag for its specific USDA Hardiness Zone rating.</p>
<hr>
<h2 id="site-selection-and-planting">Site Selection and Planting<a hidden class="anchor" aria-hidden="true" href="#site-selection-and-planting">¶</a></h2>
<p>Even with a cold-hardy variety, optimal site selection significantly improves survival chances.</p>
<ol>
<li><strong>Full Sun and Heat:</strong> Crape myrtles need at least 6-8 hours of direct sunlight per day, especially in colder climates, to ensure robust growth and abundant flowering. They thrive in heat.</li>
<li><strong>Sheltered Location:</strong> Plant in a spot that offers some protection from harsh winter winds, such as against a south- or west-facing wall or fence. This creates a warmer &ldquo;microclimate.&rdquo;</li>
<li><strong>Well-Drained Soil:</strong> Crape myrtles are susceptible to root rot in poorly drained, waterlogged soil. Ensure your soil drains well. Amend heavy clay soils with organic matter (compost, well-rotted manure) to improve drainage and aeration.</li>
<li><strong>Planting Time:</strong>
<ul>
<li><strong>Spring Planting is Best:</strong> Plant in spring after all danger of frost has passed and the soil has warmed up. This gives the plant the entire growing season to establish a strong root system before winter.</li>
<li><strong>Avoid Fall Planting:</strong> Fall planting in cold climates does not allow enough time for roots to establish before winter, significantly increasing the risk of winter kill.</li>
</ul>
</li>
<li><strong>Planting Process:</strong>
<ul>
<li>Dig a hole twice as wide as the root ball and slightly shallower than the root ball&rsquo;s height.</li>
<li>Set the plant so the top of the root ball is slightly above or even with the surrounding soil line.</li>
<li>Backfill with native soil, gently tamping to remove air pockets.</li>
<li>Water thoroughly.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="essential-winter-care-for-cold-climates">Essential Winter Care for Cold Climates<a hidden class="anchor" aria-hidden="true" href="#essential-winter-care-for-cold-climates">¶</a></h2>
<p>This is where the extra effort pays off, particularly for young plants or those at the edge of their hardiness zone.</p>
<ol>
<li><strong>Watering in Fall:</strong> Continue to water regularly into late fall until the ground freezes. A well-hydrated plant is more resilient to winter stress.</li>
<li><strong>Mulching (Crucial):</strong>
<ul>
<li>Apply a thick layer (10-15 cm or 4-6 inches) of <strong>organic mulch</strong> (shredded bark, wood chips, straw, pine needles) around the base of the plant in late fall, after the first hard frost but before the ground freezes solid.</li>
<li><strong>Purpose:</strong> This insulates the root zone, preventing extreme temperature fluctuations and protecting the crown (where new growth emerges from the roots) from deep freezes.</li>
<li><strong>Application:</strong> Keep the mulch a few inches away from the main trunk(s) to prevent moisture buildup and potential rot or pest issues.</li>
</ul>
</li>
<li><strong>Protecting Young Plants:</strong>
<ul>
<li><strong>Burlap Wrap:</strong> For the first 2-3 winters, consider wrapping the entire plant (or at least the main stems) with burlap. Create a cage around the plant with stakes, then wrap it with burlap, filling the void with straw or shredded leaves for extra insulation.</li>
<li><strong>Tree Guards:</strong> Use plastic tree guards around the lower trunk to protect against rodent damage and frost cracks.</li>
<li><strong>Anti-Desiccant Spray:</strong> In extremely windy or dry winter conditions, an anti-desiccant spray can help reduce moisture loss from stems, though this is less critical for deciduous plants.</li>
</ul>
</li>
<li><strong>Avoid Late-Season Fertilization:</strong> Do not fertilize crape myrtles in late summer or fall, as this encourages tender new growth that will be highly susceptible to frost damage.</li>
<li><strong>Patience is Key:</strong> If the top growth dies back, do not give up on the plant too early in spring. Crape myrtles are notoriously late to leaf out in colder zones. Wait until early summer (late May or early June) before assuming the plant is dead. New shoots will typically emerge from the crown or roots if the root system survived.</li>
</ol>
<hr>
<h2 id="pruning-in-cold-climates">Pruning in Cold Climates<a hidden class="anchor" aria-hidden="true" href="#pruning-in-cold-climates">¶</a></h2>
<p>Pruning crape myrtles in cold climates differs significantly from warmer regions.</p>
<ol>
<li><strong>Delay Pruning:</strong> Do not prune in fall or early winter, as this can stimulate new growth that will be damaged by frost.</li>
<li><strong>Prune in Late Spring:</strong> Wait until late spring (after the danger of the last hard frost has passed and you see signs of new growth) to prune.</li>
<li><strong>Assess Winter Damage:</strong>
<ul>
<li><strong>Dieback to Ground:</strong> If the plant has died back to the ground (common in Zone 5 and colder parts of Zone 6), simply cut all dead stems back to the ground level. New growth will emerge from the roots.</li>
<li><strong>Partial Dieback:</strong> If only some branches or tips have died back, prune back to healthy, living wood where you see new buds swelling.</li>
</ul>
</li>
<li><strong>Avoid &ldquo;Crape Murder&rdquo;:</strong> Resist the urge to severely cut back or &ldquo;<strong>top</strong>&rdquo; your crape <a href="/posts/how-to-grow-crape-myrtles-from-seed/">myrtle</a> to a few large stubs. This weakens the plant, produces weak, spindly growth, and creates an unsightly appearance. While common in warmer climates to control size, it&rsquo;s particularly detrimental in colder zones where the plant is already stressed.</li>
<li><strong>Shape and Thin:</strong> Once established and growing, focus on removing crossing branches, dead or diseased wood, and weak inner growth to promote good air circulation and a graceful shape.</li>
</ol>
<hr>
<h2 id="growing-crape-myrtles-in-containers">Growing Crape Myrtles in Containers<a hidden class="anchor" aria-hidden="true" href="#growing-crape-myrtles-in-containers">¶</a></h2>
<p>For gardeners in very cold climates (Zone 5 and colder) or those who want maximum control, growing crape myrtles in containers is an excellent option.</p>
<ol>
<li><strong>Choose a Large Pot:</strong> Select a pot that is at least 45-60 cm (18-24 inches) in diameter to allow for root growth. Ensure it has excellent drainage.</li>
<li><strong>Use Quality Potting Mix:</strong> A well-draining, high-quality potting mix is essential.</li>
<li><strong>Summer Care:</strong> Place the container in full sun. Water regularly, as container plants dry out faster. Fertilize regularly during the growing season.</li>
<li><strong>Winter Overwintering:</strong>
<ul>
<li>Before the first hard frost, bring the potted crape myrtle indoors.</li>
<li>Store it in a cool, dark, unheated but frost-free location, such as a garage, basement, or shed, where temperatures remain between $0^\circ \text{C}$ and $10^\circ \text{C}$ ($32^\circ \text{F}$ and $50^\circ \text{F}$).</li>
<li>Water sparingly (once every 3-4 weeks) just enough to prevent the root ball from completely drying out. The plant is dormant and requires very little water.</li>
<li>In spring, gradually reintroduce it to light and warmer temperatures, then move it outdoors after all danger of frost has passed.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="final-thoughts">Final Thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">¶</a></h2>
<p>While crape myrtles are synonymous with warmer climates, their enchanting blooms and appealing form are no longer exclusive to the South. With the advent of cold-hardy varieties and a commitment to proper planting and winter protection, gardeners in cooler regions can successfully grow these magnificent plants. Whether you cultivate them as resilient dieback perennials in the ground or as beautiful container specimens moved indoors for winter, the effort invested will be richly rewarded with a spectacular burst of summer color, proving that even in colder climates, crape myrtle magic is entirely within reach.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-grow-crape-myrtles-from-seed/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Grow Crape Myrtles from Seed</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-grow-fescue-grass/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Grow Fescue Grass</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
