<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Streaming Devices for Live Tv | Pest Policy</title>
<meta name="keywords" content="
   headphones, device, live">


<meta name="description" content="With the rise of cord-cutting, streaming devices have become essential for accessing live TV channels, sports, news, and on-demand content. But with so man...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-streaming-devices-for-live-tv/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-streaming-devices-for-live-tv/">

 
<meta name="twitter:title" content="Best Streaming Devices for Live Tv | Pest Policy" />


<meta name="twitter:description" content="With the rise of cord-cutting, streaming devices have become essential for accessing live TV channels, sports, news, and on-demand content. But with so man..." />
<meta property="og:title" content="Best Streaming Devices for Live Tv | Pest Policy" />
<meta property="og:description" content="With the rise of cord-cutting, streaming devices have become essential for accessing live TV channels, sports, news, and on-demand content. But with so man..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-streaming-devices-for-live-tv/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Streaming Devices for Live Tv",
      "item": "http://localhost:1313/posts/best-streaming-devices-for-live-tv/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Streaming Devices for Live Tv | Pest Policy",
  "name": "Best Streaming Devices for Live Tv",
  "description": "With the rise of cord-cutting, streaming devices have become essential for accessing live TV channels, sports, news, and on-demand content. But with so man...",
  "keywords": [
    "headphones", "device", "live"
  ],
  "wordCount" : "927",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-streaming-devices-for-live-tv/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Streaming Devices for Live Tv</h1>
    <div class="post-description">With the rise of cord-cutting, streaming devices have become essential for accessing live TV channels, sports, news, and on-demand content. But with so man...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/headphones/">Headphones</a><a href="http://localhost:1313/tags/device/">Device</a><a href="http://localhost:1313/tags/live/">Live</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>With the rise of cord-cutting, streaming devices have become essential for accessing <a href="/posts/can-fleas-live-in-carpets/">live</a> TV channels, sports, news, and on-demand content. But with so many options available, how do you choose the right one?
In this guide, well break down the
<strong>top streaming devices for live TV</strong>
, comparing their features, performance, and compatibility with popular live TV services like
<strong>YouTube TV, Hulu + Live TV, Sling TV, and more</strong>
.</p>
<h2 id="top-streaming-devices-for-live-tv">Top Streaming Devices for Live TV<a hidden class="anchor" aria-hidden="true" href="#top-streaming-devices-for-live-tv">¶</a></h2>
<h3 id="1-roku-ultra-2020"><a href="https://www.amazon.com/dp/B07ZVJHZB4?tag=p-policy-20">1. Roku Ultra (2020)</a><a hidden class="anchor" aria-hidden="true" href="#1-roku-ultra-2020">¶</a></h3>
<p>The Roku Ultra offers excellent value with access to thousands of streaming channels, including live TV options. It supports 4K resolution, Dolby Vision, and has an enhanced voice remote with TV controls.</p>
<p>The Roku Channel also provides free live TV and news streaming. It&rsquo;s a great choice for cord-cutters looking to access live TV without a hefty subscription fee.
<strong>Best For:</strong>
Users who want a simple, ad-free interface with access to free and paid live TV.
<strong>Pros:</strong>
Extensive app selection (supports all major live TV services)
No favoritism toward any streaming platform
Easy-to-use interface
<strong>Cons:</strong>
Lacks deep integration with Google Assistant or Alexa
No built-in web browser
<strong>Live TV Apps Supported:</strong>
YouTube TV, Hulu + Live TV, Sling TV, FuboTV, Philo, Pluto TV</p>
<h3 id="2-amazon-fire-tv-stick-4k-max"><a href="https://www.amazon.com/dp/B08GJ38SHX?tag=p-policy-20">2. Amazon Fire TV Stick 4K Max</a><a hidden class="anchor" aria-hidden="true" href="#2-amazon-fire-tv-stick-4k-max">¶</a></h3>
<p>The Amazon Fire TV Stick 4K Max is perfect for streaming live TV. It supports 4K resolution and includes Alexa Voice Remote, allowing you to control live TV with voice commands.</p>
<p>You can access live TV apps like Hulu + Live TV, Sling TV, YouTube TV, and more. It&rsquo;s a budget-friendly option with
<a href="https://pestpolicy.com/best-laptop-for-music-production/">powerful performance and features</a>
.
<strong>Best For:</strong>
Amazon Prime subscribers who want deep Alexa integration and a powerful budget device.
<strong>Pros:</strong>
Best-in-class voice search
Supports all major live TV apps
Affordable for its performance
<strong>Cons:</strong>
Heavy Amazon ads and recommendations
Limited storage for apps
<strong>Live TV Apps Supported:</strong>
YouTube TV, Sling TV, Hulu + Live TV, DirecTV Stream, Plex</p>
<h3 id="3-google-chromecast-with-google-tv"><a href="https://www.amazon.com/dp/B07VG8QQJ4?tag=p-policy-20">3. Google Chromecast with Google TV</a><a hidden class="anchor" aria-hidden="true" href="#3-google-chromecast-with-google-tv">¶</a></h3>
<p>Google Chromecast with Google TV allows you to stream live TV from various platforms, including YouTube TV and Sling TV. It supports 4K HDR and Dolby Vision and comes with an easy-to-use remote.</p>
<p>With Google Assistant built-in, you can use voice commands to find live TV channels, sports, and more.
<strong>Best For:</strong>
Android/Google users who want seamless integration with YouTube TV and Google services.
<strong>Pros:</strong>
Clean, intuitive interface
Strong content discovery features
Affordable price
<strong>Cons:</strong>
Limited storage (only 8GB)
No Ethernet port without an adapter
<strong>Live TV Apps Supported:</strong>
YouTube TV, Sling TV, FuboTV, Philo, Pluto TV</p>
<h3 id="4-apple-tv-4k-2021"><a href="https://www.amazon.com/dp/B07WYY39MD?tag=p-policy-20">4. Apple TV 4K (2021)</a><a hidden class="anchor" aria-hidden="true" href="#4-apple-tv-4k-2021">¶</a></h3>
<p>Apple TV 4K is a premium option for streaming live TV. It offers access to a wide range of live TV services like Apple TV+, Hulu + Live TV, and more. It also supports 4K HDR and Dolby Vision, ensuring the best picture quality.</p>
<p>The Siri remote makes navigation simple, and its seamless integration with other Apple devices makes it an ideal choice for Apple users.
<strong>Best For:</strong>
Apple users who want the best performance and high-end streaming experience.
<strong>Pros:</strong></p>
<p><a href="https://pestpolicy.com/best-external-hard-drive-for-music-production/">Best-in-class hardware</a>
No ads on the home screen
Supports
<strong>Frame Rate Matching</strong>
for smooth playback
<strong>Cons:</strong>
Expensive compared to competitors
Limited app customization
<strong>Live TV Apps Supported:</strong>
YouTube TV, Hulu + Live TV, DirecTV Stream, Apple TV+ (MLS Season Pass)</p>
<h3 id="5-tivo-stream-4k"><a href="https://www.amazon.com/dp/B082Y5QR1F?tag=p-policy-20">5. TiVo Stream 4K</a><a hidden class="anchor" aria-hidden="true" href="#5-tivo-stream-4k">¶</a></h3>
<p>The TiVo Stream 4K is another affordable option for streaming live TV. It supports 4K resolution and allows you to access streaming services like Sling TV, Hulu + Live TV, and more.</p>
<p>One standout feature is the TiVo interface, which allows you to combine content from various streaming apps into one interface for easy browsing.
<strong>Best For:</strong>
Users who want a unified guide for live TV and streaming apps.
<strong>Pros:</strong>
Aggregates content from multiple apps
Budget-friendly
Includes live TV recommendations
<strong>Cons:</strong>
Interface can feel cluttered
Slower performance than competitors
<strong>Live TV Apps Supported:</strong>
Sling TV, YouTube TV, Philo, Pluto TV</p>
<h2 id="what-to-look-for-in-a-streaming-device-for-live-tv"><strong>What to Look for in a Streaming Device for Live TV</strong><a hidden class="anchor" aria-hidden="true" href="#what-to-look-for-in-a-streaming-device-for-live-tv">¶</a></h2>
<h3 id="-compatibility-with-live-tv-services">** Compatibility with Live TV Services**<a hidden class="anchor" aria-hidden="true" href="#-compatibility-with-live-tv-services">¶</a></h3>
<p>Not all devices support every live TV app. For example:</p>
<ul>
<li><strong>Roku &amp; Fire TV</strong>support almost all major services.</li>
<li><strong>Apple TV</strong>lacks some smaller regional apps.</li>
</ul>
<h3 id="-video--audio-quality">** Video &amp; Audio Quality**<a hidden class="anchor" aria-hidden="true" href="#-video--audio-quality">¶</a></h3>
<ul>
<li><strong>4K HDR</strong>is ideal for sports and movies.</li>
<li><strong>Dolby Vision &amp; Atmos</strong>enhance the viewing experience.</li>
</ul>
<h3 id="-voice-control--smart-assistants">** Voice Control &amp; Smart Assistants**<a hidden class="anchor" aria-hidden="true" href="#-voice-control--smart-assistants">¶</a></h3>
<ul>
<li>**Alexa (Fire TV), Google Assistant (Chromecast), or Siri (Apple TV)**help quickly find live channels.</li>
</ul>
<h3 id="-storage--performance">** Storage &amp; Performance**<a hidden class="anchor" aria-hidden="true" href="#-storage--performance">¶</a></h3>
<ul>
<li><strong>More storage (e.g., Apple TV 128GB) = more apps.</strong></li>
<li><strong>Wi-Fi 6 (Fire TV Stick 4K Max) = better streaming stability.</strong></li>
</ul>
<h3 id="-user-experience">** User Experience**<a hidden class="anchor" aria-hidden="true" href="#-user-experience">¶</a></h3>
<ul>
<li><strong>Roku &amp; Google TV</strong>have simple interfaces.</li>
<li><strong>Fire TV &amp; TiVo</strong>have more ads/integrated recommendations.</li>
</ul>
<h2 id="final-verdict-which-one-should-you-buy"><strong>Final Verdict: Which One Should You Buy?</strong><a hidden class="anchor" aria-hidden="true" href="#final-verdict-which-one-should-you-buy">¶</a></h2>
<p>Device
Best For
Price
<strong>Roku Ultra</strong>
Best overall, ad-free, free live TV
$99
<strong>Fire TV Stick 4K Max</strong>
Alexa users, Prime subscribers
$60
<strong>Chromecast w/ Google TV</strong>
Google/YouTube TV users
$50
<strong>Apple TV 4K</strong>
Premium experience, Apple users
$129
<strong>TiVo Stream 4K</strong>
Unified live TV guide
$40
<strong>Budget Pick:</strong>
TiVo Stream 4K or Fire TV Stick 4K Max
<strong>Best for Free Live TV:</strong>
Roku Ultra (The Roku Channel)
<strong>Best for Sports:</strong>
Apple TV 4K (MLS Season Pass, MLB.tv)</p>
<h2 id="conclusion"><strong>Conclusion</strong><a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Whether you want
<strong>free live TV, sports, news, or premium streaming</strong>
, theres a perfect device for you.
<strong>Roku Ultra</strong>
is the best overall, while
<strong>Fire TV Stick 4K Max</strong>
is great for Alexa users.
<strong>Apple TV 4K</strong>
is the top choice for premium performance, and
<strong>Chromecast with Google TV</strong>
is ideal for YouTube TV subscribers.
<strong>Which one fits your needs?</strong>
Let us know in the comments!</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-steel-gutter-guards/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Steel Gutter Guards</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-stunt-scooter-for-12-year-old/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Stunt Scooter for 12 Year Old</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
