<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Getting Rid Of Fleas in the Carpet | Pest Policy</title>
<meta name="keywords" content="
   fleas, rid, flea">


<meta name="description" content="It&#39;s hard to spot fleas in the carpet fibers, and many treatments">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/getting-rid-of-fleas-in-the-carpet/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/getting-rid-of-fleas-in-the-carpet/">

 
<meta name="twitter:title" content="Getting Rid Of Fleas in the Carpet | Pest Policy" />


<meta name="twitter:description" content="It&#39;s hard to spot fleas in the carpet fibers, and many treatments" />
<meta property="og:title" content="Getting Rid Of Fleas in the Carpet | Pest Policy" />
<meta property="og:description" content="It&#39;s hard to spot fleas in the carpet fibers, and many treatments" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/getting-rid-of-fleas-in-the-carpet/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Getting Rid Of Fleas in the Carpet",
      "item": "http://localhost:1313/posts/getting-rid-of-fleas-in-the-carpet/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Getting Rid Of Fleas in the Carpet | Pest Policy",
  "name": "Getting Rid Of Fleas in the Carpet",
  "description": "It's hard to spot fleas in the carpet fibers, and many treatments",
  "keywords": [
    "fleas", "rid", "flea"
  ],
  "wordCount" : "1891",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/getting-rid-of-fleas-in-the-carpet/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Getting Rid Of Fleas in the Carpet</h1>
    <div class="post-description">It&#39;s hard to spot fleas in the carpet fibers, and many treatments</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/fleas/">Fleas</a><a href="http://localhost:1313/tags/rid/">Rid</a><a href="http://localhost:1313/tags/flea/">Flea</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>It&rsquo;s hard to spot <a href="/posts/how-to-get-rid-of-flea-eggs-on-cats/">fleas</a> in the carpet fibers, and many treatments
<a href="https://entomology.ca.uky.edu/ef602">can&rsquo;t reach deep down</a>
where they hide.</p>
<p>So, if you&rsquo;re looking for effective ways of getting rid of fleas in the carpet - we&rsquo;ve got lots of ideas!�Maybe it&rsquo;s through vacuuming or steam cleaning?</p>
<p>In this PestPolicy guide, this is what I&rsquo;ll be exploring:</p>
<ul>
<li>How do fleas end up in your carpet?</li>
<li>How long do fleas live in carpets?</li>
<li>What Should I Do with <a href="/posts/how-to-get-rid-of-fleas/">Flea</a>-Infested Furniture and Carpet?</li>
<li>3 steps to getting rid of fleas in the carpet - fastest way</li>
<li>What Can I Use for Fleas on my Furniture?
[amazon bestseller=&ldquo;Best Flea Killers for Carpets&rdquo; items=&ldquo;2&rdquo; template=&ldquo;table&rdquo;]</li>
</ul>
<h2 id="how-do-fleas-end-up-in-your-carpet">How do fleas end up in your carpet?<a hidden class="anchor" aria-hidden="true" href="#how-do-fleas-end-up-in-your-carpet">¶</a></h2>
<p>The simplest explanation for how fleas (and flea eggs) end up on your carpet is that they jump from one dog or cat to another, or even worse, from the outdoors into a home.</p>
<p>Or people might
bring them home unknowingly
inside their own shoes from walking through an infested area outdoors (for example near other flea-infested homes).</p>
<p>You&rsquo;ll also find that your furniture is another source of fleas if you don&rsquo;t vacuum it regularly, as some pet owners neglect to do.</p>
<p>Flea larvae are the initial stage in a flea&rsquo;s life cycle and will hatch from eggs on carpets or other surfaces where they&rsquo;ve landed.</p>
<ul>
<li>They enter into a pupal state which can last anywhere between one day up to two weeks before emerging as adults.</li>
<li>This time frame depends on factors such as temperature (warm temperatures speed up their development) and humidity levels.
Adult female fleas feed by biting animals like cats, dogs, etc., this helps them produce more eggs (20 - 50 daily). The eggs will roll onto the carper (they&rsquo;re less sticky) as the pet lies down.</li>
</ul>
<p>The flea eggs hatch in 1-2 weeks. So, the carpets provide a warm temperature allowing the fleas to hatch faster.</p>
<ul>
<li>Thus, there will develop a fully-grown infestation with eggs, nymphs, and adults on the carpet and on the floor.</li>
</ul>
<h2 id="how-long-do-fleas-live-in-carpets">How Long Do Fleas Live in Carpets?<a hidden class="anchor" aria-hidden="true" href="#how-long-do-fleas-live-in-carpets">¶</a></h2>
<p>Fleas can live in carpets for an average of two to three months with a suitable host - cat or dog. If they don&rsquo;t get a blood meal, the flea&rsquo;s lifespan might only last a few days.</p>
<ul>
<li>The flea eggs in your carpet hatch in two to three days.
After the egg hatches, it takes about six days for a flea larva to develop.</li>
</ul>
<p>If you have small children or pets in your home, there is a higher chance that they will be bitten and infected with parasites from these bugs. Pets might even bring them into your home on their fur!</p>
<p>The best way to get rid of them would be using natural remedies like garlic oil or Diatomaceous earth which kills pests but is safe for humans and animals alike!</p>
<p>Adult fleas live on average anywhere from 1 day to two weeks, depending on the animal they&rsquo;re living off of. When a long-haired host is available they can survive roughly 8 days.</p>
<h2 id="what-should-i-do-with-flea-infested-furniture-and-carpet">What Should I Do with Flea-Infested Furniture and Carpet?<a hidden class="anchor" aria-hidden="true" href="#what-should-i-do-with-flea-infested-furniture-and-carpet">¶</a></h2>
<p>If you have a lot of fleas on your furniture and carpet, you may need to call an exterminator - or undertake DIY flea control.</p>
<ul>
<li>The problem is usually solved by spraying the house with insecticide which will kill all the fleas in your home - including those that are hiding out in dark corners or under carpets.
The next step is to vacuum thoroughly to remove any eggs left behind from larvae so they don&rsquo;t hatchback into adults later on.</li>
</ul>
<p>Carpets should be professionally shampooed as well because it&rsquo;s hard to get at the flea egg deposits beneath the fibers without using a special product for this purpose.</p>
<ul>
<li>Be sure not only to spot-clean (or steam clean) upholstery but also floors: In some cases, eggs can survive for months when laid on hard surfaces like tile or linoleum.
If you&rsquo;re having trouble with fleas in the home or in the carpet, a three-step process is essential.</li>
<li>First, treat your cat or dog for fleas using either anover-the-counter remedy or prescription treatmentas prescribed by your veterinarian.</li>
<li>Next, apply chemical treatments to carpets and furniture (unless it will damage the finish) to kill any adult fleas left on these areas of infested surfaces anduse a flea spray.</li>
<li>Finally,vacuum all floorsand wash bedding and other items that cannot be laundered in hot water.
&hellip;but fleas eggs may also fall on the pet bed, furniture, couch, or carpet.</li>
</ul>
<p>Flea eggs can hatch in a matter of days or weeks, depending on the conditions where they&rsquo;re present including humidity and temperature - and thus a fresh re-infestation.</p>
<p>Flea eggs are the only stage of fleas that is not killed with adults-killing insecticides, so it&rsquo;s best to avoid using these products including
flea bombs or foggers
.</p>
<ul>
<li>So, exterminators recommend treating carpets with insecticides that haveinsect growth regulators (IGR)ssuch as Precor that has (S)-Methoprene andPermethrinIGRs.
To prevent re-infestation, you will need to
give them a flea collar
and scrub your pets with a
quality flea shampoo
.</li>
</ul>
<h2 id="3-steps-to-getting-rid-of-fleas-in-the-carpet---fastest-way">3 Steps to Getting Rid Of Fleas in the Carpet - Fastest Way<a hidden class="anchor" aria-hidden="true" href="#3-steps-to-getting-rid-of-fleas-in-the-carpet---fastest-way">¶</a></h2>
<p>When taking on a flea infestation, one of the most important places to focus is your home&rsquo;s carpet.</p>
<p>Below are the key steps to take when you&rsquo;re perplexed as to how best to handle their flea problem on their floor or in their carpets.</p>
<h3 id="1-vacuum-cleaner-for-fleas-on-carpet">1. Vacuum Cleaner for Fleas on Carpet<a hidden class="anchor" aria-hidden="true" href="#1-vacuum-cleaner-for-fleas-on-carpet">¶</a></h3>
<p>Hi, everyone! What&rsquo;s this? It looks like a vacuum cleaner. Can you hear that sound it makes?</p>
<ul>
<li>Yep, that&rsquo;s the sound of your carpet being sucked up into its tank to keep fleas from riding around on top of your floor and biting you when you have bare feet.
Maybe vacuuming the carpet won&rsquo;t kill all the fleas in your home, but it&rsquo;ll play a great role.</li>
</ul>
<p>A vacuum cleaner will remove fleas on the carpet, but it can&rsquo;t replace a professional pest control treatment.</p>
<ul>
<li>On the contrary, I recommend using an IGR flea fogger such as Precor - about a week after flea-treating your pets.
However, vacuums will reduce the flea population in your home, especially those fleas and eggs that just won&rsquo;t die and are hanging out on the carpet.</li>
</ul>
<p>An unexpected side effect of vacuuming is that you might actually be trapping fleas and their eggs in your vacuum.</p>
<ul>
<li>So, when you&rsquo;re done vacuuming, remember to throw the bag or empty out your vacuum so that fleas can&rsquo;t take up residence in it.</li>
</ul>
<h3 id="2-steam-cleaning-the-carpet">2. Steam Cleaning the Carpet<a hidden class="anchor" aria-hidden="true" href="#2-steam-cleaning-the-carpet">¶</a></h3>
<p>A steam cleaner is a great way to get rid of fleas- it kills the eggs and larvae. However, it is not something that you should do without taking precautions.</p>
<p>Steam Cleaning the Carpet for Fleas is a process that uses high-pressure steam to remove dirt - plus
flea dirt
, fleas, and organisms like bacteria from carpets.</p>
<ul>
<li>Step One: Fill up your clean pot with water and then boil it on the stove until it reaches all of the safety marks; you can now turn off the stove because we are ready for step two.</li>
<li>Step Two: Pour some dish soap into a bucket or container full of hot water (you should have already boiled this) so that you create bubbles in there if needed.</li>
<li>Next, add twelve ounces worth of white vinegar before pouring out about eight inches deep into your carpet cleaner machine to mix with the soap.</li>
<li>Step Three: Fill up your carpet cleaner machine with hot water and then add in two to three ounces of dish detergent for maintenance cleaning, or one scoop of powdered enzyme cleaner if you want a deep clean.</li>
<li>Lastly, pour out about eight inches worth of this mixture into your carpet cleaner machine before turning on the power button so that it starts heating up.</li>
<li>Plugin the steam cleaner hose, as well as turn on its heat until some fog, comes out from it; now you can start pulling away any stains by attaching an accessory like a scrub brush.</li>
<li>Step Four: Once finished, let everything dry for at least 24 hours before vacuuming so that dirt isn&rsquo;t re-deposited onto your carpets.
It&rsquo;s too soon to start living with your pets again after chemicals like IGRs have been sprayed.</li>
<li>You should wait an entire week before letting them back into the areas that were treated or it could trigger a flea infestation and put you on the fast track to suffering from allergies.
Related:
Does white vinegar kill fleas?</li>
</ul>
<h3 id="3-kill-fleas-on-carpet-with-baking-soda">3. Kill Fleas on Carpet with Baking soda<a hidden class="anchor" aria-hidden="true" href="#3-kill-fleas-on-carpet-with-baking-soda">¶</a></h3>
<p>If you are looking for a creative way to kill fleas that live on your carpet, then look no further! Baking soda is an unusually effective and inexpensive solution.</p>
<p>When used alone, baking soda may not be as effective as it should be. So in order to make the treatment more potent, mix equal parts of baking soda with finely ground salt (salt and pepper would work too).</p>
<p>To test the potency and freshness of your baking soda, mix 1 tsp. with vinegar and see if it bubbles.</p>
<ul>
<li>Dab the baking soda and salt solution into the carpet using little strokes.</li>
<li>Make sure to cover the entire surface of the carpet evenly with some mixture remaining on a small area that can be rubbed into the fibers.</li>
<li>You can use a brush to thoroughly cover the entire surface of your carpet with baking soda.</li>
<li>Treat the flea-infested area and let it settle for at least 12 hours before you vacuum.
Related:
<a href="https://pestpolicy.com/best-flea-carpet-powder/">Carpet Powder for�Fleas</a></li>
</ul>
<h2 id="what-can-i-use-for-fleas-on-my-furniture">What Can I Use for Fleas on my Furniture?<a hidden class="anchor" aria-hidden="true" href="#what-can-i-use-for-fleas-on-my-furniture">¶</a></h2>
<p>Sometimes fleas choose to go into your furniture for a hiding place. Thankfully, killing fleas on your furniture doesn&rsquo;t need to be complicated or expensive.</p>
<ul>
<li>The flea larvae and eggs will also drop on the dressers, table, and couch as the cat or dog moves around the house.
That being said, the first thing you should do to control fleas on your furniture is by using an insecticide that comes with an IGR (Insect Growth Regulator).</li>
<li>IGRs will prevent the eggs and larvae from hatching or hinder maturing of pupae, which will help keep your home free of fleas.
Your last step is to vacuum your furniture, which will remove the fleas. The right tool for the job will depend on what type of flooring and furniture you have;</li>
<li>But in general terms, a good attachment should work well across many surfaces.
If you want a more natural solution for getting rid of fleas in carpeting, then try using diatomaceous earth (DE). DE is made from the fossilized shells of ancient sea creatures and it&rsquo;s toxic to fleas.</li>
</ul>
<p>The DE will work by sucking out any moisture in the carpet, which coupled with its sharp edges prevents flea eggs from hatching; this is because the DE scratches up their exoskeleton.</p>
<p>Related:
Check these Flea-treatment Guides</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Sometimes, the only way to get rid of fleas is by using a tool that can reach the deepest parts of your carpet.</p>
<ul>
<li>Other times, all you need are some simple tips and tricks like vacuuming regularly or spraying insecticide onto fabrics where they might be hiding.</li>
<li>IGR Insecticides will kill adult fleas on contact but will also prevent eggs from hatching.
I hope this post was helpful.</li>
</ul>
<p>Cheers!</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/get-rid-sweat-bees/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Get Rid Sweat Bees</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/glacier-bay-power-flush-one-piece-toilet/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Glacier Bay Power Flush One Piece Toilet</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
