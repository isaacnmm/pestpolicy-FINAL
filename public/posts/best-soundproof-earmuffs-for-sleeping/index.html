<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Soundproof Earmuffs for Sleeping | Pest Policy</title>
<meta name="keywords" content="
   soundproofing, best, soundproof">


<meta name="description" content="Do you need to improve the quality of your sleep? Well, below, Ive reviewed the best">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-soundproof-earmuffs-for-sleeping/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-soundproof-earmuffs-for-sleeping/">

 
<meta name="twitter:title" content="Best Soundproof Earmuffs for Sleeping | Pest Policy" />


<meta name="twitter:description" content="Do you need to improve the quality of your sleep? Well, below, Ive reviewed the best" />
<meta property="og:title" content="Best Soundproof Earmuffs for Sleeping | Pest Policy" />
<meta property="og:description" content="Do you need to improve the quality of your sleep? Well, below, Ive reviewed the best" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-soundproof-earmuffs-for-sleeping/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Soundproof Earmuffs for Sleeping",
      "item": "http://localhost:1313/posts/best-soundproof-earmuffs-for-sleeping/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Soundproof Earmuffs for Sleeping | Pest Policy",
  "name": "Best Soundproof Earmuffs for Sleeping",
  "description": "Do you need to improve the quality of your sleep? Well, below, Ive reviewed the best",
  "keywords": [
    "soundproofing", "best", "soundproof"
  ],
  "wordCount" : "1465",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-soundproof-earmuffs-for-sleeping/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Soundproof Earmuffs for Sleeping</h1>
    <div class="post-description">Do you need to improve the quality of your sleep? Well, below, Ive reviewed the best</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/soundproofing/">Soundproofing</a><a href="http://localhost:1313/tags/best/">Best</a><a href="http://localhost:1313/tags/soundproof/">Soundproof</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Do you need to improve the quality of your sleep? Well, below, Ive reviewed the best
<a href="https://patents.google.com/patent/US9585792B2/en">soundproof earmuffs</a>
for sleeping for a tight sleep and even sweet dreams.</p>
<p>Notably, a good earmuff will reduce about 15 to 30 dB of noise  just like the top muffs and earplugs, but the earmuffs are best for high-frequency noise.
I live in downtown Monrovia. Its crowded and sprawling section, but I love the convenience of getting everything just a few meters away.
Some earmuffs are used for noise cancellation in areas that have substantial and noisy machinery - these are not the type of Earmuff we require for healthy sleep.</p>
<h2 id="reviews-9-best-soundproof-earmuffs-for-sleeping-2025">Reviews: 9 Best Soundproof Earmuffs For Sleeping 2025<a hidden class="anchor" aria-hidden="true" href="#reviews-9-best-soundproof-earmuffs-for-sleeping-2025">¶</a></h2>
<p>I need to wake up refreshed, focused, and well-rested by muffing the noise coming from loud passerby and loud vehicle noise. No more turning and tossing all night - get noise-canceling earmuffs.</p>
<h3 id="1-wrap-a-nap-earmuff-sleep-mask-and-travel-pillow"><a href="https://www.amazon.com/dp/B00ZTC56O4/?tag=p-policy-20">1. Wrap-a-Nap Earmuff, Sleep Mask, and Travel Pillow</a><a hidden class="anchor" aria-hidden="true" href="#1-wrap-a-nap-earmuff-sleep-mask-and-travel-pillow">¶</a></h3>
<p>Wrap-a-nap is designed from a fluffy, soft, and large fabric, making it a very practical sound-blocking sleep earmuff - its a quality the USA made product. I noted that it is possible to use this device to cover both your ears and eyes as you doze off to your sweet slumberland.
Therefore, Wrap-a-nap will act as both an earmuff and a sleeping mask  you will love its high-quality build. Besides blocking your vision and hearing  you may wear the Wrap-a-nap on the neck, or forehead o make it work like your travel pillow.
Wrap-a-nap will support your lumbar and equally act as a pillow for your long flight. Luckily, you can easily adjust the width (5x5 roll) of this sleeping accessory. Equally, the device is highly portable and has a range of applications besides being sleeping earmuffs.
The device allows anyone to nap anywhere despite the high noise levels that may be present. It will quickly turn into a pillow, muffle different sounds, and equally block all the disturbing light from your eyes.
It will give you real rest and allow restoration while at home, in the office, car, or airplane. Therefore, you can readily block the excessive noise from snoring husbands, noisy roommates, and uncomfortable airplane flights.
You can attach Wrap-a-nap on your pack, tote, or luggage. It is comfortable and soft. However, some people state that the device may feel too warm, considering the temperature in your specific location.</p>
<h3 id="2-hibermate-gen-6-earmuff--sleep-mask-having-noise-canceling"><a href="https://www.amazon.com/dp/B07DHD4HPQ/?tag=p-policy-20">2. Hibermate Gen-6 Earmuff + Sleep Mask Having Noise-Canceling</a><a hidden class="anchor" aria-hidden="true" href="#2-hibermate-gen-6-earmuff--sleep-mask-having-noise-canceling">¶</a></h3>
<p>Hibermate Gen 6 are uniquely designed soundproof earmuffs for light sleepers  very practical napping devices. Equally, just like the Wrap-a-nap (above), Hibermate Gen 6 also comes with a mask to block excessive light that may distract your sleep.
On noise Reduction, this Hibernate Gen 6 has an in-built noise-blocking future that will cut most of the undesirable noise to give you a very peaceful sleep. The sleeping aid blocks between 15 to 20 dB of noise.
Its also compact and equally portable  it wont disturb our sleep despite that you may take a various sleeping position. Youll love the satin exterior thatll give the Earmuff and excellent texture. However, some people consider this texture to be too slippery on their heads.
Hibernate Gen 6 is made from silicone that will make it feel highly flexible, comfortable, and premium  this will gently and safely (and gently) against your skin to allow smooth and sweet sleep. Equally, the device is made from highly breathable material that will allow effortless temperature control either during the warm winters or the cool summer.
It also allows flexibility in different sleeping or sitting positions. For example, front, back, and side sleepers will find the Earmuff to be convenient and comfortable due to the installed soft cushion. You will also find this one to be highly convenient for traveling.</p>
<h3 id="3-sleep-master-earmuff-sleep-mask-plus-ear-cover"><a href="https://www.amazon.com/dp/B0015NZ6FK/?tag=p-policy-20">3. Sleep Master Earmuff Sleep Mask Plus Ear Cover</a><a hidden class="anchor" aria-hidden="true" href="#3-sleep-master-earmuff-sleep-mask-plus-ear-cover">¶</a></h3>
<p>Sleep Master has a zip-top plastic bag that also contains some great earplugs suitable for any person that has insomnia. Itll block most of the disturbing noise and the harsh light, allowing you to even have a power nap in a tight afternoon.
Youll find this Sleep Master relatively simple to maintain and wash. Sleep Master earmuff will safely fasten around your head without slipping like other elastic-banded face masks.
However, Sleep Master comes like a single piece of earmuffs  its also compact and slim. The muffs puter surface is created from synthetic material, but its inner side has soft cotton. The muffs inner potion has cotton that provides for excellent airflow.
The earmuffs wont slide off or move  making it super comfortable at night for a great nap. Also, the device will allow you to hear some sounds in your environment as it wont block them to 100 percent degree.
However, you can combine the earmuffs with the included earplugs to achieve total sound clocking.
The Sleep Master muff or mask is super comfortable and soft in addition to being adjustable, flexible, and durable. You can use the velcro straps to adjust at the rear of these Sleep Master earmuffs.</p>
<h3 id="4-pro-for-sho-earmuff-light-weight-general-purpose-noise-canceling"><a href="https://www.amazon.com/dp/B017RZ45F6/?tag=p-policy-20">4. Pro For Sho Earmuff Light-Weight General Purpose Noise-Canceling</a><a hidden class="anchor" aria-hidden="true" href="#4-pro-for-sho-earmuff-light-weight-general-purpose-noise-canceling">¶</a></h3>
<p>Pro for sho earmuffs offers the highest noise protection  as it allows a 34dB noise-canceling feature. Its design uniquely overcomes the limitations that come with the bulky earmuffs  with great wearing experience with acceptable comfort.
Pro for sho is lightweight and high portable with its compact build  its also highly convenient to wear for a prolonged period. This is because its lightweight with the solid design making it very comfortable to carry around.
It has an industrial-grade headband thats perfectly padded and comfortable for wearing while youre sleeping  but with no irritation. Further, its not bulky or weighty, and thus itll be easy to carry around.
Its also great for study, woodworking, hunting, operating machinery, and gun shooting with the Industrial Grade technology in the earmuffs. Besides, this device is hard and robust  which means itll be overly challenging to damage.</p>
<h2 id="considerations-in-best-soundproof-earmuffs-for-sleeping">Considerations in Best Soundproof Earmuffs for Sleeping<a hidden class="anchor" aria-hidden="true" href="#considerations-in-best-soundproof-earmuffs-for-sleeping">¶</a></h2>
<p>Earmuffs come in different shapes and forms  including those for industrial use (in cases of heavy machinery noises) and sleeping purposes. Sleeping earmuffs will have a different design that youll love.
Such Earmuffs must give you adequate comfort while youre sleeping on your bed. Further, they must be very fluffy, soft, and equally thin. However, the device must also, exceptionally, block off the noise that may otherwise disturb your sleep.
So, if youre considering earplugs for sleeping  know that they may feel less comfortable and lower quality compared to good earmuffs. Besides, youll find that earplugs are small in size, and thus you might end up losing them in your bed.</p>
<h3 id="1-comfort">1. Comfort<a hidden class="anchor" aria-hidden="true" href="#1-comfort">¶</a></h3>
<p>We need top comfort while were sleeping on our bed or couches, and thats what the Earmuff should offer us. Notably, youll barely even feel good earmuffs when youre wearing them or even sleeping.
Therefore, while youre selecting your Earmuff  ensure that its designs make it comfortable to wear. For example, some people may love the slim earmuff designs as theyll not disturb their sleeping peace.
However, you must not also wholly avoid bulky models because some have some great noise-canceling features that may help in your sleep.</p>
<h3 id="2-noise-canceling-capability">2. Noise-canceling capability<a hidden class="anchor" aria-hidden="true" href="#2-noise-canceling-capability">¶</a></h3>
<p>Next, you must consider the noise-canceling capability of your sleeping earmuffs. However, you should know that sleeping earmuffs will use various sound- blocking mechanisms  therefore, choose wisely.
For example, one of them may have a soundproof fabric thats quite thin  which, in fact, is their performance advantage in blocking excessive sounds.
While various one may have muffs that are uniquely designed to block noise  with its different heavier and acoustic materials and design, respectively.
Therefore, as you head over to the market, first consider the comfort of the Earmuff, then check its noise-canceling capability and design.</p>
<h3 id="3-earnmuffs-airflow">3. Earnmuffs Airflow<a hidden class="anchor" aria-hidden="true" href="#3-earnmuffs-airflow">¶</a></h3>
<p>Earmuffs airflow is a critical aspect of your device in your noise and sound blocking expedition as you doze off for the night. Notably, the devices must not allow excessive sound from passing through into your ears.
On the flip side, some Earmuff allows a persons skin to breathe but will also block noise from getting to your ears. Therefore, ensure that you check the Earmuffs airflow when youre purchasing your sleeping gear.</p>
<h3 id="4-length-of-headband">4. Length of headband<a hidden class="anchor" aria-hidden="true" href="#4-length-of-headband">¶</a></h3>
<p>You sleep earmuffs will come with varying lengths of headbands. However, its your job to ensure that the headband in your selected Earmuff will strictly fit the size of the head. Failure to this, youll experience discomfort while youre in bed.
For example, earmuffs could slide off your head if the headband is oversized. Further, for a tight headband, you might experience some headaches. Therefore, some
<a href="https://pestpolicy.com/best-throat-lozenges-for-singers/">people and singers</a>
op-to have band-less earmuffs.</p>
<h2 id="sources">Sources:<a hidden class="anchor" aria-hidden="true" href="#sources">¶</a></h2>
<ol>
<li>[Utilization of Styrofoam as <a href="/posts/soundproof-barn-doors/">Soundproofing</a> Material with Auditory Frequency Range](<a href="http://journal.fkm.ui.ac.id/kesmas/article/view/2633">http://journal.fkm.ui.ac.id/kesmas/article/view/2633</a>)</li>
<li><a href="http://www.ijaerd.co.in/papers/finished_papers/NOISE%20POLLUTION%20IN%20VADODARA%20CITY%20-%20A%20CASE%20STUDY-35861.pdf">NOISE POLLUTION IN VADODARA CITY-A CASE STUDY</a></li>
</ol>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-soundbars-under-300/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Soundbars Under 300</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-spider-killer/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Spider Killer</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
