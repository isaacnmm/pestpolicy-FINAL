<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Stain for Douglas Fir Door | Pest Policy</title>
<meta name="keywords" content="
   paint, stain, dougla">


<meta name="description" content="Are you looking for the best stain for a Douglas fir door? Is there any better way of staining your upright wooden door correctly? Definitely! Selecting th...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-stain-for-douglas-fir-door/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-stain-for-douglas-fir-door/">

 
<meta name="twitter:title" content="Best Stain for Douglas Fir Door | Pest Policy" />


<meta name="twitter:description" content="Are you looking for the best stain for a Douglas fir door? Is there any better way of staining your upright wooden door correctly? Definitely! Selecting th..." />
<meta property="og:title" content="Best Stain for Douglas Fir Door | Pest Policy" />
<meta property="og:description" content="Are you looking for the best stain for a Douglas fir door? Is there any better way of staining your upright wooden door correctly? Definitely! Selecting th..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-stain-for-douglas-fir-door/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Stain for Douglas Fir Door",
      "item": "http://localhost:1313/posts/best-stain-for-douglas-fir-door/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Stain for Douglas Fir Door | Pest Policy",
  "name": "Best Stain for Douglas Fir Door",
  "description": "Are you looking for the best stain for a Douglas fir door? Is there any better way of staining your upright wooden door correctly? Definitely! Selecting th...",
  "keywords": [
    "paint", "stain", "dougla"
  ],
  "wordCount" : "1459",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-stain-for-douglas-fir-door/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Stain for Douglas Fir Door</h1>
    <div class="post-description">Are you looking for the best stain for a Douglas fir door? Is there any better way of staining your upright wooden door correctly? Definitely! Selecting th...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/paint/">Paint</a><a href="http://localhost:1313/tags/stain/">Stain</a><a href="http://localhost:1313/tags/dougla/">Dougla</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Are you looking for the best stain for a Douglas fir door? Is there any better way of staining your upright wooden door correctly? Definitely! Selecting the best stain for the
<a href="https://extension.oregonstate.edu/forests/health-managment/diagnosis-table-douglas-fir-oak-pine">Douglas fir</a>
door will be a great move towards achieving an excellent final finish.
Indeed, it would help if you considered a stain that delivers a top-quality finish without sacrificing your wooden doors&rsquo; performance and lifespan.
Therefore, it&rsquo;s upon you to decide on which
<a href="https://pestpolicy.com/best-sprayer-for-latex-%5Bpaint%5D(/posts/best-stain-for-pine/)/">final impression</a>
you want to achieve upon application.</p>
<h2 id="7-best-stain-for-douglas-fir-door">7 Best Stain for Douglas fir Door<a hidden class="anchor" aria-hidden="true" href="#7-best-stain-for-douglas-fir-door">¶</a></h2>
<h3 id="1-defy-extreme-1-gallon-exterior-wood-stain"><a href="https://www.amazon.com/dp/B0061N8ZKC/?tag=p-policy-20">1. DEFY Extreme 1 Gallon Exterior Wood Stain</a><a hidden class="anchor" aria-hidden="true" href="#1-defy-extreme-1-gallon-exterior-wood-stain">¶</a></h3>
<p>Defy Extreme is a crystal clear wood staining product that features a robust water-based formula, allowing smooth penetration and more straightforward application using brush or sprayers.
T
he stain is manufactured in a beautiful liquid form that uniformly stretches to create a harsh coat with an impressive appearance.</p>
<p>The stain is developed with a 100% acrylic component that makes it easier to clean. DEFY won&rsquo;t stain your hands during the application or mess up your clothes on contact  you can wash easily with soap and water.
Moreover, Defy is fortified with Zinc nanotechnology, reflecting the sunlight, thus protecting your door from UV radiation. Further, the stain forms a durable membrane that will not only prevent your door from scratch but also resist graying and fading.
The Low maintenance product is VOC compliant and can be applied directly without sanding and stripping the door surface. The stain is also packed in a relatively large container (3.785 liters) to serve you over a large surface area.
Pros:</p>
<ul>
<li>Water-based formula and more comfortable to apply</li>
<li>Fortified with Zinc nanoparticles for UV protection</li>
<li>Low maintenance and VOC compliant</li>
<li>Durable and robust uniform coat</li>
<li>Crystal clear coat and top quality</li>
<li>Relatively large quantity  3.785 liters</li>
<li>100% acrylic and more comfortable to clean  water and soap
Cons:</li>
<li>Limited colors</li>
<li>Requires 2 or 3 coating</li>
</ul>
<h3 id="2-minwax-66010000-douglas-fir-gel-stain-quart--chestnut"><a href="https://www.amazon.com/dp/B000Y4DXRY/?tag=p-policy-20">2. Minwax 66010000 Douglas Fir Gel Stain, quart &amp; Chestnut</a><a hidden class="anchor" aria-hidden="true" href="#2-minwax-66010000-douglas-fir-gel-stain-quart--chestnut">¶</a></h3>
<p>Minwax is an instant action door stain that comes in a well-refined state for a more straightforward application. The stain features a non-drip coat formula that keeps it stuck upon use without flow.
M
oreover, Minwax spreads nicely during the application, forming a classic uniform stretched coat.
This stain has a unique scent that won&rsquo;t irritate your respiratory system when applying -instead, the product leaves a pleasant fragrance.
You will love the amazing colors this product comes in  you can select colors from a
transparent view stain
to a full-color option.
The US-made product has a reflective ability that prevents it from the effects of UV rays. The stain can be used for indoor and outdoor applications. The strong chemical combination ratio gives this stain different years of action without defacing or fading.
More so, Minwax leaves an impressive and beautiful final finish. The super active agent incorporated in this product prevents it from chipping or peeling off easily. Usually, the stain requires a single coat application that instantly dry to touch in a couple of minutes.
Pros:</p>
<ul>
<li>Super action stickiness agent -Ideal for vertical surfaces</li>
<li>Wide range of application  metal, wood, fiberglass, veneer</li>
<li>The impressive and beautiful final finish</li>
<li>Comes in a variety of color and packages</li>
<li>Safe for both human and pets</li>
<li>Durable and more comfortable to apply with a brush
Cons:</li>
<li>Unsuitable for a large project</li>
</ul>
<h3 id="3-ready-seal-512-5-gallon-pail-natural-cedar-exterior-stain"><a href="https://www.amazon.com/dp/B00MDVLOBS/?tag=p-policy-20">3. Ready Seal 512 5-Gallon Pail Natural Cedar Exterior Stain</a><a hidden class="anchor" aria-hidden="true" href="#3-ready-seal-512-5-gallon-pail-natural-cedar-exterior-stain">¶</a></h3>
<p>The ready seal is a robust door-staining compound that is manufactured in large quantities for large application purposes. The product features a powerful biodegradable sticking agent that instantly act without dripping.
T
he stain comes in a beautiful ablative liquid, which has a high flow and rollability  this makes it easy to apply using a roller, brush, or sprayer.</p>
<ul>
<li>Ready seal dries nicely without back brushing and will leave no streaks, laps, or runs upon application.</li>
<li>The top quality product claims to deliver excellent surface finish in<a href="https://pestpolicy.com/best-deck-cleaner-for-trex/">commercial and residential wooden doors</a>without sacrificing material strength.
Moreover, the stain is packed in large quantities (18.9 liters) to cover a substantial wide area without refilling. Indeed, this product requires no wet-line mark and meets the Douglas fir&rsquo;s US VOC
<a href="http://ipm.ucanr.edu/PMG/GARDEN/PLANTS/douglasfir.html">requirements, including pest control</a>
.
The ready seal is a direct application medium (no primer needed) and forms a 100% waterproof coating that prevents your door from moisture damage.
Pros:</li>
<li>Best for large projects</li>
<li>Leaves no runs, streaks, or laps</li>
<li>Need no prior thinning or dilution  direct application</li>
<li>No primer or back brushing</li>
<li>Instant action stickiness agent</li>
<li>No wet-line app  works for any temperature</li>
<li>100% waterproof and safe for human &amp; pets</li>
<li>Prevent mildew and protect UV rays
Cons:</li>
<li>Slightly expensive</li>
<li>Cause stomach upset when swallowed.</li>
<li>Extra drying time  48 to 72 hours</li>
<li>14 days to acquire it&rsquo;s the true color</li>
</ul>
<h3 id="4-varathane-269394-premium-fast-dry-wood-stain"><a href="https://www.amazon.com/dp/B00SJH2LTE/?tag=p-policy-20">4. Varathane 269394 Premium Fast Dry Wood Stain</a><a hidden class="anchor" aria-hidden="true" href="#4-varathane-269394-premium-fast-dry-wood-stain">¶</a></h3>
<p>Varathane is a classic interior door and furniture stains characterized by an instant action agent added in the liquid to improve its stickiness ability.
T
he stain sheds a top performance uniform coat that stretches nicely t0 create a tough waterproof membrane. Also, Varathane is poly covered to give it durable surface protection that is scratch resistant.</p>
<ul>
<li>Varathane requires no dilution (direct application) when applying and claims to deliver quality service by penetrating deep into the wood without sacrificing the material strength.</li>
<li>Moreover, the stain dries to touch very fast (within one hour).The stain features a powerful oil-based formula with a high roll and flowability, making it easier to apply using a brush and wipe out with lint-free cloths.
This stain uniquely delivers 100% seal on your Douglas Fir door without the use of any wood conditioner or primer  all you need is to sand the door surface well. Indeed, the product is enhanced with natural wood grains and nano pigments to improve its appearance.
Notably, Varathane is manufactured in multiple colors (over 26 trending colors), leaving a classic and impressive look on your door after application. This stain has a long service life and won&rsquo;t stain you or your clothes in contact.
The US certified product has been in existence since 1058  this means that it&rsquo;s a long service proven record. Not forgetting, Varathane is packed in a nice can (946ml) that can cover a wide area of 275 square feet.
Pros:</li>
<li>Best for interior door staining and furniture</li>
<li>Single coat top performance</li>
<li>Dry to touch in 1 hour  fast</li>
<li>Wide area coverage  275 sq. Ft. 946ml</li>
<li>Has natural wood grains  enhanced with nano pigment</li>
<li>Powerful oil-based formula  quick-acting</li>
<li>Multiple colors  26 trending options</li>
<li>Deep penetration and perfect seal
Cons:</li>
<li>Surface require sanding for best performance.</li>
<li>It&rsquo;s combustible or flammable</li>
</ul>
<h3 id="5-thompson"><a href="https://www.amazon.com/dp/B00KIZVQPU/?tag=p-policy-20">5. Thompson&rsquo;s TH.042841-16 Waterseal Waterproofing Stain</a><a hidden class="anchor" aria-hidden="true" href="#5-thompson">¶</a></h3>
<p>Thompson&rsquo;s stain is a severe grade door stain specially manufactured with beautiful liquid to allow smooth application without any hassle. The stain features advance polymer combinations that prevent it from color fading and graying upon application.
T
his product is waterproof and seals leaking holes or floor instantly without sacrificing the wooden materials&rsquo; strength. Moreover, Thompson&rsquo;s stain spreads evenly to create an excellent elastic membrane that will not only prevent your door from UV rays but also resist mildew.</p>
<ul>
<li>The complex sticking formula makes Thompson&rsquo;s stain stick firmly without release and dry to touch within 2 hours. There is no thinning of the primer application needed when using this stain.More so, you can apply it on either damp or dry door surface without losing quality performance.</li>
<li>Thompson&rsquo;s stain has a long life service (has been in the market for over 60 years) and is refined in various colors  ranging from transparent to full solid colors. Further,<a href="https://pestpolicy.com/best-deck-stain-for-weathered-wood/">this stain</a>is packed in a relatively large can (3.78 liters) that will cover a large surface upon application.
Notably, Thompson&rsquo;s stain won&rsquo;t irritate your skin or stain your clothes on contact. It is easier to clean. You can also use this stain on a wooden deck, fence, siding, and gates.
Pros:</li>
<li>Tight sealant and waterproof agent</li>
<li>Prevent UV damage and resist mildew</li>
<li>Variety of colors  transparent to solid colors</li>
<li>Has advance polymers  withstand color fade</li>
<li>No thinning or primer needed before application</li>
<li>Dry to touch in 2 hours and one coat performance</li>
<li>Tough Industry Standard ASTM D-4446</li>
<li>Over 60years of service and large quantity  3.78 liters
Cons:</li>
<li>Unsuitable for indoor application</li>
<li>Can be poisonous if swallowed</li>
</ul>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Severally, clients complain of poor stains performance, whereas it&rsquo;s their problems in following the guidelines given during applications.
For a long lifespan, be keen to note the number of coats needed per the manufacturer&rsquo;s recommendation.
Before choosing the best stain for a Douglas fir door, it is vital to check the stain&rsquo;s quality, the quantity of the can, area of application, application procedures, whether the stain requires a primer or conditioner, surface application requirement as well as the drying period.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-stain-for-cedar-swing-set/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Stain for Cedar Swing Set</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-stain-for-pine/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Stain for Pine</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
