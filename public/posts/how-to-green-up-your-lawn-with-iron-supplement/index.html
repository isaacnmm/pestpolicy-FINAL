<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Green Up Your Lawn With Iron Supplement | Pest Policy</title>
<meta name="keywords" content="
   lawn-care, lawn, iron">


<meta name="description" content="Achieving a lush, deep green lawn is the dream of many homeowners. While nitrogen is typically the go-to nutrient for promoting vigorous growth and vibrant...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-green-up-your-lawn-with-iron-supplement/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-green-up-your-lawn-with-iron-supplement/">

 
<meta name="twitter:title" content="How to Green Up Your Lawn With Iron Supplement | Pest Policy" />


<meta name="twitter:description" content="Achieving a lush, deep green lawn is the dream of many homeowners. While nitrogen is typically the go-to nutrient for promoting vigorous growth and vibrant..." />
<meta property="og:title" content="How to Green Up Your Lawn With Iron Supplement | Pest Policy" />
<meta property="og:description" content="Achieving a lush, deep green lawn is the dream of many homeowners. While nitrogen is typically the go-to nutrient for promoting vigorous growth and vibrant..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-green-up-your-lawn-with-iron-supplement/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Green Up Your Lawn With Iron Supplement",
      "item": "http://localhost:1313/posts/how-to-green-up-your-lawn-with-iron-supplement/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Green Up Your Lawn With Iron Supplement | Pest Policy",
  "name": "How to Green Up Your Lawn With Iron Supplement",
  "description": "Achieving a lush, deep green lawn is the dream of many homeowners. While nitrogen is typically the go-to nutrient for promoting vigorous growth and vibrant...",
  "keywords": [
    "lawn-care", "lawn", "iron"
  ],
  "wordCount" : "1387",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-green-up-your-lawn-with-iron-supplement/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Green Up Your Lawn With Iron Supplement</h1>
    <div class="post-description">Achieving a lush, deep green lawn is the dream of many homeowners. While nitrogen is typically the go-to nutrient for promoting vigorous growth and vibrant...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/lawn-care/">Lawn-Care</a><a href="http://localhost:1313/tags/lawn/">Lawn</a><a href="http://localhost:1313/tags/iron/">Iron</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Achieving a lush, deep green <a href="/posts/10-essential-lawn-and-garden-tools-for-fall/">lawn</a> is the dream of many homeowners. While nitrogen is typically the go-to nutrient for promoting vigorous growth and vibrant color, sometimes your lawn needs a little extra help, especially when it looks a bit pale, yellowish, or simply lacks that rich, emerald hue. This is where <strong><a href="/posts/best-paint-for-wrought-iron-railings/">iron</a> supplements</strong> come into play. Iron, though a micronutrient, is absolutely vital for the physiological processes that give grass its healthy green color.</p>
<p>If your lawn isn&rsquo;t responding to nitrogen fertilization with the expected deep green, or if you notice uniform yellowing, particularly in new growth, an iron deficiency could be the culprit. Understanding how and when to apply iron can be a game-changer for your lawn&rsquo;s appearance.</p>
<h2 id="why-lawns-need-iron">Why Lawns Need Iron<a hidden class="anchor" aria-hidden="true" href="#why-lawns-need-iron">¶</a></h2>
<p>Iron plays a crucial role in several key functions within grass plants:</p>
<ul>
<li><strong>Chlorophyll Production:</strong> Iron is an essential component of chlorophyll, the green pigment responsible for photosynthesis. Without sufficient iron, grass cannot produce enough chlorophyll, leading to chlorosis (yellowing of the leaves).</li>
<li><strong>Enzyme Systems:</strong> It&rsquo;s a cofactor in various enzyme systems within the plant, aiding in metabolic processes and energy transfer.</li>
<li><strong>Nitrogen Uptake and Metabolism:</strong> Iron assists in the uptake and utilization of nitrogen, making nitrogen fertilizers more effective.</li>
</ul>
<p>Unlike nitrogen, which promotes growth and overall vigor, iron&rsquo;s primary visual impact is on color intensity. It doesn&rsquo;t necessarily make your grass grow faster or thicker, but it can dramatically enhance its greenness, giving it a vibrant, almost &ldquo;pop&rdquo; of color.</p>
<h2 id="types-of-iron-lawn-supplements">Types of Iron Lawn Supplements<a hidden class="anchor" aria-hidden="true" href="#types-of-iron-lawn-supplements">¶</a></h2>
<p>Iron supplements for lawns come in various forms, each with its own advantages and application methods:</p>
<ol>
<li>
<p><strong>Ferrous Sulfate (Iron Sulfate):</strong></p>
<ul>
<li><strong>Form:</strong> Typically a granular or crystalline powder.</li>
<li><strong>Application:</strong> Can be dissolved in water and applied as a liquid spray or spread as a dry granular product.</li>
<li><strong>Pros:</strong> Generally the most common and cost-effective form. Provides a quick green-up effect.</li>
<li><strong>Cons:</strong> Can be quickly &ldquo;tied up&rdquo; or oxidized in alkaline or high-pH soils, making it less available to plants over time. Requires careful application to avoid staining concrete/pavement.</li>
</ul>
</li>
<li>
<p><strong>Chelated Iron:</strong></p>
<ul>
<li><strong>Form:</strong> Often liquid, but also available in granular forms. The term &ldquo;chelated&rdquo; means the iron molecule is bonded to an organic molecule (a chelate) that protects it from reacting with other elements in the soil.</li>
<li><strong>Application:</strong> Primarily applied as a liquid spray, offering excellent foliar absorption.</li>
<li><strong>Pros:</strong> Highly effective across a wider range of soil pH levels, especially in alkaline soils where ferrous sulfate might struggle. Less prone to staining.</li>
<li><strong>Cons:</strong> More expensive than ferrous sulfate. The green-up effect might be slightly less immediate but can be more sustained.</li>
</ul>
</li>
<li>
<p><strong>Iron in Granular Fertilizers:</strong></p>
<ul>
<li><strong>Form:</strong> Many granular lawn fertilizers now include a percentage of iron as a micronutrient.</li>
<li><strong>Application:</strong> Spread using a broadcast or drop spreader.</li>
<li><strong>Pros:</strong> Convenient, as it&rsquo;s applied simultaneously with your regular fertilization. Less risk of direct staining since it&rsquo;s dry.</li>
<li><strong>Cons:</strong> The amount of iron might be lower than dedicated supplements, and its availability can still be limited in very high pH soils depending on the iron form used (e.g., non-chelated iron).</li>
</ul>
</li>
</ol>
<h2 id="how-to-apply-iron-lawn-supplements">How to Apply Iron Lawn Supplements<a hidden class="anchor" aria-hidden="true" href="#how-to-apply-iron-lawn-supplements">¶</a></h2>
<p>Proper application is key to effectiveness and avoiding issues like staining or burning.</p>
<h3 id="liquid-application-ferrous-sulfate-or-chelated-iron">Liquid Application (Ferrous Sulfate or Chelated Iron)<a hidden class="anchor" aria-hidden="true" href="#liquid-application-ferrous-sulfate-or-chelated-iron">¶</a></h3>
<ol>
<li><strong>Mix According to Directions:</strong> Always read the product label carefully for mixing ratios. Too strong a solution can burn your lawn.</li>
<li><strong>Use a Sprayer:</strong> A pump sprayer or hose-end sprayer is ideal for even coverage.</li>
<li><strong>Apply Evenly:</strong> Walk at a consistent pace, overlapping slightly to ensure uniform coverage.</li>
<li><strong>Water In (Sometimes):</strong> For ferrous sulfate, a light watering after application can help move it into the soil and off the grass blades, reducing staining risk. Chelated irons, especially those designed for foliar uptake, often recommend staying on the leaf for maximum absorption, so check the label.</li>
<li><strong>Beware of Staining:</strong> Iron, especially ferrous sulfate, will stain concrete, pavers, and other hard surfaces orange-brown. Always apply on a non-windy day, away from hardscapes, or use a sprayer shield. If any product lands on hard surfaces, rinse immediately and thoroughly.</li>
</ol>
<h3 id="granular-application-iron-sulfate-or-fertilizers-with-iron">Granular Application (Iron Sulfate or Fertilizers with Iron)<a hidden class="anchor" aria-hidden="true" href="#granular-application-iron-sulfate-or-fertilizers-with-iron">¶</a></h3>
<ol>
<li><strong>Use a Spreader:</strong> A broadcast spreader is best for large areas to ensure even distribution. A drop spreader offers more precision near hardscapes.</li>
<li><strong>Calibrate Your Spreader:</strong> Refer to the product label for recommended spreader settings to apply the correct amount.</li>
<li><strong>Apply Evenly:</strong> Apply in a crosshatch pattern for thorough coverage.</li>
<li><strong>Water In:</strong> Always water granular iron supplements in immediately after application. This helps move the iron into the soil and washes it off the grass blades, preventing potential burn and making it available to the roots.</li>
</ol>
<h2 id="when-to-apply-iron-to-lawns">When to Apply Iron to Lawns<a hidden class="anchor" aria-hidden="true" href="#when-to-apply-iron-to-lawns">¶</a></h2>
<p>Timing is important for optimal results and to minimize risk.</p>
<ul>
<li><strong>Growing Season:</strong> Apply iron during the active growing season of your grass type.
<ul>
<li><strong>Cool-Season Grasses:</strong> Spring and fall are ideal, when temperatures are moderate. Avoid application during the heat of summer.</li>
<li><strong>Warm-Season Grasses:</strong> Late spring through summer, during their peak growth.</li>
</ul>
</li>
<li><strong>Cooler Temperatures:</strong> Iron is best applied when temperatures are moderate (below 85�F/29�C). High heat combined with iron can increase the risk of burning the grass.</li>
<li><strong>Morning Application:</strong> Applying in the morning allows the grass blades to absorb the liquid iron before the sun gets too intense, and allows granular products to be watered in before the heat of the day.</li>
<li><strong>Avoid Drought Stress:</strong> Ensure your lawn is well-hydrated before applying iron. Never apply to a drought-stressed or dormant lawn.</li>
</ul>
<h2 id="signs-that-your-lawn-may-benefit-from-iron-supplements">Signs That Your Lawn May Benefit From Iron Supplements<a hidden class="anchor" aria-hidden="true" href="#signs-that-your-lawn-may-benefit-from-iron-supplements">¶</a></h2>
<p>Look for these visual cues that might indicate an iron deficiency:</p>
<ul>
<li><strong>Uniform Yellowing/Pale Green:</strong> The grass blades appear generally pale green or yellowish across the entire lawn, even if you&rsquo;ve recently applied nitrogen fertilizer.</li>
<li><strong>Interveinal Chlorosis (Advanced):</strong> While more common in broadleaf plants, in severe grass cases, the veins of the grass blade may remain green while the tissue between them turns yellow.</li>
<li><strong>New Growth Yellowing:</strong> Often, the newest grass blades will show signs of yellowing first, while older blades may retain some green.</li>
<li><strong>High Soil pH:</strong> If a soil test indicates alkaline soil (pH above 7.0), iron deficiency is more likely, as iron becomes less available in high pH conditions.</li>
<li><strong>Excessive Phosphorus:</strong> Too much phosphorus in the soil can also lock up iron, making it unavailable.</li>
</ul>
<h2 id="tips-and-tricks-for-iron-application">Tips and Tricks for Iron Application<a hidden class="anchor" aria-hidden="true" href="#tips-and-tricks-for-iron-application">¶</a></h2>
<ul>
<li><strong>Test a Small Area:</strong> If you&rsquo;re unsure about the product or application rate, test a small, inconspicuous area first to see the results and ensure no adverse reactions.</li>
<li><strong>Calibrate Your Sprayer/Spreader:</strong> For liquid applications, practice spraying with plain water to ensure even coverage. For granular spreaders, use the manufacturer&rsquo;s recommended settings and walk at a consistent speed.</li>
<li><strong>Clean Up Spills Immediately:</strong> If any granular or liquid product lands on concrete or other hardscapes, rinse it off immediately and thoroughly to prevent staining.</li>
<li><strong>Don&rsquo;t Over-Apply:</strong> More is not better with iron. Excessive iron can turn your grass a dark, almost black-green and can potentially lead to other nutrient imbalances. Stick to recommended rates.</li>
<li><strong>Combine with Nitrogen (Judiciously):</strong> For a truly dark green, some products combine a small amount of quick-release nitrogen with iron. This can provide a dramatic green-up, but ensure you&rsquo;re not over-fertilizing with nitrogen for your grass type and season.</li>
<li><strong>Consider a Soil Test:</strong> Before consistently applying iron, a soil test can confirm an actual iron deficiency and rule out other issues (like nitrogen deficiency or high pH) that might be causing yellowing.</li>
</ul>
<h2 id="potential-risks-and-precautions">Potential Risks and Precautions<a hidden class="anchor" aria-hidden="true" href="#potential-risks-and-precautions">¶</a></h2>
<p>While generally safe when used correctly, there are a few risks to be aware of:</p>
<ul>
<li><strong>Staining:</strong> As mentioned, ferrous sulfate can severely stain concrete, driveways, and other hard surfaces. Exercise extreme caution.</li>
<li><strong>Grass Burn:</strong> Over-application of any iron supplement, especially liquid forms or granular forms not watered in, can lead to temporary grass burn or blackening. Always follow label directions.</li>
<li><strong>Nutrient Imbalances:</strong> While rare, excessive iron application over a long period can potentially lead to deficiencies in other micronutrients like manganese or zinc. A balanced soil is key.</li>
<li><strong>Not a Cure-All:</strong> If your lawn is yellow due to a severe nitrogen deficiency, disease, insect damage, or drainage issues, iron alone won&rsquo;t solve the problem. Address underlying issues first.</li>
</ul>
<p>By understanding the role of iron, choosing the correct supplement type, and applying it properly, you can effectively enhance your lawn&rsquo;s color, transforming it into the vibrant, healthy green turf you desire. Always prioritize safe handling and follow product instructions for the best results.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-get-rid-of-wolf-spiders/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Get Rid Of Wolf Spiders</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-grow-azaleas/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Grow Azaleas</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
