<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Grub Killer for Lawns | Pest Policy</title>
<meta name="keywords" content="
   ants, best, grub">


<meta name="description" content="Are you looking for the�best">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-grub-killer-for-lawns/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-grub-killer-for-lawns/">

 
<meta name="twitter:title" content="Best Grub Killer for Lawns | Pest Policy" />


<meta name="twitter:description" content="Are you looking for the�best" />
<meta property="og:title" content="Best Grub Killer for Lawns | Pest Policy" />
<meta property="og:description" content="Are you looking for the�best" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-grub-killer-for-lawns/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Grub Killer for Lawns",
      "item": "http://localhost:1313/posts/best-grub-killer-for-lawns/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Grub Killer for Lawns | Pest Policy",
  "name": "Best Grub Killer for Lawns",
  "description": "Are you looking for the�best",
  "keywords": [
    "ants", "best", "grub"
  ],
  "wordCount" : "1542",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-grub-killer-for-lawns/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Grub Killer for Lawns</h1>
    <div class="post-description">Are you looking for the�best</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/ants/">Ants</a><a href="http://localhost:1313/tags/best/">Best</a><a href="http://localhost:1313/tags/grub/">Grub</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Are you looking for the�best
<a href="https://www.canr.msu.edu/news/how_to_choose_and_when_to_apply_grub_control_products_for_your_lawn">grub</a>
killer for lawns? Grubs in the garden can be a real pain.�However, it is a widespread problem. People with gardens know how difficult it is to deal with grubs.</p>
<p>However, there are two effective ways of dealing with them: pesticides and natural methods.
Pesticides come in liquid or granular forms and are also referred to as &lsquo;curative&rsquo; products. Read Also:
Yard Spray for Ticks Reviewed
.</p>
<h2 id="reviews-top7-best-grub-killer-for-lawns-in-2025">Reviews: Top�7 Best Grub Killer for Lawns in 2025<a hidden class="anchor" aria-hidden="true" href="#reviews-top7-best-grub-killer-for-lawns-in-2025">¶</a></h2>
<h3 id="1-bayer-advanced-24-hour-grub-quick-killer-plus"><a href="https://www.amazon.com/dp/B001H1GQ54/?tag=p-policy-20">1. Bayer Advanced 24-Hour Grub Quick Killer Plus</a><a hidden class="anchor" aria-hidden="true" href="#1-bayer-advanced-24-hour-grub-quick-killer-plus">¶</a></h3>
<p>Bayer has two main products that it offers to deal with grubs. One is in granular form, and the other is in the form of a spray. Both of these are known to kill grubs within a day of application on an area of 5000 square feet.</p>
<p>Care should be taken when using this product. It should not be used on the plants in your kitchen yard or near plants that are used for consumption purposes.
It can kill a lot of insects like ants, chinch bugs, mole crickets, and sowbugs alongside grubs. So, by using this product, you can make sure that your lawn stays insect-free.
For the granular one, you need to apply it by making use of a spreader. Start off with the borders of your lawn and then move in towards the center.
Walk evenly in the lawn so that you can spread it out at even intervals. After application, you should water thoroughly.
Pros:</p>
<ul>
<li>Works effectively in under 24 hours</li>
<li>Works on a lot of different kinds of pests</li>
</ul>
<p>Cons:</p>
<ul>
<li>Might need more than one application for good results</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=VfvbjZz1W6Y">https://www.youtube.com/watch?v=VfvbjZz1W6Y</a>
Read Also:
<a href="https://pestpolicy.com/%5Bbest%5D(/posts/best-ant-killer-for-yard/)-bug-zapper-for-mosquitoes/">Bug Zapper for Mosquitoes</a></p>
<h3 id="2-scotts-grubex---grub-killer--preventer---5000-sq-feet"><a href="https://www.amazon.com/dp/B0050DV4ZW/?tag=p-policy-20">2. Scotts GrubEx - Grub Killer &amp; Preventer - 5000 sq feet</a><a hidden class="anchor" aria-hidden="true" href="#2-scotts-grubex---grub-killer--preventer---5000-sq-feet">¶</a></h3>
<p>This is an excellent product that you can use to get rid of the grubs in your lawn in the best possible way. It can kill white grubs and Japanese beetle larvae.</p>
<p>Applying it once can help you get rid of grubs for four entire months. To get the most out of this product, you should apply it in the spring season or the early summer months.
By making use of this product, you can get rid of the grubs in your garden without actually having to damage your lawn in any way. The ideal way to use this product is first to set and fill the spreader.
After that, slowly apply this to your dry law. For activation, you need to water thoroughly so that one-inch of your lawn is soaked. After that, you can clean the mess and sweep away any extra product on the property.
Pros:</p>
<ul>
<li>One application can do the job well.</li>
<li>Does not cause any root damage</li>
<li>Kills grubs when they are young, thus preventing turf damage</li>
<li>Can kill 25% more grubs types than other products</li>
</ul>
<p>Cons:</p>
<ul>
<li>Is only compatible with Scotts Spreaders</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=dtxS-T7oN0M">https://www.youtube.com/watch?v=dtxS-T7oN0M</a>
Related:
Best Fogger for Spiders</p>
<h3 id="3-sevin-ready-to-use-dust-pack-containing-5-carbaryl"><a href="https://www.amazon.com/dp/B006O8OWFG/?tag=p-policy-20">3. Sevin Ready-To-Use Dust Pack Containing 5% Carbaryl</a><a hidden class="anchor" aria-hidden="true" href="#3-sevin-ready-to-use-dust-pack-containing-5-carbaryl">¶</a></h3>
<p>This is an excellent product for killing grubs. And not only that, it can kill over 65 garden insects.
You can use this product without the fear of damaging the vegetables and fruits in your garden. It is effortless and convenient to use.</p>
<p>All you need to do is shake it and then apply a skinny layer onto your garden. You don&rsquo;t even need to add in any water or mix it to get the job done. It can also kill Japanese beetles.
If you&rsquo;re looking for quick service, you&rsquo;ll be pleased to know that this product can make your garden insect-free in the least amount of time.�While the product is safe for plants, you should use gloves as a precaution.
In case you have lettuce in your garden, and you have used this product on them, then you need to make sure that you wash the lettuce thoroughly and dont consume it for at least three days. Users of this product have rated it is a five-star product with a rating of 73%.
Pros:</p>
<ul>
<li>Can kill over 65 insects</li>
<li>Can be used in home gardens where fruits and vegetables are planted</li>
<li>Extremely easy and convenient to use</li>
</ul>
<p>Cons:</p>
<ul>
<li>One application will not give you the desired results</li>
</ul>
<p>Read Also:
Are Spiny Orb-Weaver Spiders Poisonous?</p>
<h3 id="4-pest-control-concentrate-by-sevin-1-gallon"><a href="https://www.amazon.com/dp/B000RNEYBG/?tag=p-policy-20">4. Pest Control Concentrate By Sevin, 1-Gallon</a><a hidden class="anchor" aria-hidden="true" href="#4-pest-control-concentrate-by-sevin-1-gallon">¶</a></h3>
<p>This is a really good product that you can use for the effective treatment of grubs.
It is made of 22.5% carbaryl, which means that it is slightly more expensive than other products that are used for grub treatment.</p>
<p>However, this product can deal with many more types of insects. It is capable of killing up to one hundred different insect species.
You can use it in your garden even if you have fruits and vegetables growing there. However, it is not meant for use indoors. Users of this product have given it a rating of 77%.
To make use of this product, you need to mix it in water. Once you do this, you will have 86 gallons of treatment, which can cover two acres!
If your goal is to cover an expansive area all at once, then this treatment is the best treatment product for you. Given the fact that this is more expensive than other products, it is economical if you want to cover a vast area.
Pros:</p>
<ul>
<li>Can kill over 100 insect species</li>
<li>86 gallons of treatment means that you can cover a large area</li>
<li>Easy to use</li>
</ul>
<p>Cons:</p>
<ul>
<li>More expensive than other products on the market</li>
</ul>
<p>Related:
<a href="https://pestpolicy.com/best-fire-ant-killer/">Best Fire Ant Killer</a></p>
<h3 id="5-grub-control-mix-and-pest-controller-by-st-gabriel-organics"><a href="https://www.amazon.com/dp/B000BWY878/?tag=p-policy-20">5. Grub Control Mix and Pest Controller by St. Gabriel Organics</a><a hidden class="anchor" aria-hidden="true" href="#5-grub-control-mix-and-pest-controller-by-st-gabriel-organics">¶</a></h3>
<p>This is a natural grub killer, and hence, it is more expensive too. It is highly recommended and can give incredible results if used in combination with nematodes.</p>
<p>You can make use of this product in any weather. But, the fact of the matter is that this product can only be used to get rid of Japanese beetle grubs. It can cover a huge area of 7000 square feet.
When you use this product, you won&rsquo;t have to worry about any grubs for the next 15 years. This product is the best grub killer for your lawn if you are looking to get naturally rid of grubs. It is definitely worth the price because it can cover a large area.
Pros:</p>
<ul>
<li>Covers a large area</li>
<li>It can help get rid of pests for 15 years. In best-case scenarios, it can get rid of pets for up to 20 years.</li>
<li>Easy to use</li>
</ul>
<p>Cons:</p>
<ul>
<li>Much more expensive than other products on the market</li>
<li>Only works well for Japanese beetles</li>
</ul>
<p>Read Also:
Weed Killer for Flower Beds</p>
<h3 id="6-garden-safe"><a href="https://www.amazon.com/dp/B004QAWGIO/?tag=p-policy-20">6. Garden Safe&rsquo;s Neem Oil Extract (HG-83179)</a><a hidden class="anchor" aria-hidden="true" href="#6-garden-safe">¶</a></h3>
<p>This is also a natural treatment that you can get at a discounted price. It is really efficient since it makes use of three products to ensure that you get rid of the grubs.</p>
<p>It makes use of a miticide, an insecticide, and a fungicide. When using this product, you should make sure that you don&rsquo;t use it on fresh plants that you intend to use for consumption. That can be dangerous for you.
For ideal results, it is recommended that you use this product in the early hours of the morning, or you can even apply it late at night. You can use it once a week or once every two weeks to achieve the best results.
Adding to that, almost 66% of people who used this product gave it a rating of five stars, which shows that customers are happy with the results they see.
Pros:</p>
<ul>
<li>Natural method</li>
<li>Easy to use</li>
</ul>
<p>Cons:</p>
<ul>
<li>Slightly expensive</li>
</ul>
<p>Read Also:
Get Rid Of Ants in Car (Simple Steps)</p>
<h3 id="7-dr-pye"><a href="https://www.amazon.com/dp/B000MRD5JO/?tag=p-policy-20">7. Dr. Pye&rsquo;s Scanmask  A Grub Killer with Beneficial Nematodes</a><a hidden class="anchor" aria-hidden="true" href="#7-dr-pye">¶</a></h3>
<p>This is a beneficial product for your garden that can help kill a lot of other insects as well. After using this product, you will be able to see results within 3 to 4 months, because this is a natural product.</p>
<p>It is also extremely environmentally-friendly. It is known to have the ability to kill over 23 species of insects.�The ideal way to use this product is to let the nematodes make their way into the soil of your garden.
However, you can even spray them. Use whichever method is most suitable for you. Once this product is in the ground, the nematodes themselves will kill the grubs.
To make sure that this product works well and gives the desired results, storing it in a refrigerator is the way to go.
Pros:</p>
<ul>
<li>Can kill grubs in a natural way</li>
<li>Environment-friendly</li>
<li>Kills over 23 species of insects</li>
<li>Extremely easy to use</li>
</ul>
<p>Cons:</p>
<ul>
<li>Takes a while for you to get rid of the grubs (approximately 4 months)</li>
</ul>
<p>Read Also:
<a href="https://pestpolicy.com/best-ant-killer-for-yard/">Ant Killer for Yard</a></p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>The product that you buy for the treatment of grubs in your lawn depends on your preference.
It depends on whether you want to go for a pesticide treatment or a natural treatment.
Once you pick any of the products listed above, you can make sure that your garden stays grub free for the longest time.</p>
<h2 id="sources">Sources:<a hidden class="anchor" aria-hidden="true" href="#sources">¶</a></h2>
<ol>
<li><a href="https://extension.unh.edu/resource/grub-control-video">Grub Control - Extension</a></li>
<li><a href="https://hortnews.extension.iastate.edu/2008/9-10/grubs.html">Is it too late to treat for white grubs?  Horticulture and Home</a></li>
<li><a href="https://static1.squarespace.com/static/50a39d4ce4b0f822f291399c/t/56b385743c44d86cf333fd78/1454605687028/Grub+Control.pdf">Grub Control - Blue Grass Enterprises</a></li>
</ol>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-gravity-feed-spray-guns/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Gravity Feed Spray Guns</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-gutter-cleaning-services/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Gutter Cleaning Services</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
