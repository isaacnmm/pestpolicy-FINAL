<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Clean a Bathroom Exhaust Vent Fan | Pest Policy</title>
<meta name="keywords" content="
   bathroom-repairs, bathroom, exhaust">


<meta name="description" content="A clean bathroom exhaust fan is the unsung hero of your homequietly whisking away steam, odors, and moisture to prevent mold, mildew, and stale air. Yet mo...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-clean-a-bathroom-exhaust-vent-fan/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-clean-a-bathroom-exhaust-vent-fan/">

 
<meta name="twitter:title" content="How to Clean a Bathroom Exhaust Vent Fan | Pest Policy" />


<meta name="twitter:description" content="A clean bathroom exhaust fan is the unsung hero of your homequietly whisking away steam, odors, and moisture to prevent mold, mildew, and stale air. Yet mo..." />
<meta property="og:title" content="How to Clean a Bathroom Exhaust Vent Fan | Pest Policy" />
<meta property="og:description" content="A clean bathroom exhaust fan is the unsung hero of your homequietly whisking away steam, odors, and moisture to prevent mold, mildew, and stale air. Yet mo..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-clean-a-bathroom-exhaust-vent-fan/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Clean a Bathroom Exhaust Vent Fan",
      "item": "http://localhost:1313/posts/how-to-clean-a-bathroom-exhaust-vent-fan/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Clean a Bathroom Exhaust Vent Fan | Pest Policy",
  "name": "How to Clean a Bathroom Exhaust Vent Fan",
  "description": "A clean bathroom exhaust fan is the unsung hero of your homequietly whisking away steam, odors, and moisture to prevent mold, mildew, and stale air. Yet mo...",
  "keywords": [
    "bathroom-repairs", "bathroom", "exhaust"
  ],
  "wordCount" : "1210",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-clean-a-bathroom-exhaust-vent-fan/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Clean a Bathroom Exhaust Vent Fan</h1>
    <div class="post-description">A clean bathroom exhaust fan is the unsung hero of your homequietly whisking away steam, odors, and moisture to prevent mold, mildew, and stale air. Yet mo...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/bathroom-repairs/">Bathroom-Repairs</a><a href="http://localhost:1313/tags/bathroom/">Bathroom</a><a href="http://localhost:1313/tags/exhaust/">Exhaust</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>A clean <a href="/posts/replacing-a-bathroom-exhaust-fan/">bathroom</a> exhaust fan is the unsung hero of your homequietly whisking away steam, odors, and moisture to prevent mold, mildew, and stale air. Yet most homeowners forget about this hardworking appliance until it starts rattling, smelling musty, or stops working altogether.</p>
<p>The good news? Cleaning your bathroom exhaust fan is a
<strong>simple, 30-minute task</strong>
that can significantly improve your bathroom&rsquo;s air quality and extend the life of your fan. Follow this comprehensive guide to do it rightthe first time.</p>
<h2 id="why-cleaning-your-exhaust-fan-matters"><strong>Why Cleaning Your Exhaust Fan Matters�</strong><a hidden class="anchor" aria-hidden="true" href="#why-cleaning-your-exhaust-fan-matters">¶</a></h2>
<p>Before we dive in, lets talk about why this maintenance task is so important for your bathroom:</p>
<p><strong>Prevents mold &amp; mildew buildup</strong>
When your exhaust fan is clogged with dust and grime, it cant effectively remove steam and moisture from your bathroom. This trapped humidity creates the perfect environment for mold and mildew to grow on walls, ceilings, and even in the fan itself.</p>
<p><strong>Improves air quality significantly</strong>
Over time, your fan collects dust, pet dander, skin cells, and even bacteria. When the fan runs, it can recirculate these particles instead of removing them, which is especially problematic for allergy sufferers.</p>
<p><strong>Extends the fans lifespan dramatically</strong>
A motor struggling against layers of dust has to work much harder. This extra strain can cause premature wear, leading to costly replacements much sooner than necessary.</p>
<p><strong>Eliminates strange noises</strong>
That annoying rattling, humming, or squeaking youve been hearing? Its often just dust buildup causing imbalance in the fan blades or debris rubbing against moving parts.</p>
<p><strong>Maintains proper ventilation efficiency</strong>
A clean fan removes odors faster and prevents that lingering damp towel smell in your bathroom by ensuring proper air exchange.</p>
<h2 id="what-youll-need-for-the-job"><strong>What Youll Need for the Job</strong><a hidden class="anchor" aria-hidden="true" href="#what-youll-need-for-the-job">¶</a></h2>
<p>Gathering these simple tools beforehand will make the process smooth and efficient:</p>
<ul>
<li><strong>Screwdriver (Phillips or flathead)</strong> Check your fan cover first to see which type youll need. Most modern fans use Phillips head screws.</li>
<li><strong>Vacuum with brush attachment</strong> The brush helps dislodge dust without scratching surfaces. A handheld dustbuster works well for hard-to-reach spots.</li>
<li><strong>Microfiber cloths and a soft sponge</strong> These prevent scratches on plastic surfaces while effectively removing grime.</li>
<li><strong>Mild dish soap or all-purpose cleaner</strong> Harsh chemicals can damage plastic components, so stick to gentle solutions.</li>
<li><strong>Old toothbrush or small detailing brush</strong> Perfect for scrubbing stubborn grime from fan blades and tight crevices.</li>
<li><strong>White vinegar (optional)</strong> Excellent for dissolving mineral deposits and killing mildew without harsh fumes.</li>
<li><strong>Step ladder or sturdy stool</strong> Essential for safely reaching ceiling-mounted fans. Always ensure its stable before climbing.
<em>(Helpful Extras: Replacement filters if your model uses them, nitrile gloves if youre sensitive to dust, and a headlamp or flashlight for better visibility.)�</em></li>
</ul>
<h2 id="step-by-step-cleaning-process"><strong>Step-by-Step Cleaning Process</strong><a hidden class="anchor" aria-hidden="true" href="#step-by-step-cleaning-process">¶</a></h2>
<h3 id="step-1-turn-off-the-power-critical-safety-step"><strong>Step 1: Turn Off the Power (Critical Safety Step)</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-turn-off-the-power-critical-safety-step">¶</a></h3>
<p><strong>This isnt just a suggestion</strong>
working on an energized electrical fixture is dangerous.</p>
<ul>
<li>Locate your homes circuit breaker panel and switch off the bathrooms power. If youre unsure which breaker controls the fan, turn off the main power to be safe.</li>
<li>For added precaution, use a non-contact voltage tester near the fan to confirm power is off before touching any components.</li>
<li>If your fan has a light component, turn the wall switch off and put tape over it to prevent accidental activation.
<em>(Pro Safety Tip: Tell household members youre working on the fan so no one accidentally restores power mid-cleaning.)</em></li>
</ul>
<h3 id="step-2-remove-the-cover-properly"><strong>Step 2: Remove the Cover Properly</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-remove-the-cover-properly">¶</a></h3>
<p>Fan covers typically attach in one of these ways:</p>
<p><strong>Spring-loaded clips (most common)</strong>
Look for small metal or plastic tabs on opposite sides. Gently squeeze them together while pulling the cover downward.</p>
<p><strong>Screw-mounted covers</strong>
These will have 2-4 visible screws, usually at the corners. Use the appropriate screwdriver and place screws in a small container so they dont get lost.</p>
<p><strong>Paint-sealed covers (in older homes)</strong>
If the cover seems stuck, carefully run a utility knife around the edge to break the paint seal before prying gently with a flathead screwdriver.
<em>(Helpful Hint: Take a quick smartphone photo of the wiring before disconnecting anything if your fan has integrated lighting.)</em></p>
<h3 id="step-3-thoroughly-vacuum-all-components"><strong>Step 3: Thoroughly Vacuum All Components</strong><a hidden class="anchor" aria-hidden="true" href="#step-3-thoroughly-vacuum-all-components">¶</a></h3>
<p>Proper dust removal involves attention to several key areas:</p>
<ul>
<li><strong>Fan blades</strong> Hold the vacuum nozzle close while slowly rotating each blade to capture all dust. Missed dust here causes imbalance and noise.</li>
<li><strong>Motor housing</strong> Carefully vacuum around the central motor unit, being cautious not to bend any small wires or dislodge connections.</li>
<li><strong>Vent opening</strong> Insert the vacuum hose as far as possible into the duct to remove lint and debris that could obstruct airflow.</li>
<li><strong>Cover/grille</strong> Pay special attention to the backside of the cover where dust accumulates in the protective grid pattern.
<em>(For Stubborn Dust: Use a dry paintbrush to loosen compacted dust before vacuuming for more effective removal.)</em></li>
</ul>
<h3 id="step-4-deep-clean-all-surfaces"><strong>Step 4: Deep Clean All Surfaces</strong><a hidden class="anchor" aria-hidden="true" href="#step-4-deep-clean-all-surfaces">¶</a></h3>
<p>Different components require specific cleaning approaches:
<strong>For Plastic/Metal Covers:</strong></p>
<ol>
<li>Fill a sink or basin with warm water and 1-2 drops of dish soap.</li>
<li>Submerge the cover and let soak for 5-10 minutes to loosen grime.</li>
<li>Gently scrub with a soft sponge, paying extra attention to greasy buildup around the edges.</li>
<li>For tough stains, make a paste of baking soda and water and scrub with an old toothbrush.</li>
<li>Rinse thoroughly with clean water and dry completely with a microfiber cloth.
<strong>For Fan Blades:</strong></li>
<li>Dampen a microfiber cloth with your cleaning solution.</li>
<li>Wipe each blade carefully from base to tip, being careful not to bend them.</li>
<li>For caked-on grime, use a toothbrush dipped in vinegar to scrub gently.</li>
<li>Immediately dry all surfaces to prevent moisture damage to the motor.
<strong>For Mildew Treatment:</strong></li>
<li>Mix equal parts white vinegar and water in a spray bottle.</li>
<li>Lightly mist affected areas and let sit for 5 minutes.</li>
<li>Wipe clean with a damp cloth  the acetic acid in vinegar kills mold spores naturally.</li>
<li>For severe cases, use a diluted bleach solution (1 part bleach to 10 parts water) but ensure proper ventilation.
<em>(Important Note: Never spray liquids directly into the motor housing or electrical components  always apply cleaner to your cloth first.)</em></li>
</ol>
<h3 id="step-5-inspect-and-clean-the-ductwork"><strong>Step 5: Inspect and Clean the Ductwork</strong><a hidden class="anchor" aria-hidden="true" href="#step-5-inspect-and-clean-the-ductwork">¶</a></h3>
<p>Proper duct maintenance prevents bigger issues:</p>
<ul>
<li>**Visual Inspection:**Shine a bright flashlight into the duct opening. You should see clear passage  if not, theres likely obstruction.</li>
<li>**Surface Cleaning:**Use your vacuums hose attachment to remove visible dust and debris as far as you can reach.</li>
<li>**Deep Cleaning Signs:**If you notice any of these, consider professional duct cleaning:Visible mold growth (black/green spots)Pest droppings or nesting materialsHeavy dust accumulation beyond arms reachNoticeable reduction in airflow even after cleaning</li>
<li>Visible mold growth (black/green spots)</li>
<li>Pest droppings or nesting materials</li>
<li>Heavy dust accumulation beyond arms reach</li>
<li>Noticeable reduction in airflow even after cleaning
<em>(Duct Tape Check: While youre there, ensure the duct connection is secure  loose ducts vent moist air into walls, causing hidden damage.)</em></li>
</ul>
<h3 id="step-6-reassemble-and-test-operation"><strong>Step 6: Reassemble and Test Operation</strong><a hidden class="anchor" aria-hidden="true" href="#step-6-reassemble-and-test-operation">¶</a></h3>
<p>Putting everything back together correctly ensures optimal performance:</p>
<ol>
<li>Confirm all components are completely dry before reassembly.</li>
<li>If your fan has a removable filter, insert a fresh one now.</li>
<li>Carefully align the cover with the mounting points  dont force it.</li>
<li>Secure all screws or clips firmly but dont overtighten.</li>
<li>Restore power at the circuit breaker.</li>
<li>Test the fan at multiple speed settings (if variable) to ensure smooth operation.
<em>(Post-Cleaning Check: Listen for any new unusual sounds  consistent noise after cleaning may indicate bearing wear needing professional attention.)</em></li>
</ol>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-choose-a-riding-lawn-mower/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Choose a Riding Lawn Mower</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-clean-a-deck-before-staining/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Clean a Deck Before Staining</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
