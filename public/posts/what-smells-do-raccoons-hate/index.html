<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>What Smells Do Raccoons Hate | Pest Policy</title>
<meta name="keywords" content="
   guide, raccoon">


<meta name="description" content="You don&#39;t want raccoons digging up your yard or tearing apart your house or garbage can, but you also don&#39;t like the idea of killing them.">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/what-smells-do-raccoons-hate/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/what-smells-do-raccoons-hate/">

 
<meta name="twitter:title" content="What Smells Do Raccoons Hate | Pest Policy" />


<meta name="twitter:description" content="You don&#39;t want raccoons digging up your yard or tearing apart your house or garbage can, but you also don&#39;t like the idea of killing them." />
<meta property="og:title" content="What Smells Do Raccoons Hate | Pest Policy" />
<meta property="og:description" content="You don&#39;t want raccoons digging up your yard or tearing apart your house or garbage can, but you also don&#39;t like the idea of killing them." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/what-smells-do-raccoons-hate/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "What Smells Do Raccoons Hate",
      "item": "http://localhost:1313/posts/what-smells-do-raccoons-hate/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "What Smells Do Raccoons Hate | Pest Policy",
  "name": "What Smells Do Raccoons Hate",
  "description": "You don't want raccoons digging up your yard or tearing apart your house or garbage can, but you also don't like the idea of killing them.",
  "keywords": [
    "guide", "raccoon"
  ],
  "wordCount" : "1708",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/what-smells-do-raccoons-hate/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">What Smells Do Raccoons Hate</h1>
    <div class="post-description">You don&#39;t want raccoons digging up your yard or tearing apart your house or garbage can, but you also don&#39;t like the idea of killing them.</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/guide/">Guide</a><a href="http://localhost:1313/tags/raccoon/">Raccoon</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>You don&rsquo;t want raccoons digging up your yard or tearing apart your house or garbage can, but you also don&rsquo;t like the idea of killing them.</p>
<ul>
<li>There are a lot of repellents that claim they will<a href="https://pestpolicy.com/how-to-get-rid-of-raccoons/">keep away raccoons</a>, but what smells do Raccoons hate? What do animals respond to most strongly?
**Answer: In brief, raccoons hate irritating smells like those from Epsom salt, peppermint oil, garlic, onion, and hot pepper. **
**Also, real or synthetic scents of predator urine will repel raccoons. **
[amazon bestseller=&ldquo;Best Raccoons Repellents&rdquo; items=&ldquo;2&rdquo; template=&ldquo;table&rdquo;]</li>
</ul>
<h2 id="what-problems-will-raccoons-bring-to-your-property">What Problems Will Raccoons Bring to Your Property?<a hidden class="anchor" aria-hidden="true" href="#what-problems-will-raccoons-bring-to-your-property">¶</a></h2>
<p>Raccoons are hardy and adaptable mammals that thrive around homes where they have great access to shelter and food - they&rsquo;ll also transmit diseases like
<a href="https://www.addl.purdue.edu/newsletters/1997/fall/%5Braccoon%5D(/posts/how-to-get-rid-of-raccoons/).shtml">Leptospirosis</a>
.</p>
<p>The sense of smell is the most important sense that raccoons have. Also, their hands are small, but they&rsquo;re strong enough to rummage your garbage bins.</p>
<p>So, if you dont get rid of the raccoons quickly, a couple more problems arise:</p>
<ol>
<li><strong>Female raccoons may enter your house, attic, or chimney to give birth</strong>(fast reproduction), and they will leave feces in every nook.</li>
<li>**They will leave feces on the floors **of your house, attic, yard, or swimming pool - these are smells and problems we&rsquo;d want to avoid - just as we dowith geese.</li>
<li>They&rsquo;ll rummage the garbage cans to find food, and they&rsquo;ll also tear down garden shrubs for berries, birdseed, and pet food -<strong>leaving a huge mess</strong></li>
<li><strong>Raccoons will prey on your pets</strong>such as chickens, fish, as well as your birds and ducks.
Other problems that you may be experiencing with raccoons include loud barking and howling in the evening hours, invading your home for food, and leaving fecal droppings on the ground or your structures.
*With that said: *
*Some scents are documented to be great as turning off raccoons from different spaces such as your home. *</li>
</ol>
<ul>
<li>*But these *<em>scents and smells may not be reliable over the long term since they need to be applied regularly and remain at a strong level in the area where it is desired that raccoons do not go.</em>
**If the raccoon problem has gotten out of hand, and your property, humans, and pets - you can **
<a href="https://pestpolicy.com/pest-control-near-me/"><strong>check for pest exterminators near you</strong></a>
** and you&rsquo;ll be assisted. **</li>
</ul>
<h2 id="what-smells-do-raccoons-hate---the-7-scents-that-repel-raccoons">What Smells Do Raccoons Hate - The 7 Scents That Repel Raccoons<a hidden class="anchor" aria-hidden="true" href="#what-smells-do-raccoons-hate---the-7-scents-that-repel-raccoons">¶</a></h2>
<h3 id="scent-1-sprinkle-hot-pepper">Scent 1: Sprinkle Hot Pepper<a hidden class="anchor" aria-hidden="true" href="#scent-1-sprinkle-hot-pepper">¶</a></h3>
<p>Raccoons rely on their sense of smell to find food. One of the most common scents that are used as a repellant for raccoons is hot peppers.</p>
<p>Although they don&rsquo;t actually have to be fresh - many people will dry and grind their own peppers at home, which you can then sprinkle around your garden or other areas that would deter these animals from coming in contact with them.</p>
<p>In addition, a lot of these are mixed with other scents such as garlic or red pepper flakes in order to make the smell even stronger and more effective.</p>
<p>But if this sounds like too much work, there are also products available on sites such as Amazon, which helps make it easy enough to buy what you need without having to prepare it on your own.</p>
<p>I recommend the Cayenne Pepper Powder that has 90,000 heat units to repel the raccoons.</p>
<ul>
<li>I bought this to get rid of raccoons, opossums, and<a href="https://pestpolicy.com/best-gopher-traps/">gophers</a>that were getting into my yard. It worked in repelling the raccoons and it is safe.
The only downside is that hot pepper irritates the raccoons&rsquo; and such animals&rsquo; sense of smell, but the scent will diminish after a while.</li>
</ul>
<p>Applying hot pepper in the places where raccoons are most likely to find food will keep them away for a few days - so you must re-apply the hot pepper.</p>
<h3 id="scent-2-use-pepper--onion">Scent 2: Use Pepper + Onion<a hidden class="anchor" aria-hidden="true" href="#scent-2-use-pepper--onion">¶</a></h3>
<p>You can make your own mixture by combining pepper and onion. It is important to use fresh ingredients, as old spices will not be potent enough for the raccoons to notice it.</p>
<p>Hot peppers are often an effective repellent for raccoons, but perhaps theyre not tough enough to keep those pesky intruders out of your yard.</p>
<ul>
<li>To make sure youre really making the most of their scent-based deterrents, combine onion and hot peppers in a 50:50 ratio. Simmer them together over boiling water and sprinkle around.
This mixture of ingredients makes for a nasty concoction that will anger raccoons&rsquo; sense of smell while releasing an awful odor that may ward them off.</li>
<li>But it also requires a re-application a minimum of twice a week as the pepper-onion smell will fade within days.
So, the pepper + onion smell will repel the raccoons and other pests.</li>
</ul>
<h3 id="scent-3-peppermint-oil">Scent 3: Peppermint Oil<a hidden class="anchor" aria-hidden="true" href="#scent-3-peppermint-oil">¶</a></h3>
<p>If you&rsquo;re looking for an affordable option to keep raccoons out of your garden this is our favorite spray made with peppermint essential oil that smells like Christmas!</p>
<p>The peppermint essential oil is unique because it has a natural repellent property besides being used in different industries.</p>
<p>The peppermint essential oil has a strong scent that is repellent to raccoons and other pests.</p>
<ul>
<li>It also comes in an all-natural liquid form, which can be diluted with water for use as a spray or mixed into another medium such as cooking oils to create your own homemade pest deterrent!
I recommend you purchase Rodent Sheriff Peppermint as it&rsquo;ll repel raccoons and other bugs such as roaches and mice. You can spray it on trash cans, sheds, attics, kitchens, basements, and Garages.</li>
<li>I got my package on Saturday and just finished spraying down my car. Rats ate along the side of it, so I wanted to keep them away before they could do more damage.</li>
<li>Stink stuff like this was supposed to work but it never has before. Well, guess what? This time around, rats never bothered me!</li>
<li>I sprayed a lot of Rodent Sheriff Peppermint because there must have been quite a few rodents living in that old car, but not anymore!</li>
</ul>
<h3 id="scent-4-use-epsom-salt">Scent 4: Use Epsom Salt<a hidden class="anchor" aria-hidden="true" href="#scent-4-use-epsom-salt">¶</a></h3>
<p>Epsom salt is a useful solution for creating an environment that raccoons will choose to avoid - besides being a great fertilizer for yards and gardens.</p>
<p>Sprinkle the Epsom salt over a surface where raccoons frequently come to forage.</p>
<p>Epsom salts are inexpensive and can be purchased at most grocery stores or pharmacies.</p>
<ul>
<li>It is often used as an ingredient in fertilizer and bath salts, so if you would like more information about how much Epsom salt to use or other methods on how best to apply this solution check your local resources!
Here&rsquo;s the secret to keeping raccoons out of your garden: scatter the Epsom salts around and they will stop raccoons in their tracks.</li>
</ul>
<p>To prevent these critters from sniffing out rubbish bins and food left outside in your yard, sprinkle Epsom salt around the edges so they will have to find their next meal elsewhere.</p>
<h3 id="scent-5-eviction-fluid">Scent 5: Eviction Fluid<a hidden class="anchor" aria-hidden="true" href="#scent-5-eviction-fluid">¶</a></h3>
<p>To evict a female raccoon,
<a href="https://digitalcommons.unl.edu/icwdm_wdmconfproc/173/">scientists discovered</a>
that the smell of male urine, or what we call Eviction Fluid (EF), is the solution.</p>
<p>Eliminating nursing raccoons from an area can be difficult if they have found a good spot to raise their young ones and establish their territory.</p>
<ul>
<li>
<p>EF gives off a strong scent and lasts for weeks after application on hard surfaces like concrete, asphalt, wood, plastic decking, etc., so female raccoons will not return once displaced with this product!</p>
</li>
<li>
<p>Eviction fluid is a human safe, humane and effective way to repel Raccoons from your property.</p>
</li>
<li>
<p>Once applied it will create a noxious odor for raccoons which they find intolerable so as soon as they detect this smell, theyll be gone!</p>
</li>
</ul>
<p>Apply that Eviction fluid in the attic and chimney as these are the areas that the nursing raccoon will hide their babies. Thus, the female raccoon will escape the strong &ldquo;male raccoon&rdquo; scent.</p>
<h3 id="scent-6-use-predator-urine">Scent 6: Use Predator Urine<a hidden class="anchor" aria-hidden="true" href="#scent-6-use-predator-urine">¶</a></h3>
<p>Raccoons have a great sense of smell and can detect prey from far away.</p>
<p>Predator urine is designed to mimic the natural &ldquo;scents&rdquo; found in nature such as fox, coyote, or wolf urine.</p>
<p>These scents are built into their DNA that they find attractive because it signals an area where food might be obtained nearby.</p>
<ul>
<li>The best news about using predator urine for your garden - you don&rsquo;t need to put up with pesky raccoons!
One of the most popular ways to keep raccoons away is by using a scent that smells like another predator who has already claimed this area.</li>
</ul>
<p>Raccoons have a notoriously bad habit of getting comfortable in peoples yards. Once they realize youve arrived and their natural predators are no longer around, theyll stick around as long as theres food to eat.</p>
<ul>
<li>Use the urine of predators to frighten raccoons in your home into another location.
Predator animals mark their territory by urinating around the area to stake a claim. The best solution is to deter them with a little bit of predator pee such as PredatorPee Combo.</li>
<li>I live in an area with many raccoons cats, and they often roam freely. Although these furry friends never intentionally come into my yard, their fur on the back patio everywhere is very difficult to clean up.
Finding that cats were littering my yard with their urine was a nightmare, but thanks to PredatorPee Combo, you can take back your territory.</li>
<li>One of the reasons why it does work is that Predator Urine contains the appropriate amount of hormones and pheromones in order for raccoons to be repelled.
Raccoons have been on my property for the better part of a year. I can&rsquo;t do much about them because they live in my yard.</li>
<li>But what I wanted was to keep them out of my yard and away from the furniture by my patio. After trying other solutions to no avail, there&rsquo;s finally one that works: PredatorPee Combo.</li>
</ul>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>In summary, on the question &ldquo;what smells do Raccoons hate?&rdquo; the answer has been found.</p>
<p>Here are a few smells that Raccoons hate:</p>
<ul>
<li>
<ul>
<li>citronella, Hot Pepper, Onions, lavender, predator urine, peppermint essential oils, and Eviction fluid.
I hope this article was informative and that you found a solution to your raccoon problem.�For more information, or if you have any questions please leave me a comment below.</li>
</ul>
</li>
</ul>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/what-should-i-feed-my-bearded-dragon/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>What Should I Feed My Bearded Dragon</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/what-soap-can-i-use-to-wash-my-dog/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>What Soap Can I Use to Wash My Dog</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
