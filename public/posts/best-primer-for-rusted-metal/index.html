<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Primer for Rusted Metal | Pest Policy</title>
<meta name="keywords" content="
   paint, primer, rusted">


<meta name="description" content="There is nothing heartbreaking than seeing your most treasured product slowly vanishing as rust eats it away. All hope is not lost as we have some of the b...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-primer-for-rusted-metal/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-primer-for-rusted-metal/">

 
<meta name="twitter:title" content="Best Primer for Rusted Metal | Pest Policy" />


<meta name="twitter:description" content="There is nothing heartbreaking than seeing your most treasured product slowly vanishing as rust eats it away. All hope is not lost as we have some of the b..." />
<meta property="og:title" content="Best Primer for Rusted Metal | Pest Policy" />
<meta property="og:description" content="There is nothing heartbreaking than seeing your most treasured product slowly vanishing as rust eats it away. All hope is not lost as we have some of the b..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-primer-for-rusted-metal/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Primer for Rusted Metal",
      "item": "http://localhost:1313/posts/best-primer-for-rusted-metal/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Primer for Rusted Metal | Pest Policy",
  "name": "Best Primer for Rusted Metal",
  "description": "There is nothing heartbreaking than seeing your most treasured product slowly vanishing as rust eats it away. All hope is not lost as we have some of the b...",
  "keywords": [
    "paint", "primer", "rusted"
  ],
  "wordCount" : "1609",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-primer-for-rusted-metal/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Primer for Rusted Metal</h1>
    <div class="post-description">There is nothing heartbreaking than seeing your most treasured product slowly vanishing as rust eats it away. All hope is not lost as we have some of the b...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/paint/">Paint</a><a href="http://localhost:1313/tags/primer/">Primer</a><a href="http://localhost:1313/tags/rusted/">Rusted</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>There is nothing heartbreaking than seeing your most treasured product slowly vanishing as rust eats it away. All hope is not lost as we have some of the best primers for
rusted metal
available for you in a shop near you.</p>
<p>With this in mind, the question now remains which product to go for? How to use it? And what will it do for your automotive, or that metallic surface - what&rsquo;s that ultimate
[rusted metal <a href="/posts/best-bonding-primer-for-kitchen-cabinets/">primer</a>](<a href="https://spraygadgets.com/rustoleum-rusty-metal-primer-review/">https://spraygadgets.com/rustoleum-rusty-metal-primer-review/</a>)
?
This article will help you clearly articulate the kind of primer to go for and their benefits based on the reviews of those that have previously used them and most of all make an informed choice.</p>
<h2 id="s-top-7-best-primer-for-rusted-metal-in-2025">s: Top 7 Best Primer for Rusted Metal in 2025<a hidden class="anchor" aria-hidden="true" href="#s-top-7-best-primer-for-rusted-metal-in-2025">¶</a></h2>
<h3 id="1-corroseal-metal-primer--water-based-rust-converter"><a href="https://www.amazon.com/dp/B07Y5XZJFX/?tag=p-policy-20">1. Corroseal Metal Primer &amp; Water-Based Rust Converter</a><a hidden class="anchor" aria-hidden="true" href="#1-corroseal-metal-primer--water-based-rust-converter">¶</a></h3>
<p>Corroseal ranks as the best water-based primer that does an excellent job in converting rust and protecting your equipment from further corrosion and damage of your
<a href="https://pestpolicy.com/best-spray-%5Bpaint%5D(/posts/best-drywall-primer-sealer/)-for-metal/">metal parts</a>
.</p>
<p>It is important to note that this primer does not remove rust but refurbishes the surface into a black enamel for repainting therefore restoring your item from damage by
<a href="https://www.nesdis.noaa.gov/content/atmospheric-moisture">atmospheric moisture</a>
including haze, mist, rainfall, and humidity.
The initial plan for this primer was a compound was designed for marine purposes but was later discovered to work well even in suburban environments.
This primer is easy to apply and you can use a roller, a brush, or a sprayer to apply. During application, you do not need to do sanding but only wiping out the peeled-out paints and proceed to application.
Interestingly, this primer is both non-combustible and non-corrosive and you can easily wash it with water and soap and it comes off from the
metallic surface
.
This primer works quite well on automotive, marine, industrial use, and also on the household. However, this primer cannot be applied on galvanized surfaces or on new steel surfaces.
Pros:</p>
<ul>
<li>It&rsquo;s non-combustible</li>
<li>Can be used on multi-surfaces</li>
<li>Easy to wash with soap and water</li>
<li>Easy to apply</li>
</ul>
<p>Cons:</p>
<ul>
<li>Its expensive</li>
<li>Has odor</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=OB6Cgml0SUw">https://www.youtube.com/watch?v=OB6Cgml0SUw</a></p>
<h3 id="2-fdc-rust-converter-professional-grade-rust-repair"><a href="https://www.amazon.com/dp/B014LR5PA2/?tag=p-policy-20">2. FDC Rust Converter, Professional Grade Rust Repair</a><a hidden class="anchor" aria-hidden="true" href="#2-fdc-rust-converter-professional-grade-rust-repair">¶</a></h3>
<p>This FDC rust converter is one of the fairly economical primers that are easy to use when it comes to converting rust into the inert black coat and stopping any further spread.</p>
<p>It is a water-based primer and environmentally friendly with minimum or zero emissions of toxic chemicals that may cause
rusting
.
Unlike other primers, this primer does well in control rust on marine surfaces and can also be used on other surfaces like automotive, industrial appliances, or even household equipment like gates, windows, and others.
Besides, it saves you time since you do not need sanding or scrubbing but you can just apply the primer using a brush, a sprayer, or any other material. Economically, you save much on this primer with one gallon covering approximately 500 square ft.
Fortunately, this primer will not react with your skin in case of any spillage and is also non-flammable. However greater caution must be taken because it is highly reactive on fabric and concrete and stains them.
Pros:</p>
<ul>
<li>Multi-purpose - thus one of the<a href="https://pestpolicy.com/best-drywall-primer-sealer/">top drywall primers</a></li>
<li>Non-combustible</li>
<li>No scrubbing is required before application</li>
<li>Fairly economical</li>
</ul>
<p>Cons:</p>
<ul>
<li>Reacts with fabric and concrete</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=wlM8aT8IodA">https://www.youtube.com/watch?v=wlM8aT8IodA</a></p>
<blockquote>
<p>See Also:
Will Vinegar Remove Paint?</p></blockquote>
<h3 id="3-totalboat-rust-primer-converter-professional-repairs"><a href="https://www.amazon.com/dp/B013F9SLQM/?tag=p-policy-20">3. TotalBoat Rust Primer Converter, Professional Repairs</a><a hidden class="anchor" aria-hidden="true" href="#3-totalboat-rust-primer-converter-professional-repairs">¶</a></h3>
<p>If you are working on a budget and equally planning to cover a wider range, then this is the rust converter to go for. With slightly above 30 dollars, you get a gallon of this primer that covers approximately 500 square ft.</p>
<p>TotalBoat is an effective rust converter that effectively changes rust into an inactive and harmless compound. These help you to preserve the metal surface and any other surfaces applied like boats, bikes, cars, campers from
<a href="https://en.wikipedia.org/wiki/Metal_Fatigue">metal fatigue</a>
or failure.
If you own this primer, its designed with an easy to use formula and you can use
a brush
or a spray can to apply. After application, you can store the remaining primer for future use by using its well-designed container seal.
However, after applying this primer leaves an irregular surface that needs cleaning before you can do your painting.
As you apply this primer, is it good to note that it has a strong smell and therefore the need to put on a mask while doing the application?
Pros:</p>
<ul>
<li>Can be used on multiple surfaces</li>
<li>Can be stored and reused</li>
<li>Restores surfaces through converting rust</li>
<li>Simple to use</li>
<li>Affordable</li>
</ul>
<p>Cons:</p>
<ul>
<li>Has odor</li>
<li>Leaves marks after application that needs cleaning.</li>
</ul>
<blockquote>
<p>See Also:
Mildew Resistant Paints</p></blockquote>
<h3 id="4-rust-oleum-7769502-with-protective-enamel-primer"><a href="https://www.amazon.com/dp/B000SA8OGY/?tag=p-policy-20">4. Rust-Oleum 7769502 with Protective Enamel Primer</a><a hidden class="anchor" aria-hidden="true" href="#4-rust-oleum-7769502-with-protective-enamel-primer">¶</a></h3>
<p>Rust-Oleum has stood out in the market to serve as the best rust converter and a primer with a
roller
or brush.</p>
<p>It beats over converters available for its strong adherent and deep penetration offering both protection therefore preventing more corrosion.
As a converter, it turns the rust into a black enamel and firmly bonds with the surface in readiness for any painting eliminating any chances of peel off.
Consequently, this Rust-Oleum converter has a great consistency and therefore easy to apply without experiencing the dripping challenges.
You can apply this converter using a roller, a brush, or a sprayer on any interior or exterior surface - but compared to other metals like copper, steel has a distinctive
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5052186/">surface porosity</a>
.
After application, this primer takes time to dry sometimes may take days to achieve a fully cured surface and the only time paint can be applied. This is very important if you have to achieve a smoothly finished surface.
Pros:</p>
<ul>
<li>Has excellent consistency</li>
<li>Creates a good surface for painting</li>
<li>Strong adherent</li>
<li>Gives a durable coating</li>
</ul>
<p>Cons:</p>
<ul>
<li>Takes time to dry</li>
</ul>
<blockquote>
<p>See Also:
Removing Paint from Metal Door</p></blockquote>
<h3 id="5-krylon-k06903300-rust-protector-primer"><a href="https://www.amazon.com/dp/B008BMP1J4/?tag=p-policy-20">5. Krylon K06903300 Rust Protector Primer</a><a hidden class="anchor" aria-hidden="true" href="#5-krylon-k06903300-rust-protector-primer">¶</a></h3>
<p>If you are an accustomed paint buyer, you definitely know Krylon brands. Built-in quality and excellence; it is no different with Krylon Rust protector.</p>
<p>The good thing about this primer is that you can achieve a horizontal or vertical spray pattern courtesy of the flexible spray nozzle. Unlike other rust converters, this one has a very fast drying effect and within 8 minutes it is dry to touch and ready for another coat.
It also offers you a durable coat that eliminates rust and gives you a smooth finish. On the contrary, this coat has a glossy finish and you no longer have to worry about dirt getting on your surface in the
metal painting project
.
Lastly, Krylon is consistent in its performance and you can equally trust the quality it produces as compared to other competing brands. You can get it in a variety of colors to choose from and achieve that surface you have always wanted.
Pros:</p>
<ul>
<li>It fast drying</li>
<li>Consistent</li>
<li>Gives a smooth finish</li>
<li>Can achieve a vertical or horizontal spray pattern</li>
</ul>
<p>Cons:</p>
<ul>
<li>The colors are inaccurate</li>
</ul>
<h3 id="6-krylon-k06903907-rust-protector-primers"><a href="https://www.amazon.com/dp/B008BMP1X0/?tag=p-policy-20">6. Krylon K06903907 Rust Protector Primers</a><a hidden class="anchor" aria-hidden="true" href="#6-krylon-k06903907-rust-protector-primers">¶</a></h3>
<p>Unlike no other rust converters, Krylon K06903907 is unique in the sense that it serves both as a paint and a primer, therefore, eliminating the need to buy rust remover and paint separately.</p>
<p>This in turn makes work easier and faster and therefore achieving two targets with one product. �With multiple colors to choose from this, you get to choose either, semi-gloss, gloss, or the matte finish from the 30 colors available.
From the choices available it is pretty clear, that Krylon K06903907 is multi-purpose and gives you exactly what you want for your
metallic doors
. The varieties available include a classic and clear gray and red and white oxide.
On the contrary, Krylon K06903907 saves you time through its fast-drying nature, and within 10 minutes you are able to apply a second recoat if need be.
Unlike other paints, you do not have to worry about your wall attracting dirt which comes as a result of the lengthy drying time.
The glossy surface is equally easy to clean and therefore among the best to go for in the market
using a galvanized metal primer
.
Pros:</p>
<ul>
<li>Acts as a paint and a primer</li>
<li>Gives you a glossy, semi-glossy, or matte finish</li>
<li>Fast drying</li>
<li>Easy to apply</li>
<li>Durable</li>
</ul>
<p>Cons:</p>
<ul>
<li>Need to apply many coats</li>
</ul>
<blockquote>
<p>See Also:
Painting over primed surface
?</p></blockquote>
<h3 id="7-eastwood-rust-converter-one-quart"><a href="https://www.amazon.com/dp/B07PPPPKGM/?tag=p-policy-20">7. Eastwood Rust Converter, One Quart</a><a hidden class="anchor" aria-hidden="true" href="#7-eastwood-rust-converter-one-quart">¶</a></h3>
<p>If you are looking for the most recent high-tech rust removers, then Eastwood is the right choice for you.� Eastwood is multipurpose that halts enduring rust and converts it into a dark layer that prepares the surface for painting.</p>
<p>Unlike other converters, you do not need to do sanding to achieve a smooth paintable surface because Eastwood transforms it for you.
It is designed with a stronger ability to penetrate the surface than any other available brands and neutralize the available rust.
Eastwood is easy to apply as you do not need to mix before application but just apply directly to the affected surface.
Regardless of the topcoat, you want to apply, this converter matches well with nearly all the topcoats available in the market to
protect the metal gadgets and equipment
.
Additionally, this converter also acts a sealant for most surfaces protecting water penetration into the surface thereby preventing any further spread of any rust available.
Pros:</p>
<ul>
<li>No sanding is required</li>
<li>Good rust neutralizer</li>
<li>Has faster penetration</li>
<li>Available in many options</li>
<li>Compatible with many other brands</li>
<li>A good sealant</li>
</ul>
<p>Cons:</p>
<ul>
<li>Costly</li>
</ul>
<blockquote>
<p>See Also:
Painting your Metal Building</p></blockquote>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>With the outline above of the best primers for rusted metal my top recommendation primer is Corroseal Metal Primer &amp; Water-Based Rust Converter.
This is besides its many benefits and use on both marine and residual surfaces and therefore ranks the best.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-primer-for-oak-cabinets/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best Primer for Oak Cabinets</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-professional-airless-paint-sprayer/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Professional Airless Paint Sprayer</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
