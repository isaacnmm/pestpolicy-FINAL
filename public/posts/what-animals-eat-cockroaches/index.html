<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>What Animals Eat Cockroaches | Pest Policy</title>
<meta name="keywords" content="
   cockroaches, eat, cockroache">


<meta name="description" content="There are some know cockroach predators that can help you keep off those">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/what-animals-eat-cockroaches/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/what-animals-eat-cockroaches/">

 
<meta name="twitter:title" content="What Animals Eat Cockroaches | Pest Policy" />


<meta name="twitter:description" content="There are some know cockroach predators that can help you keep off those" />
<meta property="og:title" content="What Animals Eat Cockroaches | Pest Policy" />
<meta property="og:description" content="There are some know cockroach predators that can help you keep off those" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/what-animals-eat-cockroaches/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "What Animals Eat Cockroaches",
      "item": "http://localhost:1313/posts/what-animals-eat-cockroaches/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "What Animals Eat Cockroaches | Pest Policy",
  "name": "What Animals Eat Cockroaches",
  "description": "There are some know cockroach predators that can help you keep off those",
  "keywords": [
    "cockroaches", "eat", "cockroache"
  ],
  "wordCount" : "1285",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/what-animals-eat-cockroaches/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">What Animals Eat Cockroaches</h1>
    <div class="post-description">There are some know cockroach predators that can help you keep off those</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/cockroaches/">Cockroaches</a><a href="http://localhost:1313/tags/eat/">Eat</a><a href="http://localhost:1313/tags/cockroache/">Cockroache</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>There are some know cockroach predators that can help you keep off those
chemical roach killers
and also cut on the pest control costs.
On</p>
<ul>
<li>what animals eat <a href="/posts/best-roach-bait/">cockroaches</a>; they include some reptiles, amphibians, avians, and mammals - including�rats, bearded dragons, leopard geckos, frogs, and toads. *
<em>Other animals include mice, skinks, parasitoid wasps, hedgehogs, some beetles, panther chameleons, iguanas, some birds, Entomopathogenic fungi, monitor lizards.�</em>
[amazon bestseller=&ldquo;Best Roach Killers&rdquo; items=&ldquo;2&rdquo; template=&ldquo;table&rdquo;]</li>
</ul>
<h2 id="what-animals-eat-cockroaches-roach-predators">What Animals <a href="/posts/do-cockroaches-eat-bed-bugs/">Eat</a> Cockroaches? Roach Predators?<a hidden class="anchor" aria-hidden="true" href="#what-animals-eat-cockroaches-roach-predators">¶</a></h2>
<p>But how are roach eaters helpful? These bugs will trim down the roach population. They&rsquo;ll invade them in their ecosystem or natural habitat including
bugs in your backyard
.</p>
<h3 id="1-birds--the-avians">1. Birds / the Avians<a hidden class="anchor" aria-hidden="true" href="#1-birds--the-avians">¶</a></h3>
<p>Despite that birds won&rsquo;t naturally feed on cockroaches, mainly because the roach adults, nymphs, and indoors will be hiding in moist, warm, and dark areas.
You&rsquo;ll get the roaches around the kitchen, bathroom, and attic - and hence they could be hiding from predatory birds. But birds will still pick them from around sewers - consult aviculturists.
But ensure to use expert bird keepers for your aviary birds to reduce chances of contamination or poisoning. Avoid using insecticides for roaches around feed mills and chicken farms.</p>
<ul>
<li>Further, to feed the roaches to the bird, ensure to fatten the bugs using roughage and vitamin C - including nutritious fruits and food.</li>
<li>Birds that will feed on roaches include Starlings (some species), Rail (Slaty-breasted Rail), Pheasants, Peafowl, Parrots (some species), Owls (Scops Owl), and Orioles.</li>
<li>Other birds include Mynas (many species), Makholas, Laughingthrushes, Junglefowl, Jays, Coucals, Babblers, Collared Kingfisher, and Oriental Magpie-Robin.
<strong>Roaches Eating�</strong>
<strong>Birds</strong></li>
<li>Jays</li>
<li>Laughingthrushes</li>
<li>Oriental Magpie Robin</li>
<li>White-breasted Waterhen</li>
<li>Orioles</li>
<li>Starlings (most species)</li>
<li>Scops Owl</li>
<li>Parrots (most species)</li>
<li>Tree Pies</li>
<li>Babblers</li>
<li>Coucals</li>
<li>Collared Kingfisher</li>
<li>Greater Racket-tailed Drongo</li>
<li>Tiger Shrike</li>
<li>Mynas (most species)</li>
<li>Peafowl</li>
<li>Pheasants</li>
<li>Junglefowl</li>
<li>Makholas</li>
</ul>
<h2 id="2-dogs-and-cats">2. Dogs and Cats<a hidden class="anchor" aria-hidden="true" href="#2-dogs-and-cats">¶</a></h2>
<p>Normally, it is not okay to feed roaches to your cats and dogs. But roaches with poisonous insecticides (high dosage or through eating many roaches) are toxic to the pets.
Thus, keep cockroach
poisons and toxins off your spaces if you intend to feed roaches to your domesticated pets - dogs and cats or other household pets.
But indoor pets such as dogs and cats will also hunt to prey on different insects including roaches. But feral cats will equally roam the streets hunting birds, rats, and mice plus cockroaches.</p>
<ul>
<li>Cats will achieve great satisfaction while hunting for roaches - but this may be disrupted by issues such as ingesting pesticides or digestive issues.
But why will dogs and cats hunt for roaches? Well, dogs and cats (including domesticated ones) will exercise their hunting impulses and the bug&rsquo;s hard-shelled texture ensure it&rsquo;s easy to capture.
Dogs and cats may also feed on roaches as a diet to help recover from diseases such as PICA or anemia. PICA could lead them to eat non-food objects due to psychological compulsion or boredom.</li>
<li>But the cats will<a href="https://pestpolicy.com/how-to-get-rid-of-cockroaches/">snack on the roaches</a>- but may get choked or hurt in their throat due to the bug&rsquo;s exoskeletons that is hard - if not adequately chewed.
Despite that dogs and cats will actively hunt plus eat roaches, it&rsquo;s advisable to keep this away to reduce chances of digestive hazard or choking.
Will cockroaches be drawn to litter? Yes, roaches may get drawn to the litter depending on the litter box in question (like corn, beets, or wheat) - so they might not get new silica-based, sand, or clay litters.</li>
<li>On rodents including rats and mice, you may use monitoring traps (the sticky type) and this reduces the chances of entangling - leaving antennae, legs, and head.</li>
</ul>
<h3 id="3beetles">3.�Beetles<a hidden class="anchor" aria-hidden="true" href="#3beetles">¶</a></h3>
<p>Silverfish and beetles (and beetle larvae) are among the best roach predators - they&rsquo;ll hunt for the bugs and feed on them - plus controlling pests like the
<a href="https://www.dec.ny.gov/animals/7250.html">Hemlock-Woolly Adelgid</a>
.
But it&rsquo;s not advised to drop
<a href="https://extension.umd.edu/hgic/insects/predatory-beetles">predatory beetles</a>
into the house - these are the bugs that will feed on roaches; checkered beetles, lady beetles, rove beetles, and soldier beetles,�ground beetles.</p>
<ul>
<li>Wood-boring beetles (and their Larvae) will equally cause some amount of damage on your structures with carpet and wood, inside sheds and houses.</li>
<li>Beetles have mandibles that&rsquo;ll chew dead organisms, your cloth, carpet, and leather. They may damage things in the property including light-colored petals and plant-based fibers.
So, to control both the roaches and beetles, ensure to maintain clean surfaces - including water and food. Also, keep all the garbage airtight and locked.
Seal up all the cracks (on door frames) and openings that roaches and other insects may use to enter the house. Use natural repellents such as garlic, cucumber slices, and bay leaves for roaches.</li>
</ul>
<h3 id="4-opossums">4. Opossums<a hidden class="anchor" aria-hidden="true" href="#4-opossums">¶</a></h3>
<p>Yes, Opossums are
<a href="https://www.aces.edu/blog/topics/wildlife/the-virginia-opossum-our-only-native-marsupial/">extreme omnivores</a>
that will hunt and feed on roaches largely found in North America - they&rsquo;ll also eat garbage, worms, and roadkill.
They&rsquo;ll bear
<a href="http://www.ucmp.berkeley.edu/mammal/marsupial/marsupial.html">semi-</a>
<a href="http://www.ucmp.berkeley.edu/mammal/marsupial/marsupial.html">developed and small young ones</a>
that they&rsquo;ll hide in their belly pouches until when ready to move. The
<a href="https://www.nationalgeographic.com/animals/mammals/group/opossums/">average-weighted Opossums (weighing 8-13 lbs</a>
) may also transmit rabies.</p>
<ul>
<li>So, yes opossums can be beneficial organisms despite being catatonic-like and creepy animals - and are greatnature&rsquo;s exterminators.
Opossums will equally feed on frogs, insects, snails, slugs,
moles
, spiders, rats, and mice. They&rsquo;ll feast on those bothersome critters roaming your yard.
Further, Opossums love eating weeds (
check these weed killers
) and dead plants in your garden. These include the decaying or wilting plant matter as opposed to the fresh crops.</li>
<li>The opossum will equally feed on carrion (<em>dead creatures</em>) including decaying creatures.</li>
</ul>
<h3 id="5-lizards">5. Lizards<a hidden class="anchor" aria-hidden="true" href="#5-lizards">¶</a></h3>
<p>Lizards (including leopard geckos,
monitor�lizards
, and
bearded dragons
) will feed on roaches to acquire additional nutrition. Also, check with iguanas and geckos to control roaches.
Geckos and lizards will inhabit warmer areas (being cold-blooded animals) and some humans may pet them - but will also feast on cockroaches.</p>
<ul>
<li>Geckos will maul on the roaches in the house but if the bugs are many I suggest chartering a professional as opposed to bringing more geckos.
Lizards (including iguanas or geckos ) will feed on insects including cockroaches.
<a href="https://www.youtube.com/watch?v=PRJboAboJfo&amp;feature=youtu.be">https://www.youtube.com/watch?v=PRJboAboJfo&amp;feature=youtu.be</a>
Other roach predators:</li>
<li>Some roach predators such as lizards, frogs, and toads will reach the bugs using their�sticky and long tongues - and ultimately crushing the roaches using the strong jaws.</li>
<li>Wasps also lay eggs that hatch into larvae that&rsquo;ll eat the roaches while also the spores of the entomopathogenic fungi will attack cockroaches to exterminate them within weeks.</li>
</ul>
<h3 id="6frogs">6.�Frogs<a hidden class="anchor" aria-hidden="true" href="#6frogs">¶</a></h3>
<p>Frogs such as the popular
<a href="https://animaldiversity.org/site/accounts/information/Pseudacris_crucifer.html">Spring Peeper</a>
and
<a href="http://www.biokids.umich.edu/critters/Lithobates_pipiens/">Northern-Leopard Frog</a>
will eat roaches - you&rsquo;ll find them in wet environments, lakes, and ponds.
Other frog species like the
<a href="https://nationalzoo.si.edu/animals/whites-tree-frog">White&rsquo;s tree</a>
(found in New Guinea and Australia) will feed on roaches. They measure about 3 to 5 inches living in woodland or grassy areas - they&rsquo;re nocturnal.
<a href="https://www.youtube.com/watch?v=GsXLafCdhw8&amp;feature=youtu.be">https://www.youtube.com/watch?v=GsXLafCdhw8&amp;feature=youtu.be</a>
The dull-brown frogs will easily camouflage in the house and yard spaces and thus easily capture the roaches, small bugs, and also beetles for food.</p>
<ul>
<li>During the daytime, the Spring Peeper will hide from spiders, roaches (nocturnal bugs), flies, ants, and beetles but will capture them at night.
Further, toads (they&rsquo;re gray or dull brown) will slay roaches in the apartments and will mainly occupy backyards and places with shelter or water. But also red imported fire ants will eat roaches.</li>
</ul>
<h3 id="7-spiders">7. Spiders<a hidden class="anchor" aria-hidden="true" href="#7-spiders">¶</a></h3>
<p>Spiders will eat cloth moths, mosquitoes, and roaches among other indoor pests. But you&rsquo;re required many spiders to effectively control a massive roach infestation.
But some homeowners will rear domesticated spiders and these
<a href="https://www.quora.com/Do-spiders-eat-cockroaches">take cockroaches</a>
for their food. Spider species including
<a href="http://entnemdept.ufl.edu/creatures/urban/spiders/giant_crab_spider.htm">Brown Huntsmans</a>
will also feed on roaches.
<a href="https://www.youtube.com/watch?v=0LiALjybcJA">https://www.youtube.com/watch?v=0LiALjybcJA</a></p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Eating the adult roaches plus their larvae, the natural predators will ensure the bug population is checked. For instance, spiders and
some ants will prey
on bug roaches.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/what-animals-eat-bed-bugs/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>What Animals Eat Bed Bugs</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/what-are-hvlp-sprayers-used-for/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>What Are Hvlp Sprayers Used for</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
