<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>Best Noise Cancelling Headphones | Pest Policy</title>
<meta name="keywords" content="
   headphones, noise, headphone">


<meta name="description" content="The best noise-canceling headphones should sufficiently block out the noise in your surroundings to allow you to listen to your favorite audiobook, podcast...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/best-noise-cancelling-headphones/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/best-noise-cancelling-headphones/">

 
<meta name="twitter:title" content="Best Noise Cancelling Headphones | Pest Policy" />


<meta name="twitter:description" content="The best noise-canceling headphones should sufficiently block out the noise in your surroundings to allow you to listen to your favorite audiobook, podcast..." />
<meta property="og:title" content="Best Noise Cancelling Headphones | Pest Policy" />
<meta property="og:description" content="The best noise-canceling headphones should sufficiently block out the noise in your surroundings to allow you to listen to your favorite audiobook, podcast..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/best-noise-cancelling-headphones/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Best Noise Cancelling Headphones",
      "item": "http://localhost:1313/posts/best-noise-cancelling-headphones/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Best Noise Cancelling Headphones | Pest Policy",
  "name": "Best Noise Cancelling Headphones",
  "description": "The best noise-canceling headphones should sufficiently block out the noise in your surroundings to allow you to listen to your favorite audiobook, podcast...",
  "keywords": [
    "headphones", "noise", "headphone"
  ],
  "wordCount" : "1524",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/best-noise-cancelling-headphones/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Best Noise Cancelling Headphones</h1>
    <div class="post-description">The best noise-canceling headphones should sufficiently block out the noise in your surroundings to allow you to listen to your favorite audiobook, podcast...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/headphones/">Headphones</a><a href="http://localhost:1313/tags/noise/">Noise</a><a href="http://localhost:1313/tags/headphone/">Headphone</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>The best noise-canceling headphones should sufficiently block out the noise in your surroundings to allow you to listen to your favorite audiobook, podcast, or music uninterruptedly.</p>
<p>Ultimately, the ideal pick should be lightweight, feel comfortable on the ears, and feature the active noise canceling feature - just like the
cheap but quality earbuds
.
Other best-selling features that set this unit apart include the ergonomic construction design, voice assistant feature, and the covered canvas carrying a backpack. Read Also:
Noise Cancelling Headphones Under 50
.</p>
<h2 id="reviews-7-best-noise-cancelling-headphones-in-2025">Reviews: 7 Best Noise Cancelling Headphones in 2025<a hidden class="anchor" aria-hidden="true" href="#reviews-7-best-noise-cancelling-headphones-in-2025">¶</a></h2>
<h3 id="1-sony-wh-1000xm3-with-active-noise-cancellation"><a href="https://www.amazon.com/dp/B07G4MNFS1/?tag=p-policy-20">1. Sony WH-1000XM3 with Active Noise Cancellation</a><a hidden class="anchor" aria-hidden="true" href="#1-sony-wh-1000xm3-with-active-noise-cancellation">¶</a></h3>
<p>Superior noise-canceling features with intelligible capabilities, among other sound optimization features, make this pick one of the best options if you are looking for unrivaled active noise cancellation (ANC).</p>
<p>This headphone set not only performs excellently in active noise reduction but also produces high-quality sound output, thanks to the integrated equalizer featuring several pre-sets.
This unit allows you to block out more noise on your daily commute, thanks to the integrated HD Noise Cancelling Processor, the QN1. The dedicated processor also ensures that the production of music is not interfered with by processor performance.
If you are looking to use this unit on your flight, the Unique Atmospheric Pressure Optimizing feature allows you to achieve optimal sound performance at high altitudes.
Thanks to the Adaptive Sound Control feature, the WH-1000XM3 automatically senses your activity such as walking or commuting and adjusts the ambient sound personalized to your liking.
Design-wise, this unit is lighter than the previous edition. The bridge is sufficiently padded and features sufficient padding which allows you to listen for longer with limited hassle. A 30-hour battery with a quick charge feature is all you need for that uninterrupted performance.
Pros:</p>
<ul>
<li>Unrivaled noise canceling feature</li>
<li>Lightweight</li>
<li>Excellent sound quality</li>
</ul>
<p>Cons:</p>
<ul>
<li>Relatively pricey</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=I65jo06QinI">https://www.youtube.com/watch?v=I65jo06QinI</a>
Read Also:
<a href="https://pestpolicy.com/best-noise-cancelling-headphones-under-100/">Noise Cancelling Headphones Under 100</a>
.</p>
<h3 id="2-monitor-ii-anc-bluetooth-over-ear-headphone"><a href="https://www.amazon.com/dp/B084R2WVLX/?tag=p-policy-20">2. Monitor II ANC Bluetooth Over-Ear Headphone</a><a hidden class="anchor" aria-hidden="true" href="#2-monitor-ii-anc-bluetooth-over-ear-headphone">¶</a></h3>
<p>This unit is inspired by the Marshall tradition in delivering an original yet modern high-performance sound output.</p>
<p>The integration of the ANC technology makes this unit one of the best picks for filtering out the noise and letting you concentrate on the music.
These headphones utilize the ANC feature to continuously identify and measure the surrounding noise to lockout what you don&rsquo;t want to hear.
This unit delivers iconic sound output, thanks to the 40mm dynamic sound drivers, which offer superior sound output. Designed for the all-day listening experience, this edition provides you up to 30 hours of playback with the ANC feature on.
The Monitor II ANC feature an ergonomic construction design which fits comfortably in the ears for a plush listening experience all day.
You get unparalleled convenience on purchasing this unit thanks to the adjustable and fully rotating ear cups. These units hug the ears fully ensuring there is limited sound leakage.
Pros:</p>
<ul>
<li>Top-notch noise isolation capability</li>
<li>Iconic design</li>
<li>High performance sound</li>
</ul>
<p>Cons:</p>
<ul>
<li>Unintuitive controls</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=Hxu5RREdZgk">https://www.youtube.com/watch?v=Hxu5RREdZgk</a>
Read Also:
<a href="https://pestpolicy.com/best-noise-cancelling-headphones-under-150/">Noise Cancelling Headphones Under 150</a>
.</p>
<h3 id="3-apple-airpods-pro-with-bluetooth--nfc-connections"><a href="https://www.amazon.com/dp/B07ZPC9QD4/?tag=p-policy-20">3. Apple AirPods Pro with Bluetooth &amp; NFC Connections</a><a hidden class="anchor" aria-hidden="true" href="#3-apple-airpods-pro-with-bluetooth--nfc-connections">¶</a></h3>
<p>This is the go-to choice if you are looking for an incredibly light option to block out the noise in the environment, allowing you to focus on your podcast or music playlist.</p>
<p>The ANC allows for an immersive sound experience while the all-new design gives you a more personalized fit, which allows it to conform to different ear designs.
These earphones are specially designed to deliver ANC to deliver an immersive sound experience, while the transparency mode allows you to hear your surroundings.
By blocking out the noise in the environment, this Apple unit will enable you to focus on what you want to listen to.
The all-new design of the Airpod Pro allows you to customize the fit to the shape of your ears, giving you three silicone tips to choose from.
In addition to their excellent fit, which allows the unit to adapt to your ear size, these in-ear headphones sufficiently silence the world around you to enable you to concentrate on your music.
You get efficient controls with the purchase of the AirPod Pro, thanks to the integration of a capacitive touch feature on the ridge section.
Pros:</p>
<ul>
<li>Outstanding noise isolation capability</li>
<li>Excellent battery performance</li>
<li>Personalized fit</li>
</ul>
<p>Cons:</p>
<ul>
<li>None found</li>
</ul>
<h3 id="4-jabra-elite-85h-noise-canceling-headphones"><a href="https://www.amazon.com/dp/B07RQ366VK/?tag=p-policy-20">4. Jabra Elite 85h Noise Canceling Headphones</a><a hidden class="anchor" aria-hidden="true" href="#4-jabra-elite-85h-noise-canceling-headphones">¶</a></h3>
<p>This is the go-to choice if you are looking for active noise-canceling headphones that perform excellently when making wireless calls and listening to music remotely.</p>
<p>Jabras integration of the SmartSound Technology allows you to apply your personalized audio whereas HearThrough settings deliver the sound you need when you need it.
The Smart ANC feature integrated into this Jabra set of headphones effectively responds to your environment by turning itself on if it identifies unwanted noise in the background. This edition makes use of 8 microphones, half of which are utilized by the ANC to filter out unwanted noise based on user preferences.
Thanks to the purpose-built speakers, this set guarantees you exceptional music quality for that personalized listening experience.
With a battery life of 36 hours with the ANC on, the battery featured in this version powers through your day with minimal hassles. What&rsquo;s more?
The fast charging feature allows you to charge your headphones on the go, allowing you to the distance without worrying about the headphones going off.
Pros:</p>
<ul>
<li>Unparalleled call quality</li>
<li>Highly durable</li>
<li>On-ear detection feature</li>
</ul>
<p>Cons:</p>
<ul>
<li>Relatively bulky</li>
</ul>
<p>Read Also:
<a href="https://pestpolicy.com/best-noise-cancelling-headphones-under-200/">Noise Cancelling Headphones Under 200</a>
.</p>
<h3 id="5-beats-by-dre-studio-3-wireless-headphones"><a href="https://www.amazon.com/dp/B079TLV1WW/?tag=p-policy-20">5. Beats by Dre Studio 3 Wireless headphones</a><a hidden class="anchor" aria-hidden="true" href="#5-beats-by-dre-studio-3-wireless-headphones">¶</a></h3>
<p>The Beats Studio 3 has set itself apart thanks to the ANC feature, which allows you to filter out noise distractions to allow out to get closer to the music.</p>
<p>Its integration of real-time audio tuning is all you need to preserve the range and clarity as artists intend. This unit will offer you a premium listening experience and for prolonged hours too.
Powered by IOS, this unit gives you instant pairing with your device, allowing you to switch from watching your movie on the MacBook to that call in an instant. The Apple W1 chip facilitates instant Bluetooth connectivity while optimizing battery performance. When the ANC is turned off, this unit gives you up to 40 hours of playback time.
This headset is specifically designed for prolonged comfort, thanks to its incorporation of over-ear padding while the ergonomic pivoting at the bridge provides a flexible fit for different head shapes and sizes. Multi-functional ear buttons allow you to control your playlist and manage calls in a bliss.
Pros:</p>
<ul>
<li>Comfortable fit</li>
<li>Top notch noise cancellation capability</li>
<li>Excellent value for money</li>
</ul>
<p>Cons:</p>
<ul>
<li>None found</li>
</ul>
<p>Read Also:
Noise Cancelling Headphones for Babies
.</p>
<h3 id="6-sennheiser-momentum-2-wireless"><a href="https://www.amazon.com/dp/B00SNI44CQ/?tag=p-policy-20">6. Sennheiser Momentum 2 Wireless</a><a hidden class="anchor" aria-hidden="true" href="#6-sennheiser-momentum-2-wireless">¶</a></h3>
<p>With this wireless headset, superior design meets superior sound quality. In addition to the integration of cutting-edge technology, the modern design adopted by this unit is aesthetically appealing if you are a fashion-oriented audiophile.</p>
<p>You will never miss a beat with this buy thanks to the intuitive controls which are designed to fit different situations.
The Auto On and off and pause switches allow you to switch between different functionalities conveniently.
Transparent hearing functionality is all you need if you are looking to listen to music while maintaining your presence in your current activity.
Design wise, this unit provides a classic look featuring an original leather strap and heavily padded ear cups which provide an uninterrupted listening performance.
The strong matte steel frame not only adds to the durability of this unit while the covers also stand the test of time with prolonged use.
Pros:</p>
<ul>
<li>Attractive design</li>
<li>Excellent battery performance</li>
<li>Durable</li>
</ul>
<p>Cons:</p>
<ul>
<li>Relatively heavy</li>
</ul>
<p>Read Also:
Camera for Music Videos</p>
<h3 id="7-bowers-and-wilkins-px-noise-canceling-headphones"><a href="https://www.amazon.com/dp/B0756XMGV1/?tag=p-policy-20">7. Bowers and Wilkins PX Noise Canceling Headphones</a><a hidden class="anchor" aria-hidden="true" href="#7-bowers-and-wilkins-px-noise-canceling-headphones">¶</a></h3>
<p>These headphones combines the best sound quality in its class, adaptive noise cancellation capabilities, intelligent and responsive control features.</p>
<p>This unit offers you an intuitive listening experience and responds to your movement and surroundings.
Other best-selling features of this unit include excellent battery life, emotive and immersive sound experience, and compact design.
Coming in space grey and soft gold colors, the PX features inbuilt sensors that allow you to access all your controls in an instant, such as pausing playback when the headphones are removed.
Thanks to the mechanical sensors integrated into this unit, controlling these headphones feel completely intuitive as you switch between different functions.
Thanks to the high-capacity battery, you are assured of an uninterrupted and immersive listening experience. With a battery life of up to 36 hours, you are guaranteed top-notch active noise canceling performance.
The compact and lightweight features allows you to fit the headsets in a small space as you move along. The PX functions as an extension to the user, always anticipating the next move.
Pros:</p>
<ul>
<li>Highly responsive control features</li>
<li>Aesthetically appealing</li>
<li>Compact and lightweight</li>
</ul>
<p>Cons:</p>
<ul>
<li>None found</li>
</ul>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>The ultimate pick of noise-canceling headphones should be highly responsive and capable of sufficiently isolating unwanted noise to allow you to enter your personal space when listening to that music playlist or podcast.
Based on our featured list, the Beats Studio 3 stands out from the crowd thanks to its prolonged comfort, excellent audio, intuitive design, and great battery life. `&quot;</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/best-no-see-ums-repellent/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Best No See Ums Repellent</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/best-noise-cancelling-headphones-for-babies/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Best Noise Cancelling Headphones for Babies</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
