<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
 
<title>How to Stain Pressure Treated Wood | Pest Policy</title>
<meta name="keywords" content="
   diy-paintings, pressure, treated">


<meta name="description" content="Could you have a pressure treated wooden structure in your place, or have you come across one? The pressure treatment process protects the wood from insect...">

<meta name="author" content="Isaac">
<link rel="canonical" href="http://localhost:1313/posts/how-to-stain-pressure-treated-wood/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.24117e94f7185554bf370e131546657a05d72834bf02c67c2a4215d5cf110a80.css" integrity="sha256-JBF&#43;lPcYVVS/Nw4TFUZlegXXKDS/AsZ8KkIV1c8RCoA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/how-to-stain-pressure-treated-wood/">

 
<meta name="twitter:title" content="How to Stain Pressure Treated Wood | Pest Policy" />


<meta name="twitter:description" content="Could you have a pressure treated wooden structure in your place, or have you come across one? The pressure treatment process protects the wood from insect..." />
<meta property="og:title" content="How to Stain Pressure Treated Wood | Pest Policy" />
<meta property="og:description" content="Could you have a pressure treated wooden structure in your place, or have you come across one? The pressure treatment process protects the wood from insect..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/how-to-stain-pressure-treated-wood/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2025-07-10T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-07-10T00:00:00&#43;03:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Stain Pressure Treated Wood",
      "item": "http://localhost:1313/posts/how-to-stain-pressure-treated-wood/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Stain Pressure Treated Wood | Pest Policy",
  "name": "How to Stain Pressure Treated Wood",
  "description": "Could you have a pressure treated wooden structure in your place, or have you come across one? The pressure treatment process protects the wood from insect...",
  "keywords": [
    "diy-paintings", "pressure", "treated"
  ],
  "wordCount" : "1619",
  "inLanguage": "en",
  "datePublished": "2025-07-10T00:00:00Z",
  "dateModified": "2025-07-10T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Isaac"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/how-to-stain-pressure-treated-wood/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pest Policy",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
   
</noscript>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7369419631229178"
     crossorigin="anonymous"></script>
</head>

<body class=" type-posts kind-page layout-post" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'light';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Pest Policy (Alt + H)">Pest Policy</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact"
                >Contact
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">How to Stain Pressure Treated Wood</h1>
    <div class="post-description">Could you have a pressure treated wooden structure in your place, or have you come across one? The pressure treatment process protects the wood from insect...</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>July 10, 2025</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/diy-paintings/">Diy-Paintings</a><a href="http://localhost:1313/tags/pressure/">Pressure</a><a href="http://localhost:1313/tags/treated/">Treated</a></span></span>

      
      
    </div>
  </header> 
  <div class="post-content"><p>Could you have a <a href="/posts/best-pressure-washer-for-paint-removal/">pressure</a> treated wooden structure in your place, or have you come across one? The pressure treatment process protects the wood from insect damage and reduces the aging process.</p>
<p>Staining is required to improve outlook impression, prevent cracking, peeling, and boost a particular wooden structure&rsquo;s overall service life - a
stain for deck pressure-treated wood
.
In this article, we shall be discussing how to stain pressure treated wood. During the staining process, youll require to select the right items, choose the appropriate stain, clean the surface sufficiently, and prepare the stain according to the manufacturers instructions.</p>
<h2 id="details-how-to-stain-pressure-treated-wood">Details: How to Stain Pressure Treated Wood<a hidden class="anchor" aria-hidden="true" href="#details-how-to-stain-pressure-treated-wood">¶</a></h2>
<p>Further, prep the clean wooden surface (where necessary), carry actual stain application, and leave the stain to dry within the labels&rsquo; period.</p>
<h3 id="a-required-items">a. Required items<a hidden class="anchor" aria-hidden="true" href="#a-required-items">¶</a></h3>
<ul>
<li>Steel brush and Pressure washer</li>
<li>Paint mixer and stirrer</li>
<li>A Roller,Paint sprayer, or Paintbrush</li>
<li>A Wood stain or Wood sealer</li>
<li>Sandpaper  fine grade and rough grade</li>
<li>Protective gear - respirator, gloves, overalls, safety boots, goggles, and facemask
Accordingly, put on appropriate protective gear (respirator, gloves, overalls, safety boots, goggles, and facemask) before you commence the staining process.</li>
</ul>
<blockquote>
<p>See Also:
Deck Sealer for Pressure Treated Wood</p></blockquote>
<h3 id="b-choosing-stain">b. Choosing stain<a hidden class="anchor" aria-hidden="true" href="#b-choosing-stain">¶</a></h3>
<p>During stain, selection considers the nature/type of stain (is it water-based or oil-based). Water-based is best for indoor wooden structures or structures in temperate or arid areas  this prevents chipping or peeling action in humid weather conditions.
Oil-based stains are suitable for outdoor structures since they come with long-lasting properties, fade resistance, and forms a waterproof coat layer, which is more cumbersome to remove upon drying. Further, oil-based stains have VOC components, which may irritate respiratory systems (when inhaled) if used for the indoor wood staining process.
Unlike an oil-based stain, a water-based stain is more comfortable to remove (with soap and water). Water-based stain takes a longer time to dry than oil-based stain. It will also help if you consider the stain color before placing your order.
Consider a dark-colored stain for a new wooden structure that will give you a provision for future stain restoration. In case your wooden structure is in a sunny environment, purchase light-colored stains to improve reflective capabilities over the wooden surface.
Importantly, follow safety and precautions given when staining your wooden structure since health is paramount. To acquire in-depth insight, let us get into the details.</p>
<blockquote>
<p>See Also:
HVLP Spray Gun for Cabinets</p></blockquote>
<h3 id="c-cleaningwashing-the-wood--surface-preparation">c. Cleaning/washing the wood  surface preparation<a hidden class="anchor" aria-hidden="true" href="#c-cleaningwashing-the-wood--surface-preparation">¶</a></h3>
<p>Wood surface cleaning/preparation is a crucial step as it helps improve stain stickiness ability over a given wooden surface. Using sandpaper, polish the new wooden structure gently without over pressing (prevents primary surface material damage).
When restoring a stained wooden structure, scrub the surface using a steel brush to dislodge the primary stain coat layer  you can apply a thinner to improve the removal process.� The abrasive motion should be in the direction of wood grain orientation to prevent surface grain damage and distortion.
Moreover, the polished wooden surface should be wiped to dryness (to remove dust and moisture content) to improve stain stickiness and eliminate chipping/peeling occurrences. �You can wash the polished surface (where necessary) with a pressure washer and leave it to dry before stain application.</p>
<h3 id="d-preparing-the-stain">d. Preparing the stain<a hidden class="anchor" aria-hidden="true" href="#d-preparing-the-stain">¶</a></h3>
<p>Using a stain mixer, stir the stain appropriately to achieve the best solvent per the manufacturers instructions.
When preparing wood stain, its necessary to consider the type of method you are using during stain application (is it a paintbrush, a roller, or a spray painter).
Stain preparation for spray painter is less viscous (prevents drains and blocking of the paint gun) than prepared for the application using a roller or a paintbrush.
It would help if you also prepared a wood stain, which is enough for the surface to be stain coated.
NB: When staining a wooden surface using a roller or a paintbrush, dont overload the tool  it may cause a drain on the surface. See Also:
<a href="https://pestpolicy.com/how-do-i-fix-peeling-paint-on-ceiling/">Fixing Peeling Paint on Ceiling</a>
.</p>
<h3 id="e-prepping-the-surface">e. Prepping the Surface<a hidden class="anchor" aria-hidden="true" href="#e-prepping-the-surface">¶</a></h3>
<p>When restoring a stained wooden structure, it is advisable to prep the polished surface (where necessary) to improve stain stickiness and eliminate peeling.
Prepping also seals porous surfaces and wholes that prevent uniform surface leveling when staining your wooden structure.
NB: Not all wooden surfaces require prepping when staining. Indeed, some stains are self-priming and, therefore, can be applied directly on any wooden surface.</p>
<blockquote>
<p>See Also:
Paint Roller to Hide Imperfections</p></blockquote>
<h3 id="f-actual-stain-application">f. Actual stain Application<a hidden class="anchor" aria-hidden="true" href="#f-actual-stain-application">¶</a></h3>
<p>Using a paintbrush or a roller, deep sufficiently in a paint (avoid overloading) and apply to and fro along with the wood grain orientation. Avoid over pressing the roller (run gently) during application as it causes drains and unnecessary runs.
Sharp corners should be stained using a paintbrush, and any run or drain can be eliminated by gently running a lightly stain loaded paintbrush over the surface.
Alternatively, you attain an excellent finish using a spray paintless since the spray action improves stain penetration upon contact with the wooden surface.</p>
<h3 id="e-stain-finish">e. Stain finish<a hidden class="anchor" aria-hidden="true" href="#e-stain-finish">¶</a></h3>
<p>Upon stain application, leave the surface to dry naturally in the prevailing conditions. Please do not touch the stained surface before it&rsquo;s dry to tough as instructed by the manufacturer.
For
oil-based stains for playsets
, you can sprinkle cold water over the surface to eliminate dust particles from sticking on the surface.
Before carrying out the second coat application (where necessary), the first coat layer should be dry to touch.
NB: Never sprinkle water over a water-based stained wooden structure after the staining process  it creates runs/drains over the surface.</p>
<h2 id="when-can-you-stain-pressure-treated-wood">When Can You Stain Pressure Treated Wood?<a hidden class="anchor" aria-hidden="true" href="#when-can-you-stain-pressure-treated-wood">¶</a></h2>
<p>You can only stain pressure treated wood when it is scorched. Usually, during pressure treatment, chemical substances are forced into the wooden material to prevent insect damage and improve aging time.
Your wooden material could either be pressure treated by wet-treatment or kiln-dried. The wet treatment process requires further drying before stain application takes place.
On the other hand, the dry-kiln method of pressure wood treatment (KDAT kiln-dried after treatment or ADAT- air-dried after treatment) eliminates moisture content from the wooden material. Thus, a direct stain application can be carried out.
Before carrying out the stained wood process, you will need to confirm the surface dryness level.� This can be done using the sprinkle test method.
You will need to sprinkle some water over the wooden surface and leave it for 10 minutes. If the water is absorbed into the wood within the period, you can stain the surface immediately  the wood would have dried sufficiently.
However, if the water droplets on the wooden surface remain after 10 minutes, you will need to give the wood more time to dry.
This process is essential since the wet pressure treated wood contains water repellent chemicals, which resist both water-based and oil-based stain upon application.
You can also stain wooden structures when the previously coated surface begins to chip or peel.</p>
<blockquote>
<p>See Also:
Paint Roller Cover for Interior Walls</p></blockquote>
<h2 id="how-to-paint-stained-pressure-treated-wood">How to Paint Stained Pressure Treated Wood<a hidden class="anchor" aria-hidden="true" href="#how-to-paint-stained-pressure-treated-wood">¶</a></h2>
<p>After staining a pressure-treated wood, you may need to apply a paint coat layer (not always). The stain act as a primer, and therefore, direct paint application works without any problem.
However, non-stained pressure treated wood experience chipping, scuffing, and peeling when the paint is applied directly since integrated chemicals in the pressure-treated wood repel paint pigments upon contact.
You need to prime all non-stained pressure treated wood before the actual paint application process begins. Further, the sprinkle test method should be carried out before priming to ascertain a particular wooden material&rsquo;s dryness level.
The selected paint should match the type of stain used in the given wooden structure (oil-based paint can be applied over a water-based stain or oil-based stain).
However, you cannot apply a water-based paint over an oil-based stained wooden structure  chipping or peeling would occur with time due to low stickiness ability.
When restoring a previously stained wooden structure, surface preparation is crucial in improving the next coat stickiness ability upon application.</p>
<blockquote>
<p>See Also:
Baby-Safe Paint for Crib</p></blockquote>
<h2 id="safety-measures-to-consider-when-staining-pressure-treated-wood">Safety Measures to Consider When Staining Pressure Treated Wood<a hidden class="anchor" aria-hidden="true" href="#safety-measures-to-consider-when-staining-pressure-treated-wood">¶</a></h2>
<p>Health is paramount when staining pressure treated wooden structures. Therefore, we need to follow the following precautions on safety measures:</p>
<ol>
<li>Always wear protective gear (respirator, gloves, overalls, safety boots, goggles, and facemask) during stain preparation, surface cleaning, and stain application.</li>
<li>Never smell stain directly since oil-based stains produce fumes that may irritate your nasal cavity or respiratory system.</li>
<li>Always carry out a sprinkle test experiment before staining pressure treated wood to ascertain dryness level before staining the surface.</li>
<li>Consider the type of wooden material for your structure before selecting a wood stain to use or the method of application to select.</li>
<li>Remained stain should always be kept away from the reach of children and pets.</li>
<li>Flammable stains should not be applied to wooden structures used near a fireplace.</li>
<li>Carry out a drop test experiment before actual staining to ascertain stain stickiness level on a particular wooden surface.</li>
<li>Always follow the manufacturers instructions when preparing stain for pressure treated wooden structures.</li>
<li>Always clean the strain mess before it dries out.</li>
<li>Never touch stained pressure treated wood after stain application before it&rsquo;s fully cured.</li>
</ol>
<blockquote>
<p>See Also:
<a href="https://pestpolicy.com/best-paint-sprayer-for-fence-stain/">Paint Sprayer for Fence Stain</a></p></blockquote>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">¶</a></h2>
<p>Having read how to stain pressure treated wood, I believe you can comfortably stain your wooden structure excellently without any problem.
When staining, you need to select the right items, prepare the surface, choose the right stain, and prep where necessary before carrying out actual staining.
Besides, it would help prepare the stain as per the manufacturers instructions and give the stained surface sufficient time to dry before applying a second coat if need be. Notably, wear protective gear during stain application.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/how-to-stain-a-playset/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>How to Stain a Playset</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/how-to-stop-geese-from-pooping-in-yard/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>How to Stop Geese from Pooping in Yard</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span style="display: inline-block; margin-left: 1em; font-size: 18px;">
    We may earn a commission when you click and buy from Amazon.com.
  <span style="display: inline-block; margin-left: 1em;">
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>




<script>
  
  
  (function() {
    const enableTocScroll = '' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
